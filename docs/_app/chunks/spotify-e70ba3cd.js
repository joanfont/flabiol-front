import{S as pe,i as ge,s as _e,e as v,k as N,c as b,a as _,d as h,m as V,b as d,g as A,I as f,K as ye,t as E,h as I,j as ee,w as fe,G as W,x as de,H as X,y as he,J as te,q as H,o as G,B as me,L as yt,v as vt,N as Et,O as It,P as St,Q as Dt,Y as $t,n as bt,p as wt,l as $e,Z as st,_ as Nt,$ as Vt,a0 as At,a1 as Tt,a2 as lt}from"./vendor-07d2357a.js";import{t as K,b as L,c as x,s as we,a as ke,r as Pt}from"./store-df48381b.js";function Ct(o){let e,t,s,l,r,a,c,n,i,u,p,m,w,k,g,y,S,P;return{c(){e=v("div"),t=v("div"),l=N(),r=v("div"),c=N(),n=v("div"),u=N(),p=v("div"),w=N(),k=v("div"),y=N(),S=v("div"),this.h()},l($){e=b($,"DIV",{class:!0});var D=_(e);t=b(D,"DIV",{class:!0}),_(t).forEach(h),l=V(D),r=b(D,"DIV",{class:!0}),_(r).forEach(h),c=V(D),n=b(D,"DIV",{class:!0}),_(n).forEach(h),u=V(D),p=b(D,"DIV",{class:!0}),_(p).forEach(h),w=V(D),k=b(D,"DIV",{class:!0}),_(k).forEach(h),y=V(D),S=b(D,"DIV",{class:!0}),_(S).forEach(h),D.forEach(h),this.h()},h(){d(t,"class",s=`w-2/12 ${o[1](0,o[0].attempts)} border-r border-l`),d(r,"class",a=`w-2/12 ${o[1](1,o[0].attempts)} border-r border-l`),d(n,"class",i=`w-4/12 ${o[1](2,o[0].attempts)} border-r border-l`),d(p,"class",m=`w-4/12 ${o[1](3,o[0].attempts)} border-r border-l`),d(k,"class",g=`w-6/12 ${o[1](4,o[0].attempts)} border-r border-l`),d(S,"class",P=`w-6/12 ${o[1](5,o[0].attempts)} border-r border-l`),d(e,"class","max-w-3xl mx-auto flex h-3")},m($,D){A($,e,D),f(e,t),f(e,l),f(e,r),f(e,c),f(e,n),f(e,u),f(e,p),f(e,w),f(e,k),f(e,y),f(e,S)},p($,[D]){D&1&&s!==(s=`w-2/12 ${$[1](0,$[0].attempts)} border-r border-l`)&&d(t,"class",s),D&1&&a!==(a=`w-2/12 ${$[1](1,$[0].attempts)} border-r border-l`)&&d(r,"class",a),D&1&&i!==(i=`w-4/12 ${$[1](2,$[0].attempts)} border-r border-l`)&&d(n,"class",i),D&1&&m!==(m=`w-4/12 ${$[1](3,$[0].attempts)} border-r border-l`)&&d(p,"class",m),D&1&&g!==(g=`w-6/12 ${$[1](4,$[0].attempts)} border-r border-l`)&&d(k,"class",g),D&1&&P!==(P=`w-6/12 ${$[1](5,$[0].attempts)} border-r border-l`)&&d(S,"class",P)},i:ye,o:ye,d($){$&&h(e)}}}function Mt(o,e,t){let{attempt:s}=e;const l=(r,a)=>{let c="bg-black opacity-40";return a===r&&!s.correct?c="bg-blue-500":a===r+1&&s.correct?c="bg-green-600":a>r&&s.guesses[r].artistCorrect?c="bg-amber-400":a>r&&!s.guesses[r].song?c="bg-gray-500":a>r&&(c="bg-red-600"),c};return o.$$set=r=>{"attempt"in r&&t(0,s=r.attempt)},[s,l]}class jt extends pe{constructor(e){super();ge(this,e,Mt,Ct,_e,{attempt:0})}}function rt(o){let e,t;return{c(){e=v("div"),t=E(o[4]),this.h()},l(s){e=b(s,"DIV",{class:!0});var l=_(e);t=I(l,o[4]),l.forEach(h),this.h()},h(){d(e,"class","flex flex-1 justify-start font-mono")},m(s,l){A(s,e,l),f(e,t)},p(s,l){l&16&&ee(t,s[4])},d(s){s&&h(e)}}}function ot(o){let e,t=Math.floor(o[3]/60)+":"+(Math.round(o[3]%60)<10?"0"+Math.round(o[3]%60):Math.round(o[3]%60)),s;return{c(){e=v("div"),s=E(t),this.h()},l(l){e=b(l,"DIV",{class:!0});var r=_(e);s=I(r,t),r.forEach(h),this.h()},h(){d(e,"class","flex flex-1 justify-end font-mono")},m(l,r){A(l,e,r),f(e,s)},p(l,r){r&8&&t!==(t=Math.floor(l[3]/60)+":"+(Math.round(l[3]%60)<10?"0"+Math.round(l[3]%60):Math.round(l[3]%60)))&&ee(s,t)},d(l){l&&h(e)}}}function Lt(o){let e,t,s,l,r,a,c,n,i,u,p,m,w,k,g,y,S,P,$,D,U,se,J;s=new jt({props:{attempt:o[1]}});let C=o[0]&&rt(o),M=o[0]&&ot(o);return{c(){e=v("footer"),t=v("div"),fe(s.$$.fragment),l=N(),r=v("div"),a=v("div"),C&&C.c(),c=N(),n=v("div"),i=v("button"),u=W("svg"),p=W("path"),m=W("path"),k=N(),g=v("button"),y=W("svg"),S=W("path"),P=W("path"),D=N(),M&&M.c(),this.h()},l(T){e=b(T,"FOOTER",{class:!0});var j=_(e);t=b(j,"DIV",{class:!0});var B=_(t);de(s.$$.fragment,B),B.forEach(h),l=V(j),r=b(j,"DIV",{class:!0});var oe=_(r);a=b(oe,"DIV",{class:!0});var z=_(a);C&&C.l(z),c=V(z),n=b(z,"DIV",{class:!0});var Q=_(n);i=b(Q,"BUTTON",{title:!0,class:!0});var ae=_(i);u=X(ae,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0,xmlns:!0});var le=_(u);p=X(le,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),_(p).forEach(h),m=X(le,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),_(m).forEach(h),le.forEach(h),ae.forEach(h),k=V(Q),g=b(Q,"BUTTON",{title:!0,class:!0});var Z=_(g);y=X(Z,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0});var F=_(y);S=X(F,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),_(S).forEach(h),P=X(F,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),_(P).forEach(h),F.forEach(h),Z.forEach(h),Q.forEach(h),D=V(z),M&&M.l(z),z.forEach(h),oe.forEach(h),j.forEach(h),this.h()},h(){d(t,"class","border-b"),d(p,"stroke-linecap","round"),d(p,"stroke-linejoin","round"),d(p,"stroke-width","2"),d(p,"d","M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"),d(m,"stroke-linecap","round"),d(m,"stroke-linejoin","round"),d(m,"stroke-width","2"),d(m,"d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),d(u,"class","w-14 h-14 mx-auto"),d(u,"fill","none"),d(u,"stroke","currentColor"),d(u,"viewBox","0 0 24 24"),d(u,"xmlns","http://www.w3.org/2000/svg"),d(i,"title","Play Song"),d(i,"class",w=`hover:text-blue-600 transition-colors duration-200 ${o[2]?"":"hidden"}`),d(S,"stroke-linecap","round"),d(S,"stroke-linejoin","round"),d(S,"d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),d(P,"stroke-linecap","round"),d(P,"stroke-linejoin","round"),d(P,"d","M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"),d(y,"xmlns","http://www.w3.org/2000/svg"),d(y,"class","w-14 h-14 mx-auto"),d(y,"fill","none"),d(y,"viewBox","0 0 24 24"),d(y,"stroke","currentColor"),d(y,"stroke-width","2"),d(g,"title","Pause Song"),d(g,"class",$=`hover:text-blue-600 transition-colors duration-200 ${o[2]?"hidden":""}`),d(n,"class","text-center flex-1 justify-center"),d(a,"class","flex justify-evenly items-center w-full"),d(r,"class","max-w-screen-md mx-auto p-3"),d(e,"class","border-t border-white bottom-0 w-full fixed bg-gray-800")},m(T,j){A(T,e,j),f(e,t),he(s,t,null),f(e,l),f(e,r),f(r,a),C&&C.m(a,null),f(a,c),f(a,n),f(n,i),f(i,u),f(u,p),f(u,m),f(n,k),f(n,g),f(g,y),f(y,S),f(y,P),f(a,D),M&&M.m(a,null),U=!0,se||(J=[te(i,"click",o[5]),te(g,"click",o[6])],se=!0)},p(T,[j]){const B={};j&2&&(B.attempt=T[1]),s.$set(B),T[0]?C?C.p(T,j):(C=rt(T),C.c(),C.m(a,c)):C&&(C.d(1),C=null),(!U||j&4&&w!==(w=`hover:text-blue-600 transition-colors duration-200 ${T[2]?"":"hidden"}`))&&d(i,"class",w),(!U||j&4&&$!==($=`hover:text-blue-600 transition-colors duration-200 ${T[2]?"hidden":""}`))&&d(g,"class",$),T[0]?M?M.p(T,j):(M=ot(T),M.c(),M.m(a,null)):M&&(M.d(1),M=null)},i(T){U||(H(s.$$.fragment,T),U=!0)},o(T){G(s.$$.fragment,T),U=!1},d(T){T&&h(e),me(s),C&&C.d(),M&&M.d(),se=!1,yt(J)}}}function Kt(o,e,t){let s,l={attempts:0,guesses:[],correct:!1,date:new Date},r=!0,a=0,c="0:00",n,{custom:i=!1}=e;vt(()=>{i?t(1,l=K.get()):t(1,l=L.get()),t(0,s=new Audio(x.get().preview)),s.addEventListener("loadedmetadata",()=>t(3,a=s.duration)),navigator.mediaSession.setActionHandler("play",()=>null),navigator.mediaSession.setActionHandler("pause",()=>null),navigator.mediaSession.setActionHandler("seekbackward",null),navigator.mediaSession.setActionHandler("seekforward",()=>null)}),i?K.listen(m=>t(1,l=m)):L.listen(m=>t(1,l=m)),x.listen(m=>t(0,s=new Audio(m.preview))),we.listen(m=>t(2,r=m));const u=()=>{ke.track("play-song"),we.set(!1),s.play(),t(4,c="0:00");let m;const w=.08333333;switch(l.attempts){case 0:m=w;break;case 1:m=w*2;break;case 2:m=w*4;break;case 3:m=.5;break;case 4:m=.75;break;default:m=1;break}const k=l.correct?s.duration*1e3:s.duration/2*1e3*m;setTimeout(()=>{s.pause(),t(0,s.currentTime=0,s),we.set(!0),clearInterval(n)},k),n=setInterval(()=>{t(4,c=`${Math.floor(s.currentTime/60)}:${s.currentTime%60<10?"0"+Math.round(s.currentTime%60):Math.round(s.currentTime%60)}`)},1e3)},p=()=>{s.pause(),t(0,s.currentTime=0,s),we.set(!0)};return o.$$set=m=>{"custom"in m&&t(7,i=m.custom)},[s,l,r,a,c,u,p,i]}class os extends pe{constructor(e){super();ge(this,e,Kt,Lt,_e,{custom:7})}}const at=o=>({name:o.name,artist:o.artists?o.artists[0].name:"unknown artist",id:o.id,preview:o.preview_url}),kt=(o,e)=>{const t=Math.abs(o.getTime()-e.getTime());return Math.ceil(t/(1e3*60*60*24))};function Rt(o){let e,t,s,l,r;const a=o[5].default,c=Et(a,o,o[4],null);return{c(){e=v("button"),c&&c.c(),this.h()},l(n){e=b(n,"BUTTON",{title:!0,class:!0});var i=_(e);c&&c.l(i),i.forEach(h),this.h()},h(){d(e,"title",o[1]),d(e,"class",t=`p-2 text-white ${o[2]} rounded-md shadow hover:shadow-lg transition-all duration-200 ${o[0]}`)},m(n,i){A(n,e,i),c&&c.m(e,null),s=!0,l||(r=te(e,"click",o[6]),l=!0)},p(n,[i]){c&&c.p&&(!s||i&16)&&It(c,a,n,n[4],s?Dt(a,n[4],i,null):St(n[4]),null),(!s||i&2)&&d(e,"title",n[1]),(!s||i&5&&t!==(t=`p-2 text-white ${n[2]} rounded-md shadow hover:shadow-lg transition-all duration-200 ${n[0]}`))&&d(e,"class",t)},i(n){s||(H(c,n),s=!0)},o(n){G(c,n),s=!1},d(n){n&&h(e),c&&c.d(n),l=!1,r()}}}function Bt(o,e,t){let{$$slots:s={},$$scope:l}=e,{type:r}=e,{className:a=""}=e,{title:c}=e,n;switch(r){case"primary":n="bg-blue-600 hover:bg-blue-500";break;case"submit":n="bg-green-600 hover:bg-green-500";break;case"warning":n="bg-orange-600 hover:bg-orange-500";break;case"breaking":n="bg-red-600 hover:bg-red-500";break;case"muted":n="bg-gray-600 hover:bg-gray-500";break;default:n="bg-blue-600 hover:bg-blue-500";break}function i(u){$t.call(this,o,u)}return o.$$set=u=>{"type"in u&&t(3,r=u.type),"className"in u&&t(0,a=u.className),"title"in u&&t(1,c=u.title),"$$scope"in u&&t(4,l=u.$$scope)},[a,c,n,r,l,s,i]}class Ke extends pe{constructor(e){super();ge(this,e,Bt,Rt,_e,{type:3,className:0,title:1})}}function nt(o){let e,t=x.get().name+"",s,l,r=x.get().artist+"",a,c,n,i;return{c(){e=v("div"),s=E(t),l=E(" by "),a=E(r),this.h()},l(u){e=b(u,"DIV",{title:!0,class:!0});var p=_(e);s=I(p,t),l=I(p," by "),a=I(p,r),p.forEach(h),this.h()},h(){d(e,"title","Open in Spotify"),d(e,"class",c="cursor-pointer border-blue-600 border-2 h-10 p-2 my-2 w-full text-left rounded-sm bg-gray-900 overflow-ellipsis whitespace-nowrap overflow-hidden")},m(u,p){A(u,e,p),f(e,s),f(e,l),f(e,a),n||(i=te(e,"click",o[6]),n=!0)},p:ye,d(u){u&&h(e),n=!1,i()}}}function it(o){let e,t,s=kt(new Date,o[3])+"",l;return{c(){e=v("span"),t=E("audial #"),l=E(s),this.h()},l(r){e=b(r,"SPAN",{class:!0});var a=_(e);t=I(a,"audial #"),l=I(a,s),a.forEach(h),this.h()},h(){d(e,"class","my-2")},m(r,a){A(r,e,a),f(e,t),f(e,l)},p:ye,d(r){r&&h(e)}}}function ct(o){let e,t,s,l,r,a,c;return t=new Ke({props:{title:"Share Score",className:"block mx-auto",type:"submit",$$slots:{default:[zt]},$$scope:{ctx:o}}}),t.$on("click",o[5]),{c(){e=v("div"),fe(t.$$.fragment),s=N(),l=v("p"),r=E("copied to clipboard."),this.h()},l(n){e=b(n,"DIV",{class:!0});var i=_(e);de(t.$$.fragment,i),s=V(i),l=b(i,"P",{class:!0});var u=_(l);r=I(u,"copied to clipboard."),u.forEach(h),i.forEach(h),this.h()},h(){d(l,"class",a=`${o[2]?"opacity-100":"opacity-0"} text-blue-100 font-semibold transition-all duration-500 my-2`),d(e,"class","w-full mx-auto my-2")},m(n,i){A(n,e,i),he(t,e,null),f(e,s),f(e,l),f(l,r),c=!0},p(n,i){const u={};i&128&&(u.$$scope={dirty:i,ctx:n}),t.$set(u),(!c||i&4&&a!==(a=`${n[2]?"opacity-100":"opacity-0"} text-blue-100 font-semibold transition-all duration-500 my-2`))&&d(l,"class",a)},i(n){c||(H(t.$$.fragment,n),c=!0)},o(n){G(t.$$.fragment,n),c=!1},d(n){n&&h(e),me(t)}}}function zt(o){let e;return{c(){e=E("share")},l(t){e=I(t,"share")},m(t,s){A(t,e,s)},d(t){t&&h(e)}}}function Ot(o){let e,t=o[1]?!K.get().correct:!L.get().correct,s,l,r,a=o[4]()+"",c,n,i,u=t&&nt(o),p=!o[0]&&it(o),m=!o[0]&&ct(o);return{c(){e=v("div"),u&&u.c(),s=N(),p&&p.c(),l=N(),r=v("span"),c=E(a),n=N(),m&&m.c(),this.h()},l(w){e=b(w,"DIV",{class:!0});var k=_(e);u&&u.l(k),s=V(k),p&&p.l(k),l=V(k),r=b(k,"SPAN",{});var g=_(r);c=I(g,a),g.forEach(h),n=V(k),m&&m.l(k),k.forEach(h),this.h()},h(){d(e,"class","py-3")},m(w,k){A(w,e,k),u&&u.m(e,null),f(e,s),p&&p.m(e,null),f(e,l),f(e,r),f(r,c),f(e,n),m&&m.m(e,null),i=!0},p(w,[k]){k&2&&(t=w[1]?!K.get().correct:!L.get().correct),t?u?u.p(w,k):(u=nt(w),u.c(),u.m(e,s)):u&&(u.d(1),u=null),w[0]?p&&(p.d(1),p=null):p?p.p(w,k):(p=it(w),p.c(),p.m(e,l)),w[0]?m&&(bt(),G(m,1,1,()=>{m=null}),wt()):m?(m.p(w,k),k&1&&H(m,1)):(m=ct(w),m.c(),H(m,1),m.m(e,null))},i(w){i||(H(m),i=!0)},o(w){G(m),i=!1},d(w){w&&h(e),u&&u.d(),p&&p.d(),m&&m.d()}}}function Ht(o,e,t){let{forceRandom:s}=e,{custom:l}=e,r=!1;const a=new Date("3/29/2022"),c=()=>{let u="";for(const p of(l?K.get().guesses:L.get().guesses)||[])p.correct?u+="\u{1F7E9} ":p.artistCorrect?u+="\u{1F7E8} ":p.song?u+="\u{1F7E5} ":u+="\u2B1C ";for(let p=0;p<6-(l?K.get().attempts:L.get().attempts);p++)u+="\u2B1B ";return u},n=()=>{let u="custom audial #"+kt(new Date,a);u+=`
`+c();const p="https://audial.mogdan.xyz"+(l?"/custom?playlist="+new URLSearchParams(window.location.search).get("playlist"):"");u+=`
`+p,navigator.clipboard.writeText(u),t(2,r=!0),ke.track("share-score",{result:c()})},i=()=>{window.open(`https://open.spotify.com/track/${x.get().id}`,"_blank").focus()};return o.$$set=u=>{"forceRandom"in u&&t(0,s=u.forceRandom),"custom"in u&&t(1,l=u.custom)},[s,l,r,a,c,n,i]}class Ft extends pe{constructor(e){super();ge(this,e,Ht,Ot,_e,{forceRandom:0,custom:1})}}function ut(o,e,t){const s=o.slice();return s[14]=e[t],s}function ft(o,e,t){const s=o.slice();return s[14]=e[t],s}function dt(o){let e,t,s;return{c(){e=v("div"),t=v("span"),s=E("listen to the song and try to guess it correctly. you have 6 attempts."),this.h()},l(l){e=b(l,"DIV",{class:!0});var r=_(e);t=b(r,"SPAN",{class:!0});var a=_(t);s=I(a,"listen to the song and try to guess it correctly. you have 6 attempts."),a.forEach(h),r.forEach(h),this.h()},h(){d(t,"class","text-center mx-auto w-full text-blue-100"),d(e,"class","w-full px-0 sm:px-20 transition-all duration-200")},m(l,r){A(l,e,r),f(e,t),f(t,s)},d(l){l&&h(e)}}}function ht(o){let e,t,s=o[2].guesses.filter(gt),l=[];for(let c=0;c<s.length;c+=1)l[c]=mt(ft(o,s,c));let r=o[2].guesses.filter(_t),a=[];for(let c=0;c<r.length;c+=1)a[c]=pt(ut(o,r,c));return{c(){for(let c=0;c<l.length;c+=1)l[c].c();e=N();for(let c=0;c<a.length;c+=1)a[c].c();t=$e()},l(c){for(let n=0;n<l.length;n+=1)l[n].l(c);e=V(c);for(let n=0;n<a.length;n+=1)a[n].l(c);t=$e()},m(c,n){for(let i=0;i<l.length;i+=1)l[i].m(c,n);A(c,e,n);for(let i=0;i<a.length;i+=1)a[i].m(c,n);A(c,t,n)},p(c,n){if(n&4){s=c[2].guesses.filter(gt);let i;for(i=0;i<s.length;i+=1){const u=ft(c,s,i);l[i]?l[i].p(u,n):(l[i]=mt(u),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=s.length}if(n&4){r=c[2].guesses.filter(_t);let i;for(i=0;i<r.length;i+=1){const u=ut(c,r,i);a[i]?a[i].p(u,n):(a[i]=pt(u),a[i].c(),a[i].m(t.parentNode,t))}for(;i<a.length;i+=1)a[i].d(1);a.length=r.length}},d(c){st(l,c),c&&h(e),st(a,c),c&&h(t)}}}function Gt(o){let e,t;return{c(){e=v("div"),t=E("song guess skipped"),this.h()},l(s){e=b(s,"DIV",{class:!0});var l=_(e);t=I(l,"song guess skipped"),l.forEach(h),this.h()},h(){d(e,"class","border-gray-600 border-2 h-10 p-2 my-2 w-full text-left rounded-sm bg-gray-900 overflow-ellipsis whitespace-nowrap overflow-hidden")},m(s,l){A(s,e,l),f(e,t)},p:ye,d(s){s&&h(e)}}}function Ut(o){let e,t=o[14].song.name+"",s,l,r=o[14].song.artist+"",a,c,n,i;function u(){return o[9](o[14])}return{c(){e=v("div"),s=E(t),l=E(" by "),a=E(r),this.h()},l(p){e=b(p,"DIV",{title:!0,class:!0});var m=_(e);s=I(m,t),l=I(m," by "),a=I(m,r),m.forEach(h),this.h()},h(){d(e,"title","Open in Spotify"),d(e,"class",c=`cursor-pointer ${o[14].artistCorrect?"border-amber-400":"border-red-600"} border-2 h-10 p-2 my-2 w-full text-left rounded-sm bg-gray-900 overflow-ellipsis whitespace-nowrap overflow-hidden`)},m(p,m){A(p,e,m),f(e,s),f(e,l),f(e,a),n||(i=te(e,"click",u),n=!0)},p(p,m){o=p,m&4&&t!==(t=o[14].song.name+"")&&ee(s,t),m&4&&r!==(r=o[14].song.artist+"")&&ee(a,r),m&4&&c!==(c=`cursor-pointer ${o[14].artistCorrect?"border-amber-400":"border-red-600"} border-2 h-10 p-2 my-2 w-full text-left rounded-sm bg-gray-900 overflow-ellipsis whitespace-nowrap overflow-hidden`)&&d(e,"class",c)},d(p){p&&h(e),n=!1,i()}}}function mt(o){let e;function t(r,a){return r[14].song?Ut:Gt}let s=t(o),l=s(o);return{c(){l.c(),e=$e()},l(r){l.l(r),e=$e()},m(r,a){l.m(r,a),A(r,e,a)},p(r,a){s===(s=t(r))&&l?l.p(r,a):(l.d(1),l=s(r),l&&(l.c(),l.m(e.parentNode,e)))},d(r){l.d(r),r&&h(e)}}}function pt(o){let e,t=o[14].song.name+"",s,l,r=o[14].song.artist+"",a,c,n,i;function u(){return o[10](o[14])}return{c(){e=v("div"),s=E(t),l=E(" by "),a=E(r),c=N(),this.h()},l(p){e=b(p,"DIV",{title:!0,class:!0});var m=_(e);s=I(m,t),l=I(m," by "),a=I(m,r),c=V(m),m.forEach(h),this.h()},h(){d(e,"title","Open in Spotify"),d(e,"class","cursor-pointer border-green-600 border-2 h-10 p-2 my-2 w-full text-left rounded-sm bg-gray-900 overflow-ellipsis whitespace-nowrap overflow-hidden")},m(p,m){A(p,e,m),f(e,s),f(e,l),f(e,a),f(e,c),n||(i=te(e,"click",u),n=!0)},p(p,m){o=p,m&4&&t!==(t=o[14].song.name+"")&&ee(s,t),m&4&&r!==(r=o[14].song.artist+"")&&ee(a,r)},d(p){p&&h(e),n=!1,i()}}}function qt(o){let e,t;return e=new Ft({props:{custom:o[1]||o[0],forceRandom:o[0]}}),{c(){fe(e.$$.fragment)},l(s){de(e.$$.fragment,s)},m(s,l){he(e,s,l),t=!0},p(s,l){const r={};l&3&&(r.custom=s[1]||s[0]),l&1&&(r.forceRandom=s[0]),e.$set(r)},i(s){t||(H(e.$$.fragment,s),t=!0)},o(s){G(e.$$.fragment,s),t=!1},d(s){me(e,s)}}}function Yt(o){let e,t,s,l,r,a,c,n,i,u,p,m;function w(g){o[11](g)}let k={name:"song-selection",className:"w-10/12",inputClassName:"border-gray-600 border-2 w-full h-8 px-2 py-5 rounded-sm bg-gray-900 hover:border-gray-400 focus:border-gray-400 outline-none transition-all duration-200",dropdownClassName:"p-0 bg-gray-900",placeholder:`${6-o[2].attempts} ${6-o[2].attempts!==1?"attempts":"attempt"} left`,items:o[3],minCharactersToSearch:2,searchFunction:o[7],labelFieldName:"name",valueFieldName:"id",showLoadingIndicator:!0,noInputStyles:!0,hideArrow:!0,$$slots:{loading:[Zt],"no-results":[Qt],item:[Jt,({label:g,item:y})=>({12:g,13:y}),({label:g,item:y})=>(g?4096:0)|(y?8192:0)]},$$scope:{ctx:o}};return o[4]!==void 0&&(k.selectedItem=o[4]),t=new Nt({props:k}),Vt.push(()=>At(t,"selectedItem",w)),a=new Ke({props:{title:"Submit Song Guess",type:"primary",className:"w-full",$$slots:{default:[Wt]},$$scope:{ctx:o}}}),a.$on("click",o[5]),{c(){e=v("div"),fe(t.$$.fragment),l=N(),r=v("div"),fe(a.$$.fragment),c=N(),n=v("div"),i=E(`skip\r
            try`),this.h()},l(g){e=b(g,"DIV",{class:!0,title:!0});var y=_(e);de(t.$$.fragment,y),l=V(y),r=b(y,"DIV",{class:!0,title:!0});var S=_(r);de(a.$$.fragment,S),c=V(S),n=b(S,"DIV",{class:!0});var P=_(n);i=I(P,`skip\r
            try`),P.forEach(h),S.forEach(h),y.forEach(h),this.h()},h(){d(n,"class","text-gray-400 cursor-pointer text-center underline underline-offset-1"),d(r,"class","w-2/12 pl-4 mt-0.5"),d(r,"title","guess selected song"),d(e,"class","flex mt-6 mb-2"),d(e,"title","guess a song")},m(g,y){A(g,e,y),he(t,e,null),f(e,l),f(e,r),he(a,r,null),f(r,c),f(r,n),f(n,i),u=!0,p||(m=te(n,"click",o[6]),p=!0)},p(g,y){const S={};y&4&&(S.placeholder=`${6-g[2].attempts} ${6-g[2].attempts!==1?"attempts":"attempt"} left`),y&8&&(S.items=g[3]),y&532480&&(S.$$scope={dirty:y,ctx:g}),!s&&y&16&&(s=!0,S.selectedItem=g[4],Tt(()=>s=!1)),t.$set(S);const P={};y&524288&&(P.$$scope={dirty:y,ctx:g}),a.$set(P)},i(g){u||(H(t.$$.fragment,g),H(a.$$.fragment,g),u=!0)},o(g){G(t.$$.fragment,g),G(a.$$.fragment,g),u=!1},d(g){g&&h(e),me(t),me(a),p=!1,m()}}}function Jt(o){let e,t,s=o[13].name+"",l,r,a=o[13].artist+"",c;return{c(){e=v("div"),t=v("span"),l=E(s),r=E(" by "),c=E(a),this.h()},l(n){e=b(n,"DIV",{slot:!0,class:!0});var i=_(e);t=b(i,"SPAN",{});var u=_(t);l=I(u,s),r=I(u," by "),c=I(u,a),u.forEach(h),i.forEach(h),this.h()},h(){d(e,"slot","item"),d(e,"class","border-2 h-10 px-2 py-3 w-full text-left rounded-sm bg-gray-900 text-white hover:text-blue-500 hover:border-blue-500 overflow-ellipsis whitespace-nowrap overflow-hidden transition-colors duration-150")},m(n,i){A(n,e,i),f(e,t),f(t,l),f(t,r),f(t,c)},p(n,i){i&8192&&s!==(s=n[13].name+"")&&ee(l,s),i&8192&&a!==(a=n[13].artist+"")&&ee(c,a)},d(n){n&&h(e)}}}function Qt(o){let e,t,s;return{c(){e=v("div"),t=v("span"),s=E("could not find this song in our list."),this.h()},l(l){e=b(l,"DIV",{slot:!0,class:!0});var r=_(e);t=b(r,"SPAN",{});var a=_(t);s=I(a,"could not find this song in our list."),a.forEach(h),r.forEach(h),this.h()},h(){d(e,"slot","no-results"),d(e,"class","py-1")},m(l,r){A(l,e,r),f(e,t),f(t,s)},d(l){l&&h(e)}}}function Zt(o){let e,t,s;return{c(){e=v("div"),t=v("span"),s=E("searching for songs..."),this.h()},l(l){e=b(l,"DIV",{slot:!0,class:!0});var r=_(e);t=b(r,"SPAN",{});var a=_(t);s=I(a,"searching for songs..."),a.forEach(h),r.forEach(h),this.h()},h(){d(e,"slot","loading"),d(e,"class","py-1")},m(l,r){A(l,e,r),f(e,t),f(t,s)},d(l){l&&h(e)}}}function Wt(o){let e,t;return{c(){e=W("svg"),t=W("path"),this.h()},l(s){e=X(s,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0});var l=_(e);t=X(l,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),_(t).forEach(h),l.forEach(h),this.h()},h(){d(t,"stroke-linecap","round"),d(t,"stroke-linejoin","round"),d(t,"d","M13 7l5 5m0 0l-5 5m5-5H6"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"class","h-6 w-6 mx-auto"),d(e,"fill","none"),d(e,"viewBox","0 0 24 24"),d(e,"stroke","currentColor"),d(e,"stroke-width","2")},m(s,l){A(s,e,l),f(e,t)},d(s){s&&h(e)}}}function Xt(o){let e,t,s,l,r,a,c,n=o[2].attempts===0&&dt(),i=o[2].guesses&&ht(o);const u=[Yt,qt],p=[];function m(w,k){return w[2].attempts<6&&!w[2].correct?0:1}return r=m(o),a=p[r]=u[r](o),{c(){e=v("div"),n&&n.c(),t=N(),s=v("div"),i&&i.c(),l=N(),a.c(),this.h()},l(w){e=b(w,"DIV",{});var k=_(e);n&&n.l(k),t=V(k),s=b(k,"DIV",{class:!0});var g=_(s);i&&i.l(g),l=V(g),a.l(g),g.forEach(h),k.forEach(h),this.h()},h(){d(s,"class","w-full px-0 transition-all sm:px-20 items-center game")},m(w,k){A(w,e,k),n&&n.m(e,null),f(e,t),f(e,s),i&&i.m(s,null),f(s,l),p[r].m(s,null),c=!0},p(w,[k]){w[2].attempts===0?n||(n=dt(),n.c(),n.m(e,t)):n&&(n.d(1),n=null),w[2].guesses?i?i.p(w,k):(i=ht(w),i.c(),i.m(s,l)):i&&(i.d(1),i=null);let g=r;r=m(w),r===g?p[r].p(w,k):(bt(),G(p[g],1,1,()=>{p[g]=null}),wt(),a=p[r],a?a.p(w,k):(a=p[r]=u[r](w),a.c()),H(a,1),a.m(s,null))},i(w){c||(H(a),c=!0)},o(w){G(a),c=!1},d(w){w&&h(e),n&&n.d(),i&&i.d(),p[r].d()}}}const gt=o=>!o.correct,_t=o=>o.correct;function xt(o,e,t){let{forceRandom:s=!1}=e,l={},{allTracks:r=[]}=e,{custom:a=!1}=e;vt(async()=>{(new Date(L.get().date).toLocaleDateString()!==new Date().toLocaleDateString()||s)&&L.set({guesses:[],date:new Date,correct:!1,attempts:0}),a||s?(t(2,l=K.get()),K.listen(g=>t(2,l=g))):(t(2,l=L.get()),L.listen(g=>t(2,l=g)))});let c=[],n={};const i=()=>{if(!n)return;const g=[...l.guesses||[]];if(n.id===x.get().id)g.push({song:x.get(),correct:!0,artistCorrect:!0}),a||s?(K.setKey("guesses",g),K.setKey("correct",!0),K.setKey("attempts",l.attempts+1)):(L.setKey("guesses",g),L.setKey("correct",!0),L.setKey("attempts",l.attempts+1)),ke.track("guess-song",{correct:!0});else{const y=r.find(S=>S.id==n.id);g.push({song:at(y),correct:!1,artistCorrect:n.artist.includes(x.get().artist)}),a||s?(K.setKey("guesses",g),K.setKey("attempts",l.attempts+1)):(L.setKey("guesses",g),L.setKey("attempts",l.attempts+1)),ke.track("guess-song",{correct:!1})}t(4,n=void 0),we.set(!0)},u=()=>{const g=[...l.guesses||[]];g.push({song:null,correct:!1,artistCorrect:!1}),a||s?(K.setKey("guesses",g),K.setKey("attempts",l.attempts+1)):(L.setKey("guesses",g),L.setKey("attempts",l.attempts+1)),ke.track("skip-song")},p=async g=>(t(3,c=r.filter(y=>(y.name+" "+y.artists[0].name).toLowerCase().includes(g.toLowerCase()))),t(3,c=c.map(y=>at(y))),c),m=g=>{window.open(`https://open.spotify.com/track/${g.song.id}`,"_blank").focus()},w=g=>{window.open(`https://open.spotify.com/track/${g.song.id}`,"_blank").focus()};function k(g){n=g,t(4,n)}return o.$$set=g=>{"forceRandom"in g&&t(0,s=g.forceRandom),"allTracks"in g&&t(8,r=g.allTracks),"custom"in g&&t(1,a=g.custom)},[s,a,l,c,n,i,u,p,r,m,w,k]}class as extends pe{constructor(e){super();ge(this,e,xt,Xt,_e,{forceRandom:0,allTracks:8,custom:1})}}function es(o){let e;return{c(){e=E("sounds cool")},l(t){e=I(t,"sounds cool")},m(t,s){A(t,e,s)},d(t){t&&h(e)}}}function ts(o){let e,t,s,l,r,a,c,n,i,u,p,m,w,k,g,y,S,P,$,D,U,se,J,C,M,T,j,B,oe,z,Q,ae,le,Z,F,Ne,ne,Ve,Ae,Te,ve,re,Pe,ie,Ce,Me,je,ce,Y,Ee,Le,Re;return Y=new Ke({props:{title:"Close Popup",className:"mx-auto text-center block",type:"primary",$$slots:{default:[es]},$$scope:{ctx:o}}}),Y.$on("click",o[2]),{c(){e=v("div"),t=v("div"),s=N(),l=v("div"),r=v("div"),a=v("h1"),c=E("instructions"),n=N(),i=v("div"),u=v("ul"),p=v("li"),m=v("span"),w=E("press the play button"),k=N(),g=v("li"),y=v("span"),S=E("listen to the song snippet"),P=N(),$=v("li"),D=v("span"),U=E("type the name of the song or song artist into the box"),se=N(),J=v("li"),C=v("span"),M=E("if you get the song incorrect or press skip, more of the song will be revealed"),T=N(),j=v("li"),B=v("span"),oe=E("a "),z=v("span"),Q=E("red result"),ae=E(" means you guessed incorrectly."),le=N(),Z=v("li"),F=v("span"),Ne=E("a "),ne=v("span"),Ve=E("yellow result"),Ae=E(" means the artist was correct."),Te=N(),ve=v("li"),re=v("span"),Pe=E("a "),ie=v("span"),Ce=E("green result"),Me=E(" means your guess was correct!"),je=N(),ce=v("div"),fe(Y.$$.fragment),this.h()},l(O){e=b(O,"DIV",{});var q=_(e);t=b(q,"DIV",{class:!0}),_(t).forEach(h),s=V(q),l=b(q,"DIV",{class:!0});var be=_(l);r=b(be,"DIV",{class:!0});var ue=_(r);a=b(ue,"H1",{class:!0});var Be=_(a);c=I(Be,"instructions"),Be.forEach(h),n=V(ue),i=b(ue,"DIV",{class:!0});var ze=_(i);u=b(ze,"UL",{class:!0});var R=_(u);p=b(R,"LI",{});var Oe=_(p);m=b(Oe,"SPAN",{});var He=_(m);w=I(He,"press the play button"),He.forEach(h),Oe.forEach(h),k=V(R),g=b(R,"LI",{});var Fe=_(g);y=b(Fe,"SPAN",{});var Ge=_(y);S=I(Ge,"listen to the song snippet"),Ge.forEach(h),Fe.forEach(h),P=V(R),$=b(R,"LI",{});var Ue=_($);D=b(Ue,"SPAN",{});var qe=_(D);U=I(qe,"type the name of the song or song artist into the box"),qe.forEach(h),Ue.forEach(h),se=V(R),J=b(R,"LI",{});var Ye=_(J);C=b(Ye,"SPAN",{});var Je=_(C);M=I(Je,"if you get the song incorrect or press skip, more of the song will be revealed"),Je.forEach(h),Ye.forEach(h),T=V(R),j=b(R,"LI",{});var Qe=_(j);B=b(Qe,"SPAN",{});var Ie=_(B);oe=I(Ie,"a "),z=b(Ie,"SPAN",{class:!0});var Ze=_(z);Q=I(Ze,"red result"),Ze.forEach(h),ae=I(Ie," means you guessed incorrectly."),Ie.forEach(h),Qe.forEach(h),le=V(R),Z=b(R,"LI",{});var We=_(Z);F=b(We,"SPAN",{});var Se=_(F);Ne=I(Se,"a "),ne=b(Se,"SPAN",{class:!0});var Xe=_(ne);Ve=I(Xe,"yellow result"),Xe.forEach(h),Ae=I(Se," means the artist was correct."),Se.forEach(h),We.forEach(h),Te=V(R),ve=b(R,"LI",{});var xe=_(ve);re=b(xe,"SPAN",{});var De=_(re);Pe=I(De,"a "),ie=b(De,"SPAN",{class:!0});var et=_(ie);Ce=I(et,"green result"),et.forEach(h),Me=I(De," means your guess was correct!"),De.forEach(h),xe.forEach(h),R.forEach(h),ze.forEach(h),je=V(ue),ce=b(ue,"DIV",{class:!0});var tt=_(ce);de(Y.$$.fragment,tt),tt.forEach(h),ue.forEach(h),be.forEach(h),q.forEach(h),this.h()},h(){d(t,"class","flex overflow-y-auto overflow-x-hidden fixed absolute right-0 left-0 z-40 justify-center items-center h-modal md:h-full md:inset-0 bg-black opacity-50"),d(a,"class","text-3xl mx-auto text-center"),d(z,"class","text-red-500"),d(ne,"class","text-amber-400"),d(ie,"class","text-green-500"),d(u,"class","text-left"),d(i,"class","p-4"),d(ce,"class","w-full"),d(r,"class","relative rounded-lg mt-6 bg-gray-700 p-3 opacity-100 shadow"),d(l,"class","relative px-4 w-full max-w-2xl h-full md:h-auto mx-auto z-50"),lt(e,"hidden",o[0])},m(O,q){A(O,e,q),f(e,t),f(e,s),f(e,l),f(l,r),f(r,a),f(a,c),f(r,n),f(r,i),f(i,u),f(u,p),f(p,m),f(m,w),f(u,k),f(u,g),f(g,y),f(y,S),f(u,P),f(u,$),f($,D),f(D,U),f(u,se),f(u,J),f(J,C),f(C,M),f(u,T),f(u,j),f(j,B),f(B,oe),f(B,z),f(z,Q),f(B,ae),f(u,le),f(u,Z),f(Z,F),f(F,Ne),f(F,ne),f(ne,Ve),f(F,Ae),f(u,Te),f(u,ve),f(ve,re),f(re,Pe),f(re,ie),f(ie,Ce),f(re,Me),f(r,je),f(r,ce),he(Y,ce,null),Ee=!0,Le||(Re=te(t,"click",o[1]),Le=!0)},p(O,[q]){const be={};q&8&&(be.$$scope={dirty:q,ctx:O}),Y.$set(be),q&1&&lt(e,"hidden",O[0])},i(O){Ee||(H(Y.$$.fragment,O),Ee=!0)},o(O){G(Y.$$.fragment,O),Ee=!1},d(O){O&&h(e),me(Y),Le=!1,Re()}}}function ss(o,e,t){let{hidden:s=!0}=e;const l=()=>t(0,s=!0),r=()=>{t(0,s=!0),Pt.set(!0)};return o.$$set=a=>{"hidden"in a&&t(0,s=a.hidden)},[s,l,r]}class ns extends pe{constructor(e){super();ge(this,e,ss,ts,_e,{hidden:0})}}const is=async(o,e)=>await(await fetch(`https://us-central1-audial-6e1bd.cloudfunctions.net/daily?playlist=${o.id}&random=${e}`,{method:"GET",cache:"reload"})).json();export{Ke as B,os as F,as as G,ns as I,at as c,is as g};
