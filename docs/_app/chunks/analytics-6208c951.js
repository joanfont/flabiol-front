function tt(e,t,n,r,i){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e}var Pe="undefined",nt="object",_t="any",jt="*",ne="__",$e=typeof process!="undefined"?process:{};$e.env&&$e.env.NODE_ENV;var W=typeof window!="undefined";$e.versions!=null&&$e.versions.node!=null;typeof Deno!="undefined"&&Deno.core;W&&window.name==="nodejs"||typeof navigator!="undefined"&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom"));function Nt(e,t){return t.charAt(0)[e]()+t.slice(1)}var Gt=Nt.bind(null,"toUpperCase"),Qt=Nt.bind(null,"toLowerCase");function Yt(e){return kt(e)?Gt("null"):typeof e=="object"?nn(e):Object.prototype.toString.call(e).slice(8,-1)}function Le(e,t){t===void 0&&(t=!0);var n=Yt(e);return t?Qt(n):n}function Oe(e,t){return typeof t===e}var G=Oe.bind(null,"function"),se=Oe.bind(null,"string"),ue=Oe.bind(null,"undefined"),Zt=Oe.bind(null,"boolean");Oe.bind(null,"symbol");function kt(e){return e===null}function Kt(e){return Le(e)==="number"&&!isNaN(e)}function en(e){return Le(e)==="array"}function X(e){if(!tn(e))return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function tn(e){return e&&(typeof e=="object"||e!==null)}function nn(e){return G(e.constructor)?e.constructor.name:null}function rn(e){return e instanceof Error||se(e.message)&&e.constructor&&Kt(e.constructor.stackTraceLimit)}function At(e,t){if(typeof t!="object"||kt(t))return!1;if(t instanceof e)return!0;var n=Le(new e(""));if(rn(t))for(;t;){if(Le(t)===n)return!0;t=Object.getPrototypeOf(t)}return!1}At.bind(null,TypeError);At.bind(null,SyntaxError);function Me(e,t){var n=e instanceof Element||e instanceof HTMLDocument;return n&&t?an(e,t):n}function an(e,t){return t===void 0&&(t=""),e&&e.nodeName===t.toUpperCase()}function ze(e){var t=[].slice.call(arguments,1);return function(){return e.apply(void 0,[].slice.call(arguments).concat(t))}}ze(Me,"form");ze(Me,"button");ze(Me,"input");ze(Me,"select");function rt(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function on(){if(W){var e=navigator,t=e.languages;return e.userLanguage||(t&&t.length?t[0]:e.language)}}function un(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}}function cn(e){return function(t){for(var n,r=Object.create(null),i=/([^&=]+)=?([^&]*)/g;n=i.exec(t);){var u=rt(n[1]),c=rt(n[2]);u.substring(u.length-2)==="[]"?(r[u=u.substring(0,u.length-2)]||(r[u]=[])).push(c):r[u]=c===""||c}for(var l in r){var d=l.split("[");d.length>1&&(sn(r,d.map(function(g){return g.replace(/[?[\]\\ ]/g,"")}),r[l]),delete r[l])}return r}(function(t){if(t){var n=t.match(/\?(.*)/);return n&&n[1]?n[1].split("#")[0]:""}return W&&window.location.search.substring(1)}(e))}function sn(e,t,n){for(var r=t.length-1,i=0;i<r;++i){var u=t[i];if(u==="__proto__"||u==="constructor")break;u in e||(e[u]={}),e=e[u]}e[t[r]]=n}function De(){for(var e="",t=0,n=4294967295*Math.random()|0;t++<36;){var r="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx"[t-1],i=15&n;e+=r=="-"||r=="4"?r:(r=="x"?i:3&i|8).toString(16),n=t%8==0?4294967295*Math.random()|0:n>>4}return e}var be="global",de=ne+"global"+ne,ge=typeof self===nt&&self.self===self&&self||typeof global===nt&&global.global===global&&global||void 0;function re(e){return ge[de][e]}function ie(e,t){return ge[de][e]=t}function ve(e){delete ge[de][e]}function ye(e,t,n){var r;try{if(He(e)){var i=window[e];r=i[t].bind(i)}}catch{}return r||n}ge[de]||(ge[de]={});var Ee={};function He(e){if(typeof Ee[e]!==Pe)return Ee[e];try{var t=window[e];t.setItem(Pe,Pe),t.removeItem(Pe)}catch{return Ee[e]=!1}return Ee[e]=!0}function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}var Z="function",Q="undefined",ln="@@redux/"+Math.random().toString(36),it=function(){return typeof Symbol===Z&&Symbol.observable||"@@observable"}(),_e=" != "+Z;function Tt(e,t,n){var r;if(typeof t===Z&&typeof n===Q&&(n=t,t=void 0),typeof n!==Q){if(typeof n!==Z)throw new Error("enhancer"+_e);return n(Tt)(e,t)}if(typeof e!==Z)throw new Error("reducer"+_e);var i=e,u=t,c=[],l=c,d=!1;function g(){l===c&&(l=c.slice())}function S(){return u}function p(m){if(typeof m!==Z)throw new Error("Listener"+_e);var x=!0;return g(),l.push(m),function(){if(x){x=!1,g();var b=l.indexOf(m);l.splice(b,1)}}}function P(m){if(!X(m))throw new Error("Act != obj");if(typeof m.type===Q)throw new Error("ActType "+Q);if(d)throw new Error("Dispatch in reducer");try{d=!0,u=i(u,m)}finally{d=!1}for(var x=c=l,b=0;b<x.length;b++)(0,x[b])();return m}return P({type:"@@redux/INIT"}),(r={dispatch:P,subscribe:p,getState:S,replaceReducer:function(m){if(typeof m!==Z)throw new Error("next reducer"+_e);i=m,P({type:"@@redux/INIT"})}})[it]=function(){var m,x=p;return(m={subscribe:function(b){if(typeof b!="object")throw new TypeError("Observer != obj");function h(){b.next&&b.next(S())}return h(),{unsubscribe:x(h)}}})[it]=function(){return this},m},r}function fn(e,t){var n=t&&t.type;return"action "+(n&&n.toString()||"?")+"reducer "+e+" returns "+Q}function me(){var e=[].slice.call(arguments);return e.length===0?function(t){return t}:e.length===1?e[0]:e.reduce(function(t,n){return function(){return t(n.apply(void 0,[].slice.call(arguments)))}})}function pn(){var e=arguments;return function(t){return function(n,r,i){var u,c=t(n,r,i),l=c.dispatch,d={getState:c.getState,dispatch:function(g){return l(g)}};return u=[].slice.call(e).map(function(g){return g(d)}),y({},c,{dispatch:l=me.apply(void 0,u)(c.dispatch)})}}}var K=ne+"anon_id",te=ne+"user_id",le=ne+"user_traits",Y="userId",ce="anonymousId",Te=["bootstrap","params","campaign","initializeStart","initialize","initializeEnd","ready","resetStart","reset","resetEnd","pageStart","page","pageEnd","pageAborted","trackStart","track","trackEnd","trackAborted","identifyStart","identify","identifyEnd","identifyAborted","userIdChanged","registerPlugins","enablePlugin","disablePlugin","online","offline","setItemStart","setItem","setItemEnd","setItemAborted","removeItemStart","removeItem","removeItemEnd","removeItemAborted"],Fe=["name","EVENTS","config","loaded"],v=Te.reduce(function(e,t){return e[t]=t,e},{registerPluginType:function(e){return"registerPlugin:"+e},pluginReadyType:function(e){return"ready:"+e}}),at=/^utm_/,ot=/^an_prop_/,ut=/^an_trait_/;function dn(e){var t=e.storage.setItem;return function(n){return function(r){return function(i){if(i.type===v.bootstrap){var u=i.params,c=i.user,l=i.persistedUser,d=i.initialUser,g=l.userId===c.userId;l.anonymousId!==c.anonymousId&&t(K,c.anonymousId),g||t(te,c.userId),d.traits&&t(le,y({},g&&l.traits?l.traits:{},d.traits));var S=Object.keys(i.params);if(S.length){var p=u.an_uid,P=u.an_event,m=S.reduce(function(x,b){if(b.match(at)||b.match(/^(d|g)clid/)){var h=b.replace(at,"");x.campaign[h==="campaign"?"name":h]=u[b]}return b.match(ot)&&(x.props[b.replace(ot,"")]=u[b]),b.match(ut)&&(x.traits[b.replace(ut,"")]=u[b]),x},{campaign:{},props:{},traits:{}});n.dispatch(y({type:v.params,raw:u},m,p?{userId:p}:{})),p&&setTimeout(function(){return e.identify(p,m.traits)},0),P&&setTimeout(function(){return e.track(P,m.props)},0),Object.keys(m.campaign).length&&n.dispatch({type:v.campaign,campaign:m.campaign})}}return r(i)}}}}function gn(e){return function(t,n){if(t===void 0&&(t={}),n===void 0&&(n={}),n.type===v.setItemEnd){if(n.key===K)return y({},t,{anonymousId:n.value});if(n.key===te)return y({},t,{userId:n.value})}switch(n.type){case v.identify:return Object.assign({},t,{userId:n.userId,traits:y({},t.traits,n.traits)});case v.reset:return[te,K,le].forEach(function(r){e.removeItem(r)}),Object.assign({},t,{userId:null,anonymousId:null,traits:{}});default:return t}}}function ct(e){return{userId:e.getItem(te),anonymousId:e.getItem(K),traits:e.getItem(le)}}var We=function(e){return ne+"TEMP"+ne+e};function mn(e){var t=e.storage,n=t.setItem,r=t.removeItem,i=t.getItem;return function(u){return function(c){return function(l){var d=l.userId,g=l.traits,S=l.options;if(l.type===v.reset&&([te,le,K].forEach(function(m){r(m)}),[Y,ce,"traits"].forEach(function(m){ve(We(m))})),l.type===v.identify){i(K)||n(K,De());var p=i(te),P=i(le)||{};p&&p!==d&&u.dispatch({type:v.userIdChanged,old:{userId:p,traits:P},new:{userId:d,traits:g},options:S}),d&&n(te,d),g&&n(le,y({},P,g))}return c(l)}}}}var he={};function st(e,t){he[e]&&G(he[e])&&(he[e](t),delete he[e])}function $t(e,t,n){return new Promise(function(r,i){return t()?r(e):n<1?i(y({},e,{queue:!0})):new Promise(function(u){return setTimeout(u,10)}).then(function(u){return $t(e,t,n-10).then(r,i)})})}function Lt(e,t,n){var r=t(),i=e.getState(),u=i.plugins,c=i.queue,l=i.user;if(!i.context.offline&&c&&c.actions&&c.actions.length){var d=c.actions.reduce(function(S,p,P){return u[p.plugin].loaded?(S.process.push(p),S.processIndex.push(P)):(S.requeue.push(p),S.requeueIndex.push(P)),S},{processIndex:[],process:[],requeue:[],requeueIndex:[]});if(d.processIndex&&d.processIndex.length){d.processIndex.forEach(function(S){var p=c.actions[S],P=p.plugin,m=p.payload.type,x=r[P][m];if(x&&G(x)){var b=function(w,E){return w===void 0&&(w={}),E===void 0&&(E={}),[Y,ce].reduce(function(N,s){return w.hasOwnProperty(s)&&E[s]&&E[s]!==w[s]&&(N[s]=E[s]),N},w)}(p.payload,l);x({payload:b,config:u[P].config,instance:n});var h=m+":"+P;e.dispatch(y({},b,{type:h,_:{called:h,from:"queueDrain"}}))}});var g=c.actions.filter(function(S,p){return!~d.processIndex.indexOf(p)});c.actions=g}}}var Ve=function(e){var t=e.data,n=e.action,r=e.instance,i=e.state,u=e.allPlugins,c=e.allMatches,l=e.store,d=e.EVENTS;try{var g=i.plugins,S=i.context,p=n.type,P=p.match(fe),m=t.exact.map(function(h){return h.pluginName});P&&(m=c.during.map(function(h){return h.pluginName}));var x=function(h,w){return function(E,N,s){var I=N.config,T=N.name,z=T+"."+E.type;s&&(z=s.event);var k=E.type.match(fe)?function($,C,R,U,J){return function(_,D){var F=U?U.name:$,B=D&&xe(D)?D:R;if(U&&(!(B=D&&xe(D)?D:[$]).includes($)||B.length!==1))throw new Error("Method "+C+" can only abort "+$+" plugin. "+JSON.stringify(B)+" input valid");return y({},J,{abort:{reason:_,plugins:B,caller:C,_:F}})}}(T,z,w,s,E):function($,C){return function(){throw new Error($.type+" action not cancellable. Remove abort in "+C)}}(E,z);return{payload:vn(E),instance:h,config:I||{},abort:k}}}(r,m),b=t.exact.reduce(function(h,w){var E=w.pluginName,N=w.methodName,s=!1;return N.match(/^initialize/)||N.match(/^reset/)||(s=!g[E].loaded),S.offline&&N.match(/^(page|track|identify)/)&&(s=!0),h[""+E]=s,h},{});return Promise.resolve(t.exact.reduce(function(h,w,E){var N=w.pluginName;return Promise.resolve(h).then(function(s){function I(){return Promise.resolve(s)}var T=function(){if(t.namespaced&&t.namespaced[N])return Promise.resolve(t.namespaced[N].reduce(function(z,k,$){return Promise.resolve(z).then(function(C){return k.method&&G(k.method)?(function(_,D){var F=vt(_);if(F&&F.name===D){var B=vt(F.method);throw new Error([D+" plugin is calling method "+_,"Plugins cant call self","Use "+F.method+" "+(B?"or "+B.method:"")+" in "+D+" plugin insteadof "+_].join(`
`))}}(k.methodName,k.pluginName),Promise.resolve(k.method({payload:C,instance:r,abort:(R=C,U=N,J=k.pluginName,function(_,D){return y({},R,{abort:{reason:_,plugins:D||[U],caller:p,from:J||U}})}),config:pt(k.pluginName,g,u),plugins:g})).then(function(_){var D=X(_)?_:{};return Promise.resolve(y({},C,D))})):C;var R,U,J})},Promise.resolve(n))).then(function(z){s[N]=z});s[N]=n}();return T&&T.then?T.then(I):I()})},Promise.resolve({}))).then(function(h){return Promise.resolve(t.exact.reduce(function(w,E,N){try{var s=t.exact.length===N+1,I=E.pluginName,T=u[I];return Promise.resolve(w).then(function(z){var k=h[I]?h[I]:{};if(P&&(k=z),Be(k,I))return Re({data:k,method:p,instance:r,pluginName:I,store:l}),Promise.resolve(z);if(Be(z,I))return s&&Re({data:z,method:p,instance:r,store:l}),Promise.resolve(z);if(b.hasOwnProperty(I)&&b[I]===!0)return l.dispatch({type:"queue",plugin:I,payload:k,_:{called:"queue",from:"queueMechanism"}}),Promise.resolve(z);var $=x(h[I],u[I]);return Promise.resolve(T[p]({abort:$.abort,payload:k,instance:r,config:pt(I,g,u),plugins:g})).then(function(C){var R=X(C)?C:{},U=y({},z,R),J=h[I];if(Be(J,I))Re({data:J,method:p,instance:r,pluginName:I,store:l});else{var _=p+":"+I;(_.match(/:/g)||[]).length<2&&!p.match(lt)&&!p.match(ft)&&r.dispatch(y({},P?U:k,{type:_,_:{called:_,from:"submethod"}}))}return Promise.resolve(U)})})}catch(z){return Promise.reject(z)}},Promise.resolve(n))).then(function(w){if(!(p.match(fe)||p.match(/^registerPlugin/)||p.match(ft)||p.match(lt)||p.match(/^params/)||p.match(/^userIdChanged/))){if(d.plugins.includes(p),w._&&w._.originalAction===p)return w;var E=y({},w,{_:{originalAction:w.type,called:w.type,from:"engineEnd"}});Mt(w,t.exact.length)&&!p.match(/End$/)&&(E=y({},E,{type:w.type+"Aborted"})),l.dispatch(E)}return w})})}catch(h){return Promise.reject(h)}},fe=/Start$/,lt=/^bootstrap/,ft=/^ready/;function Re(e){var t=e.pluginName,n=e.method+"Aborted"+(t?":"+t:"");e.store.dispatch(y({},e.data,{type:n,_:{called:n,from:"abort"}}))}function pt(e,t,n){var r=t[e]||n[e];return r&&r.config?r.config:{}}function dt(e,t){return t.reduce(function(n,r){return r[e]?n.concat({methodName:e,pluginName:r.name,method:r[e]}):n},[])}function gt(e,t){var n=e.replace(fe,""),r=t?":"+t:"";return[""+e+r,""+n+r,n+"End"+r]}function Be(e,t){var n=e.abort;return!!n&&(n===!0||mt(n,t)||n&&mt(n.plugins,t))}function Mt(e,t){var n=e.abort;if(!n)return!1;if(n===!0||se(n))return!0;var r=n.plugins;return xe(n)&&n.length===t||xe(r)&&r.length===t}function xe(e){return Array.isArray(e)}function mt(e,t){return!(!e||!xe(e))&&e.includes(t)}function vt(e){var t=e.match(/(.*):(.*)/);return!!t&&{method:t[1],name:t[2]}}function vn(e){return Object.keys(e).reduce(function(t,n){return n==="type"||(t[n]=X(e[n])?Object.assign({},e[n]):e[n]),t},{})}function yn(e,t,n){var r={};return function(i){return function(u){return function(c){try{var l,d=function(s){return l?s:u(p)},g=c.type,S=c.plugins,p=c;if(c.abort)return Promise.resolve(u(c));if(g===v.enablePlugin&&i.dispatch({type:v.initializeStart,plugins:S,disabled:[],fromEnable:!0,meta:c.meta}),g===v.disablePlugin&&setTimeout(function(){return st(c.meta.rid,{payload:c})},0),g===v.initializeEnd){var P=t(),m=Object.keys(P),x=m.filter(function(s){return S.includes(s)}).map(function(s){return P[s]}),b=[],h=[],w=c.disabled,E=x.map(function(s){var I=s.name;return $t(s,s.loaded,1e4).then(function(T){return r[I]||(i.dispatch({type:v.pluginReadyType(I),name:I,events:Object.keys(s).filter(function(z){return!Fe.includes(z)})}),r[I]=!0),b=b.concat(I),s}).catch(function(T){if(T instanceof Error)throw new Error(T);return h=h.concat(T.name),T})});Promise.all(E).then(function(s){var I={plugins:b,failed:h,disabled:w};setTimeout(function(){m.length===E.length+w.length&&i.dispatch(y({},{type:v.ready},I))},0)})}var N=function(){if(g!==v.bootstrap)return/^ready:([^:]*)$/.test(g)&&setTimeout(function(){return Lt(i,t,e)},0),Promise.resolve(function(s,I,T,z,k){try{var $=G(I)?I():I,C=s.type,R=C.replace(fe,"");if(s._&&s._.called)return Promise.resolve(s);var U=T.getState(),J=(F=$,(B=U.plugins)===void 0&&(B={}),(o=s.options)===void 0&&(o={}),Object.keys(F).filter(function(a){var f=o.plugins||{};return Zt(f[a])?f[a]:f.all!==!1&&(!B[a]||B[a].enabled!==!1)}).map(function(a){return F[a]}));C===v.initializeStart&&s.fromEnable&&(J=Object.keys(U.plugins).filter(function(a){var f=U.plugins[a];return s.plugins.includes(a)&&!f.initialized}).map(function(a){return $[a]}));var _=J.map(function(a){return a.name}),D=function(a,f,j){var A=gt(a).map(function(O){return dt(O,f)});return f.reduce(function(O,V){var L=V.name,q=gt(a,L).map(function(oe){return dt(oe,f)}),M=q[0],H=q[1],ae=q[2];return M.length&&(O.beforeNS[L]=M),H.length&&(O.duringNS[L]=H),ae.length&&(O.afterNS[L]=ae),O},{before:A[0],beforeNS:{},during:A[1],duringNS:{},after:A[2],afterNS:{}})}(C,J);return Promise.resolve(Ve({action:s,data:{exact:D.before,namespaced:D.beforeNS},state:U,allPlugins:$,allMatches:D,instance:T,store:z,EVENTS:k})).then(function(a){function f(){var O=function(){if(C.match(fe))return Promise.resolve(Ve({action:y({},j,{type:R+"End"}),data:{exact:D.after,namespaced:D.afterNS},state:U,allPlugins:$,allMatches:D,instance:T,store:z,EVENTS:k})).then(function(V){V.meta&&V.meta.hasCallback&&st(V.meta.rid,{payload:V})})}();return O&&O.then?O.then(function(){return a}):a}if(Mt(a,_.length))return a;var j,A=function(){if(C!==R)return Promise.resolve(Ve({action:y({},a,{type:R}),data:{exact:D.during,namespaced:D.duringNS},state:U,allPlugins:$,allMatches:D,instance:T,store:z,EVENTS:k})).then(function(O){j=O});j=a}();return A&&A.then?A.then(f):f()})}catch(a){return Promise.reject(a)}var F,B,o}(c,t,e,i,n)).then(function(s){var I=u(s);return l=1,I})}();return Promise.resolve(N&&N.then?N.then(d):d(N))}catch(s){return Promise.reject(s)}}}}}function hn(e){return function(t){return function(n){return function(r){var i=r.type,u=r.key,c=r.value,l=r.options;if(i===v.setItem||i===v.removeItem){if(r.abort)return n(r);i===v.setItem?e.setItem(u,c,l):e.removeItem(u,l)}return n(r)}}}}var bn=function(){var e=this;this.before=[],this.after=[],this.addMiddleware=function(t,n){e[n]=e[n].concat(t)},this.removeMiddleware=function(t,n){var r=e[n].findIndex(function(i){return i===t});r!==-1&&(e[n]=[].concat(e[n].slice(0,r),e[n].slice(r+1)))},this.dynamicMiddlewares=function(t){return function(n){return function(r){return function(i){var u={getState:n.getState,dispatch:function(l){return n.dispatch(l)}},c=e[t].map(function(l){return l(u)});return me.apply(void 0,c)(r)(i)}}}}};function wn(e){return function(t,n){t===void 0&&(t={});var r={};if(n.type==="initialize:aborted")return t;if(/^registerPlugin:([^:]*)$/.test(n.type)){var i=yt(n.type,"registerPlugin"),u=e()[i];if(!u||!i)return t;var c=n.enabled;return r[i]={enabled:c,initialized:!!c&&Boolean(!u.initialize),loaded:!!c&&Boolean(u.loaded()),config:u.config||{}},y({},t,r)}if(/^initialize:([^:]*)$/.test(n.type)){var l=yt(n.type,v.initialize),d=e()[l];return d&&l?(r[l]=y({},t[l],{initialized:!0,loaded:Boolean(d.loaded())}),y({},t,r)):t}if(/^ready:([^:]*)$/.test(n.type))return r[n.name]=y({},t[n.name],{loaded:!0}),y({},t,r);switch(n.type){case v.disablePlugin:return y({},t,ht(n.plugins,!1,t));case v.enablePlugin:return y({},t,ht(n.plugins,!0,t));default:return t}}}function yt(e,t){return e.substring(t.length+1,e.length)}function ht(e,t,n){return e.reduce(function(r,i){return r[i]=y({},n[i],{enabled:t}),r},n)}function zt(e){try{return JSON.parse(JSON.stringify(e))}catch{}return e}var In={last:{},history:[]};function Sn(e,t){e===void 0&&(e=In);var n=t.options,r=t.meta;if(t.type===v.track){var i=zt(y({event:t.event,properties:t.properties},Object.keys(n).length&&{options:n},{meta:r}));return y({},e,{last:i,history:e.history.concat(i)})}return e}var xn={actions:[]};function On(e,t){e===void 0&&(e=xn);var n=t.payload;switch(t.type){case"queue":var r;return r=n&&n.type&&n.type===v.identify?[t].concat(e.actions):e.actions.concat(t),y({},e,{actions:r});case"dequeue":return[];default:return e}}var Dt=/#.*$/;function Pn(e){var t=/(http[s]?:\/\/)?([^\/\s]+\/)(.*)/g.exec(e);return"/"+(t&&t[3]?t[3].split("?")[0].replace(Dt,""):"")}var Ct,Ut,qt,Vt,En=function(e){if(e===void 0&&(e={}),!W)return e;var t=document,n=t.title,r=t.referrer,i=window,u=i.location,c=i.innerWidth,l=i.innerHeight,d=u.hash,g=u.search,S=function(P){var m=function(){if(W){for(var x,b=document.getElementsByTagName("link"),h=0;x=b[h];h++)if(x.getAttribute("rel")==="canonical")return x.getAttribute("href")}}();return m?m.match(/\?/)?m:m+P:window.location.href.replace(Dt,"")}(g),p={title:n,url:S,path:Pn(S),hash:d,search:g,width:c,height:l};return r&&r!==""&&(p.referrer=r),y({},p,e)},_n={last:{},history:[]};function jn(e,t){e===void 0&&(e=_n);var n=t.options;if(t.type===v.page){var r=zt(y({properties:t.properties,meta:t.meta},Object.keys(n).length&&{options:n}));return y({},e,{last:r,history:e.history.concat(r)})}return e}Ct=function(){if(!W)return!1;var e=navigator.appVersion;return~e.indexOf("Win")?"Windows":~e.indexOf("Mac")?"MacOS":~e.indexOf("X11")?"UNIX":~e.indexOf("Linux")?"Linux":"Unknown OS"}(),Ut=W?document.referrer:null,qt=on(),Vt=un();var bt={initialized:!1,sessionId:De(),app:null,version:null,debug:!1,offline:!!W&&!navigator.onLine,os:{name:Ct},userAgent:W?navigator.userAgent:"node",library:{name:"analytics",version:"0.11.0"},timezone:Vt,locale:qt,campaign:{},referrer:Ut};function Nn(e,t){e===void 0&&(e=bt);var n=e.initialized,r=t.campaign;switch(t.type){case v.campaign:return y({},e,{campaign:r});case v.offline:return y({},e,{offline:!0});case v.online:return y({},e,{offline:!1});default:return n?e:y({},bt,e,{initialized:!0})}}var kn=["plugins","reducers","storage"];function An(e,t,n){if(W){var r=window[(n?"add":"remove")+"EventListener"];e.split(" ").forEach(function(i){r(i,t)})}}function Tn(e){var t=An.bind(null,"online offline",function(n){return Promise.resolve(!navigator.onLine).then(e)});return t(!0),function(n){return t(!1)}}function Rt(){return ie("analytics",[]),function(e){return function(t,n,r){var i=e(t,n,r),u=i.dispatch;return Object.assign(i,{dispatch:function(c){return ge[de].analytics.push(c.action||c),u(c)}})}}}function wt(e){return function(){return me(me.apply(null,arguments),Rt())}}function Je(e){return e?en(e)?e:[e]:[]}function It(e,t,n){e===void 0&&(e={});var r,i,u=De();return t&&(he[u]=(r=t,i=function(c){for(var l,d=c||Array.prototype.slice.call(arguments),g=0;g<d.length;g++)if(G(d[g])){l=d[g];break}return l}(n),function(c){i&&i(c),r(c)})),y({},e,{rid:u,ts:new Date().getTime()},t?{hasCallback:!0}:{})}function $n(e){e===void 0&&(e={});var t=e.reducers||{},n=e.initialUser||{},r=(e.plugins||[]).reduce(function(o,a){if(G(a))return o.middlewares=o.middlewares.concat(a),o;if(a.NAMESPACE&&(a.name=a.NAMESPACE),!a.name)throw new Error("https://lytics.dev/errors/1");var f=a.EVENTS?Object.keys(a.EVENTS).map(function(O){return a.EVENTS[O]}):[];o.pluginEnabled[a.name]=!(a.enabled===!1||a.config&&a.config.enabled===!1),delete a.enabled,a.methods&&(o.methods[a.name]=Object.keys(a.methods).reduce(function(O,V){var L;return O[V]=(L=a.methods[V],function(){for(var q=Array.prototype.slice.call(arguments),M=new Array(L.length),H=0;H<q.length;H++)M[H]=q[H];return M[M.length]=s,L.apply({instance:s},M)}),O},{}),delete a.methods);var j=Object.keys(a).concat(f),A=new Set(o.events.concat(j));if(o.events=Array.from(A),o.pluginsArray=o.pluginsArray.concat(a),o.plugins[a.name])throw new Error(a.name+"AlreadyLoaded");return o.plugins[a.name]=a,o.plugins[a.name].loaded||(o.plugins[a.name].loaded=function(){return!0}),o},{plugins:{},pluginEnabled:{},methods:{},pluginsArray:[],middlewares:[],events:[]}),i=e.storage?e.storage:{getItem:re,setItem:ie,removeItem:ve},u=function(o){return function(a,f,j){return f.getState("user")[a]||(j&&X(j)&&j[a]?j[a]:ct(o)[a]||re(We(a))||null)}}(i),c=r.plugins,l=r.events.filter(function(o){return!Fe.includes(o)}).sort(),d=new Set(l.concat(Te).filter(function(o){return!Fe.includes(o)})),g=Array.from(d).sort(),S=function(){return c},p=new bn,P=p.addMiddleware,m=p.removeMiddleware,x=p.dynamicMiddlewares,b=function(){throw new Error("Abort disabled inListener")},h=cn(),w=ct(i),E=y({},w,n,h.an_uid?{userId:h.an_uid}:{},h.an_aid?{anonymousId:h.an_aid}:{});E.anonymousId||(E.anonymousId=De());var N=y({enable:function(o,a){return new Promise(function(f){_.dispatch({type:v.enablePlugin,plugins:Je(o),_:{originalAction:v.enablePlugin}},f,[a])})},disable:function(o,a){return new Promise(function(f){_.dispatch({type:v.disablePlugin,plugins:Je(o),_:{originalAction:v.disablePlugin}},f,[a])})}},r.methods),s={identify:function(o,a,f,j){try{var A=se(o)?o:null,O=X(o)?o:a,V=f||{},L=s.user();ie(We(Y),A);var q=A||O.userId||u(Y,s,O);return Promise.resolve(new Promise(function(M){_.dispatch(y({type:v.identifyStart,userId:q,traits:O||{},options:V,anonymousId:L.anonymousId},L.id&&L.id!==A&&{previousId:L.id}),M,[a,f,j])}))}catch(M){return Promise.reject(M)}},track:function(o,a,f,j){try{var A=X(o)?o.event:o;if(!A||!se(A))throw new Error("EventMissing");var O=X(o)?o:a||{},V=X(f)?f:{};return Promise.resolve(new Promise(function(L){_.dispatch({type:v.trackStart,event:A,properties:O,options:V,userId:u(Y,s,a),anonymousId:u(ce,s,a)},L,[a,f,j])}))}catch(L){return Promise.reject(L)}},page:function(o,a,f){try{var j=X(o)?o:{},A=X(a)?a:{};return Promise.resolve(new Promise(function(O){_.dispatch({type:v.pageStart,properties:En(j),options:A,userId:u(Y,s,j),anonymousId:u(ce,s,j)},O,[o,a,f])}))}catch(O){return Promise.reject(O)}},user:function(o){if(o===Y||o==="id")return u(Y,s);if(o===ce||o==="anonId")return u(ce,s);var a=s.getState("user");return o?tt(a,o):a},reset:function(o){return new Promise(function(a){_.dispatch({type:v.resetStart},a,o)})},ready:function(o){return s.on(v.ready,o)},on:function(o,a){if(!o||!G(a))return!1;if(o===v.bootstrap)throw new Error(".on disabled for "+o);var f=/Start$|Start:/;if(o==="*"){var j=function(L){return function(q){return function(M){return M.type.match(f)&&a({payload:M,instance:s,plugins:c}),q(M)}}},A=function(L){return function(q){return function(M){return M.type.match(f)||a({payload:M,instance:s,plugins:c}),q(M)}}};return P(j,je),P(A,Ne),function(){m(j,je),m(A,Ne)}}var O=o.match(f)?je:Ne,V=function(L){return function(q){return function(M){return M.type===o&&a({payload:M,instance:s,plugins:c,abort:b}),q(M)}}};return P(V,O),function(){return m(V,O)}},once:function(o,a){if(!o||!G(a))return!1;if(o===v.bootstrap)throw new Error(".once disabled for "+o);var f=s.on(o,function(j){a({payload:j.payload,instance:s,plugins:c,abort:b}),f()});return f},getState:function(o){var a=_.getState();return o?tt(a,o):Object.assign({},a)},dispatch:function(o){var a=se(o)?{type:o}:o;if(Te.includes(a.type))throw new Error("reserved action "+a.type);var f=y({},a,{_:y({originalAction:a.type},o._||{})});_.dispatch(f)},enablePlugin:N.enable,disablePlugin:N.disable,plugins:N,storage:{getItem:i.getItem,setItem:function(o,a,f){_.dispatch({type:v.setItemStart,key:o,value:a,options:f})},removeItem:function(o,a){_.dispatch({type:v.removeItemStart,key:o,options:a})}},setAnonymousId:function(o,a){s.storage.setItem(K,o,a)},events:{core:Te,plugins:l}},I=r.middlewares.concat([function(o){return function(a){return function(f){return f.meta||(f.meta=It()),a(f)}}},x(je),yn(s,S,{all:g,plugins:l}),hn(i),dn(s),mn(s),x(Ne)]),T={context:Nn,user:gn(i),page:jn,track:Sn,plugins:wn(S),queue:On},z=me,k=me;if(W&&e.debug){var $=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__;$&&(z=$({trace:!0,traceLimit:25})),k=function(){return arguments.length===0?Rt():X(typeof arguments[0])?wt():wt().apply(null,arguments)}}var C,R=function(o){return Object.keys(o).reduce(function(a,f){return kn.includes(f)||(a[f]=o[f]),a},{})}(e),U=r.pluginsArray.reduce(function(o,a){var f=a.name,j=a.config,A=a.loaded,O=r.pluginEnabled[f];return o[f]={enabled:O,initialized:!!O&&Boolean(!a.initialize),loaded:Boolean(A()),config:j||{}},o},{}),J={context:R,user:E,plugins:U},_=Tt(function(o){for(var a=Object.keys(o),f={},j=0;j<a.length;j++){var A=a[j];typeof o[A]===Z&&(f[A]=o[A])}var O,V=Object.keys(f);try{(function(L){Object.keys(L).forEach(function(q){var M=L[q];if(typeof M(void 0,{type:"@@redux/INIT"})===Q||typeof M(void 0,{type:ln})===Q)throw new Error("reducer "+q+" "+Q)})})(f)}catch(L){O=L}return function(L,q){if(L===void 0&&(L={}),O)throw O;for(var M=!1,H={},ae=0;ae<V.length;ae++){var oe=V[ae],et=L[oe],qe=(0,f[oe])(et,q);if(typeof qe===Q){var Ht=fn(oe,q);throw new Error(Ht)}H[oe]=qe,M=M||qe!==et}return M?H:L}}(y({},T,t)),J,k(z(pn.apply(void 0,I))));_.dispatch=(C=_.dispatch,function(o,a,f){var j=y({},o,{meta:It(o.meta,a,Je(f))});return C.apply(null,[j])});var D=Object.keys(c);_.dispatch({type:v.bootstrap,plugins:D,config:R,params:h,user:E,initialUser:n,persistedUser:w});var F=D.filter(function(o){return r.pluginEnabled[o]}),B=D.filter(function(o){return!r.pluginEnabled[o]});return _.dispatch({type:v.registerPlugins,plugins:D,enabled:r.pluginEnabled}),r.pluginsArray.map(function(o,a){var f=o.bootstrap,j=o.config,A=o.name;f&&G(f)&&f({instance:s,config:j,payload:o}),_.dispatch({type:v.registerPluginType(A),name:A,enabled:r.pluginEnabled[A],plugin:o}),r.pluginsArray.length===a+1&&_.dispatch({type:v.initializeStart,plugins:F,disabled:B})}),Tn(function(o){_.dispatch({type:o?v.offline:v.online})}),function(o,a,f){setInterval(function(){return Lt(o,a,f)},3e3)}(_,S,s),s}var je="before",Ne="after",we="cookie",ee=Xt(),Bt=Ce,Ln=Ce;function Jt(e){return ee?Ce(e,"",-1):ve(e)}function Xt(){if(ee!==void 0)return ee;var e="cookiecookie";try{Ce(e,e),ee=document.cookie.indexOf(e)!==-1,Jt(e)}catch{ee=!1}return ee}function Ce(e,t,n,r,i,u){if(typeof window!="undefined"){var c=arguments.length>1;return ee===!1&&(c?ie(e,t):re(e)),c?document.cookie=e+"="+encodeURIComponent(t)+(n?"; expires="+new Date(+new Date+1e3*n).toUTCString()+(r?"; path="+r:"")+(i?"; domain="+i:"")+(u?"; secure":""):""):decodeURIComponent((("; "+document.cookie).split("; "+e+"=")[1]||"").split(";")[0])}}var Ie="localStorage",Mn=He.bind(null,"localStorage");ye("localStorage","getItem",re);ye("localStorage","setItem",ie);ye("localStorage","removeItem",ve);var Se="sessionStorage",zn=He.bind(null,"sessionStorage");ye("sessionStorage","getItem",re);ye("sessionStorage","setItem",ie);ye("sessionStorage","removeItem",ve);function pe(e){var t=e;try{if((t=JSON.parse(e))==="true")return!0;if(t==="false")return!1;if(X(t))return t;parseFloat(t)===t&&(t=parseFloat(t))}catch{}if(t!==null&&t!=="")return t}var Dn=Mn(),Cn=zn(),Un=Xt();function Ft(e,t){if(e){var n=Ge(t),r=!Ke(n),i=Qe(n)?pe(localStorage.getItem(e)):void 0;if(r&&!ue(i))return i;var u=Ye(n)?pe(Bt(e)):void 0;if(r&&u)return u;var c=Ze(n)?pe(sessionStorage.getItem(e)):void 0;if(r&&c)return c;var l=re(e);return r?l:{localStorage:i,sessionStorage:c,cookie:u,global:l}}}function qn(e,t,n){if(e&&!ue(t)){var r={},i=Ge(n),u=JSON.stringify(t),c=!Ke(i);return Qe(i)&&(r[Ie]=ke(Ie,t,pe(localStorage.getItem(e))),localStorage.setItem(e,u),c)?r[Ie]:Ye(i)&&(r[we]=ke(we,t,pe(Bt(e))),Ln(e,u),c)?r[we]:Ze(i)&&(r[Se]=ke(Se,t,pe(sessionStorage.getItem(e))),sessionStorage.setItem(e,u),c)?r[Se]:(r[be]=ke(be,t,re(e)),ie(e,t),c?r[be]:r)}}function Vn(e,t){if(e){var n=Ge(t),r=Ft(e,jt),i={};return!ue(r.localStorage)&&Qe(n)&&(localStorage.removeItem(e),i[Ie]=r.localStorage),!ue(r.cookie)&&Ye(n)&&(Jt(e),i[we]=r.cookie),!ue(r.sessionStorage)&&Ze(n)&&(sessionStorage.removeItem(e),i[Se]=r.sessionStorage),!ue(r.global)&&Ue(n,be)&&(ve(e),i[be]=r.global),i}}function Ge(e){return e?se(e)?e:e.storage:_t}function Qe(e){return Dn&&Ue(e,Ie)}function Ye(e){return Un&&Ue(e,we)}function Ze(e){return Cn&&Ue(e,Se)}function Ke(e){return e===jt||e==="all"}function Ue(e,t){return e===_t||e===t||Ke(e)}function ke(e,t,n){return{location:e,current:t,previous:n}}var Rn={setItem:qn,getItem:Ft,removeItem:Vn};function Bn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function St(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?St(Object(n),!0).forEach(function(r){Bn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):St(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Jn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t={storage:Rn};return $n(xt(xt({},t),e))}function Xn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Xn(e,i,n[i])})}return e}var Fn={debug:!1,containerId:null,dataLayerName:"dataLayer",dataLayer:void 0,preview:void 0,auth:void 0,execution:"async"},Ae;function Wn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{name:"google-tag-manager",config:Xe({},Fn,e),initialize:function(n){var r=n.config,i=r.containerId,u=r.dataLayerName,c=r.customScriptSrc,l=r.preview,d=r.auth,g=r.execution;if(!i)throw new Error("No google tag manager containerId defined");if(l&&!d)throw new Error("When enabling preview mode, both preview and auth parameters must be defined");var S=c||"https://www.googletagmanager.com/gtm.js";Pt(i)||(function(p,P,m,x,b){p[x]=p[x]||[],p[x].push({"gtm.start":new Date().getTime(),event:"gtm.js"});var h=P.getElementsByTagName(m)[0],w=P.createElement(m),E=x!="dataLayer"?"&l="+x:"",N=l?"&gtm_preview="+l+"&gtm_auth="+d+"&gtm_cookies_win=x":"";g&&(w[g]=!0),w.src="".concat(S,"?id=")+b+E+N,h.parentNode.insertBefore(w,h)}(window,document,"script",u,i),Ae=u,r.dataLayer=window[u])},page:function(n){var r=n.payload;n.options,n.instance;var i=n.config;typeof i.dataLayer!="undefined"&&i.dataLayer.push(r.properties)},track:function(n){var r=n.payload;n.options;var i=n.config;if(typeof i.dataLayer!="undefined"){var u=r.anonymousId,c=r.userId,l=r.properties,d=l;c&&(d.userId=c),u&&(d.anonymousId=u),l.category||(d.category="All"),i.debug&&console.log("gtag push",Xe({event:r.event},d)),i.dataLayer.push(Xe({event:r.event},d))}},loaded:function(){var n=!!Ae&&!!(window[Ae]&&Array.prototype.push!==window[Ae].push);return Pt(e.containerId)&&n}}}var Ot={};function Pt(e){var t=Ot[e];t||(t=new RegExp("googletagmanager\\.com\\/gtm\\.js.*[?&]id="+e),Ot[e]=t);var n=document.querySelectorAll("script[src]");return!!Object.keys(n).filter(function(r){return(n[r].src||"").match(t)}).length}var Hn=Wn;function Gn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Et(n,!0).forEach(function(r){Gn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(n).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yn(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{name:"mixpanel",config:e,initialize:function(n){var r=n.config,i=r.token,u=r.customScriptSrc,c=r.options,l=c===void 0?{}:c;if(!i)throw new Error("No mixpanel token defined");typeof window.mixpanel=="undefined"&&(function(d,g){if(!g.__SV){var S=window;try{var p,P,m,x=S.location,b=x.hash;p=function(N,s){return(P=N.match(RegExp(s+"=([^&]*)")))?P[1]:null},b&&p(b,"state")&&(m=JSON.parse(decodeURIComponent(p(b,"state"))),m.action==="mpeditor"&&(S.sessionStorage.setItem("_mpcehash",b),history.replaceState(m.desiredHash||"",d.title,x.pathname+x.search)))}catch{}var h,w;window.mixpanel=g,g._i=[],g.init=function(E,N,s){function I(k,$){var C=$.split(".");C.length==2&&(k=k[C[0]],$=C[1]),k[$]=function(){k.push([$].concat(Array.prototype.slice.call(arguments,0)))}}var T=g;for(typeof s!="undefined"?T=g[s]=[]:s="mixpanel",T.people=T.people||[],T.toString=function(k){var $="mixpanel";return s!=="mixpanel"&&($+="."+s),k||($+=" (stub)"),$},T.people.toString=function(){return T.toString(1)+".people (stub)"},h="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" "),w=0;w<h.length;w++)I(T,h[w]);var z="set set_once union unset remove delete".split(" ");T.get_group=function(){function k(U){$[U]=function(){call2_args=arguments,call2=[U].concat(Array.prototype.slice.call(call2_args,0)),T.push([C,call2])}}for(var $={},C=["get_group"].concat(Array.prototype.slice.call(arguments,0)),R=0;R<z.length;R++)k(z[R]);return $},g._i.push([E,N,s])},g.__SV=1.2,S=d.createElement("script"),S.type="text/javascript",S.async=!0,S.src=u||(typeof MIXPANEL_CUSTOM_LIB_URL!="undefined"?MIXPANEL_CUSTOM_LIB_URL:d.location.protocol==="file:"&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js"),p=d.getElementsByTagName("script")[0],p.parentNode.insertBefore(S,p)}}(document,window.mixpanel||[]),mixpanel.init(r.token,Qn({batch_requests:!0},l)))},identify:function(n){var r=n.payload,i=r.userId,u=r.traits;typeof i=="string"&&mixpanel.identify(i),u&&mixpanel.people.set(u)},page:function(n){var r=n.payload;mixpanel.track(e.pageEvent||r.properties.path,r.properties)},track:function(n){var r=n.payload;mixpanel.track(r.event,r.properties)},loaded:function(){return!!window.mixpanel},reset:function(){mixpanel.reset()},methods:{alias:function(n,r){mixpanel.alias(n,r)}}}}var Zn=Yn;let Wt;Wt=Jn({app:"audial",plugins:[Hn({containerId:"GTM-TNTJT9T"}),Zn({token:"69da06a4f6f6e3802f4ae5b4c3a716c2"})]});var Kn=Wt;export{Kn as a};
