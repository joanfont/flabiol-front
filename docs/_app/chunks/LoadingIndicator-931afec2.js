import{S as De,i as Ae,s as qe,e as S,k as R,c as E,a as p,d as m,m as U,b as c,g as D,H as w,E as de,t as V,h as B,j as te,w as Be,F as he,x as Ke,G as me,y as Me,I as X,q as P,o as J,B as ze,J as _t,K as Sl,v as El,l as W,a2 as Pe,a3 as je,a4 as Re,n as ye,p as Se,a7 as Oe,P as Ne,a8 as Wt,a1 as Ue,a9 as tn,aa as dt,M as ln,R as Fl,T as Cl,ab as nn,ac as sn,f as xe}from"./index-3e5c58ca.js";import{t as Z,c as Q,b as be,s as Ve,e as Ie,p as $e}from"./store-394a188d.js";import{p as ht}from"./stores-051684e8.js";import{d as Tl,c as Yt}from"./util-cd1c5341.js";import{B as Nl,t as on}from"./Button-007fe1e2.js";function rn(n){let e,t,s,l,i,o,r,f,u,h,d,_,v,b,g,I,L,A;return{c(){e=S("div"),t=S("div"),l=R(),i=S("div"),r=R(),f=S("div"),h=R(),d=S("div"),v=R(),b=S("div"),I=R(),L=S("div"),this.h()},l(M){e=E(M,"DIV",{class:!0});var K=p(e);t=E(K,"DIV",{class:!0}),p(t).forEach(m),l=U(K),i=E(K,"DIV",{class:!0}),p(i).forEach(m),r=U(K),f=E(K,"DIV",{class:!0}),p(f).forEach(m),h=U(K),d=E(K,"DIV",{class:!0}),p(d).forEach(m),v=U(K),b=E(K,"DIV",{class:!0}),p(b).forEach(m),I=U(K),L=E(K,"DIV",{class:!0}),p(L).forEach(m),K.forEach(m),this.h()},h(){c(t,"class",s=`w-2/12 ${n[1](0,n[0].attempts)} border-r border-l`),c(i,"class",o=`w-2/12 ${n[1](1,n[0].attempts)} border-r border-l`),c(f,"class",u=`w-4/12 ${n[1](2,n[0].attempts)} border-r border-l`),c(d,"class",_=`w-4/12 ${n[1](3,n[0].attempts)} border-r border-l`),c(b,"class",g=`w-6/12 ${n[1](4,n[0].attempts)} border-r border-l`),c(L,"class",A=`w-6/12 ${n[1](5,n[0].attempts)} border-r border-l`),c(e,"class","max-w-3xl mx-auto flex h-3")},m(M,K){D(M,e,K),w(e,t),w(e,l),w(e,i),w(e,r),w(e,f),w(e,h),w(e,d),w(e,v),w(e,b),w(e,I),w(e,L)},p(M,[K]){K&1&&s!==(s=`w-2/12 ${M[1](0,M[0].attempts)} border-r border-l`)&&c(t,"class",s),K&1&&o!==(o=`w-2/12 ${M[1](1,M[0].attempts)} border-r border-l`)&&c(i,"class",o),K&1&&u!==(u=`w-4/12 ${M[1](2,M[0].attempts)} border-r border-l`)&&c(f,"class",u),K&1&&_!==(_=`w-4/12 ${M[1](3,M[0].attempts)} border-r border-l`)&&c(d,"class",_),K&1&&g!==(g=`w-6/12 ${M[1](4,M[0].attempts)} border-r border-l`)&&c(b,"class",g),K&1&&A!==(A=`w-6/12 ${M[1](5,M[0].attempts)} border-r border-l`)&&c(L,"class",A)},i:de,o:de,d(M){M&&m(e)}}}function an(n,e,t){let{attempt:s}=e;const l=(i,o)=>{let r="bg-black opacity-40";return o===i&&!s.correct?r="bg-blue-500":o===i+1&&s.correct?r="bg-green-600":o>i&&s.guesses[i].artistCorrect?r="bg-amber-400":o>i&&!s.guesses[i].song?r="bg-gray-500":o>i&&(r="bg-red-600"),r};return n.$$set=i=>{"attempt"in i&&t(0,s=i.attempt)},[s,l]}class fn extends De{constructor(e){super(),Ae(this,e,an,rn,qe,{attempt:0})}}function Qt(n){let e,t;return{c(){e=S("div"),t=V(n[4]),this.h()},l(s){e=E(s,"DIV",{class:!0});var l=p(e);t=B(l,n[4]),l.forEach(m),this.h()},h(){c(e,"class","flex flex-1 justify-start font-mono")},m(s,l){D(s,e,l),w(e,t)},p(s,l){l&16&&te(t,s[4])},d(s){s&&m(e)}}}function Xt(n){let e,t=Math.floor(n[3]/60)+":"+(Math.round(n[3]%60)<10?"0"+Math.round(n[3]%60):Math.round(n[3]%60)),s;return{c(){e=S("div"),s=V(t),this.h()},l(l){e=E(l,"DIV",{class:!0});var i=p(e);s=B(i,t),i.forEach(m),this.h()},h(){c(e,"class","flex flex-1 justify-end font-mono")},m(l,i){D(l,e,i),w(e,s)},p(l,i){i&8&&t!==(t=Math.floor(l[3]/60)+":"+(Math.round(l[3]%60)<10?"0"+Math.round(l[3]%60):Math.round(l[3]%60)))&&te(s,t)},d(l){l&&m(e)}}}function un(n){let e,t,s,l,i,o,r,f,u,h,d,_,v,b,g,I,L,A,M,K,oe,le,H;s=new fn({props:{attempt:n[1]}});let q=n[0]&&Qt(n),N=n[0]&&Xt(n);return{c(){e=S("footer"),t=S("div"),Be(s.$$.fragment),l=R(),i=S("div"),o=S("div"),q&&q.c(),r=R(),f=S("div"),u=S("button"),h=he("svg"),d=he("path"),_=he("path"),b=R(),g=S("button"),I=he("svg"),L=he("path"),A=he("path"),K=R(),N&&N.c(),this.h()},l(G){e=E(G,"FOOTER",{class:!0});var j=p(e);t=E(j,"DIV",{class:!0});var ae=p(t);Ke(s.$$.fragment,ae),ae.forEach(m),l=U(j),i=E(j,"DIV",{class:!0});var k=p(i);o=E(k,"DIV",{class:!0});var C=p(o);q&&q.l(C),r=U(C),f=E(C,"DIV",{class:!0});var $=p(f);u=E($,"BUTTON",{class:!0,title:!0});var ne=p(u);h=me(ne,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0,xmlns:!0});var fe=p(h);d=me(fe,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0}),p(d).forEach(m),_=me(fe,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0}),p(_).forEach(m),fe.forEach(m),ne.forEach(m),b=U($),g=E($,"BUTTON",{class:!0,title:!0});var we=p(g);I=me(we,"svg",{class:!0,fill:!0,stroke:!0,"stroke-width":!0,viewBox:!0,xmlns:!0});var ke=p(I);L=me(ke,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),p(L).forEach(m),A=me(ke,"path",{d:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),p(A).forEach(m),ke.forEach(m),we.forEach(m),$.forEach(m),K=U(C),N&&N.l(C),C.forEach(m),k.forEach(m),j.forEach(m),this.h()},h(){c(t,"class","border-b"),c(d,"d","M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"),c(d,"stroke-linecap","round"),c(d,"stroke-linejoin","round"),c(d,"stroke-width","2"),c(_,"d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),c(_,"stroke-linecap","round"),c(_,"stroke-linejoin","round"),c(_,"stroke-width","2"),c(h,"class","w-14 h-14 mx-auto"),c(h,"fill","none"),c(h,"stroke","currentColor"),c(h,"viewBox","0 0 24 24"),c(h,"xmlns","http://www.w3.org/2000/svg"),c(u,"class",v=`hover:text-blue-600 transition-colors duration-200 ${n[2]?"":"hidden"}`),c(u,"title","Play Song"),c(L,"d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),c(L,"stroke-linecap","round"),c(L,"stroke-linejoin","round"),c(A,"d","M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"),c(A,"stroke-linecap","round"),c(A,"stroke-linejoin","round"),c(I,"class","w-14 h-14 mx-auto"),c(I,"fill","none"),c(I,"stroke","currentColor"),c(I,"stroke-width","2"),c(I,"viewBox","0 0 24 24"),c(I,"xmlns","http://www.w3.org/2000/svg"),c(g,"class",M=`hover:text-blue-600 transition-colors duration-200 ${n[2]?"hidden":""}`),c(g,"title","Pause Song"),c(f,"class","text-center flex-1 justify-center"),c(o,"class","flex justify-evenly items-center w-full"),c(i,"class","max-w-screen-md mx-auto p-3"),c(e,"class","border-t border-white bottom-0 w-full fixed bg-gray-800")},m(G,j){D(G,e,j),w(e,t),Me(s,t,null),w(e,l),w(e,i),w(i,o),q&&q.m(o,null),w(o,r),w(o,f),w(f,u),w(u,h),w(h,d),w(h,_),w(f,b),w(f,g),w(g,I),w(I,L),w(I,A),w(o,K),N&&N.m(o,null),oe=!0,le||(H=[X(u,"click",n[5]),X(g,"click",n[6])],le=!0)},p(G,[j]){const ae={};j&2&&(ae.attempt=G[1]),s.$set(ae),G[0]?q?q.p(G,j):(q=Qt(G),q.c(),q.m(o,r)):q&&(q.d(1),q=null),(!oe||j&4&&v!==(v=`hover:text-blue-600 transition-colors duration-200 ${G[2]?"":"hidden"}`))&&c(u,"class",v),(!oe||j&4&&M!==(M=`hover:text-blue-600 transition-colors duration-200 ${G[2]?"hidden":""}`))&&c(g,"class",M),G[0]?N?N.p(G,j):(N=Xt(G),N.c(),N.m(o,null)):N&&(N.d(1),N=null)},i(G){oe||(P(s.$$.fragment,G),oe=!0)},o(G){J(s.$$.fragment,G),oe=!1},d(G){G&&m(e),ze(s),q&&q.d(),N&&N.d(),le=!1,_t(H)}}}function cn(n,e,t){let s;Sl(n,ht,g=>t(11,s=g));let l,i={attempts:0,guesses:[],correct:!1,date:new Date},o=!0,r=0,f="0:00",u,h,{custom:d=!1}=e,_="/";ht.subscribe(g=>{g.url.pathname!==_&&l&&(clearTimeout(h),l.pause(),l.remove()),_=g.url.pathname}),El(()=>{_=s.url.pathname,d?(t(1,i=Z.get()),Z.listen(g=>t(1,i=g))):(t(1,i=Q.get()),Q.listen(g=>t(1,i=g))),t(0,l=new Audio(be.get().preview)),l.addEventListener("loadedmetadata",()=>t(3,r=l.duration)),navigator.mediaSession&&(navigator.mediaSession.setActionHandler("play",()=>null),navigator.mediaSession.setActionHandler("pause",()=>null),navigator.mediaSession.setActionHandler("seekbackward",null),navigator.mediaSession.setActionHandler("seekforward",()=>null))}),be.listen(g=>{l.remove(),t(0,l=new Audio(g.preview))}),Ve.listen(g=>t(2,o=g));const v=()=>{Ie.track("play-song"),Ve.set(!1),l.play(),t(4,f="0:00");let g;const I=.08333333;switch(i.attempts){case 0:g=I;break;case 1:g=I*2;break;case 2:g=I*4;break;case 3:g=.5;break;case 4:g=.75;break;default:g=1;break}const L=i.correct?l.duration*1e3:l.duration/2*1e3*g;h=setTimeout(()=>{l.pause(),t(0,l.currentTime=0,l),Ve.set(!0),clearInterval(u)},L),u=setInterval(()=>{t(4,f=`${Math.floor(l.currentTime/60)}:${l.currentTime%60<10?"0"+Math.round(l.currentTime%60):Math.round(l.currentTime%60)}`)},1e3)},b=()=>{l.pause(),t(0,l.currentTime=0,l),Ve.set(!0)};return n.$$set=g=>{"custom"in g&&t(7,d=g.custom)},[l,i,o,r,f,v,b,d]}class ts extends De{constructor(e){super(),Ae(this,e,cn,un,qe,{custom:7})}}const dn=n=>({noResultsText:n[0]&2048}),Zt=n=>({noResultsText:n[11]}),hn=n=>({createText:n[0]&16384}),xt=n=>({createText:n[14]}),mn=n=>({loadingText:n[0]&4096}),$t=n=>({loadingText:n[12]});function el(n,e,t){const s=n.slice();return s[116]=e[t],s[118]=t,s}const _n=n=>({item:n[1]&1,label:n[1]&1}),tl=n=>({item:n[116].item,label:n[116].highlighted?n[116].highlighted:n[116].label});function ll(n,e,t){const s=n.slice();return s[119]=e[t],s}const gn=n=>({label:n[0]&2,item:n[0]&2}),nl=n=>({label:n[38](n[119]),item:n[119],unselectItem:n[45]});function sl(n,e,t){const s=n.slice();return s[118]=e[t],s}function bn(n){let e,t=n[1],s=[];for(let l=0;l<t.length;l+=1)s[l]=ol(sl(n,t,l));return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=W()},l(l){for(let i=0;i<s.length;i+=1)s[i].l(l);e=W()},m(l,i){for(let o=0;o<s.length;o+=1)s[o].m(l,i);D(l,e,i)},p(l,i){if(i[0]&18|i[1]&128){t=l[1];let o;for(o=0;o<t.length;o+=1){const r=sl(l,t,o);s[o]?s[o].p(r,i):(s[o]=ol(r),s[o].c(),s[o].m(e.parentNode,e))}for(;o<s.length;o+=1)s[o].d(1);s.length=t.length}},d(l){Oe(s,l),l&&m(e)}}}function wn(n){let e,t;return{c(){e=S("option"),t=V(n[3]),this.h()},l(s){e=E(s,"OPTION",{class:!0});var l=p(e);t=B(l,n[3]),l.forEach(m),this.h()},h(){e.__value=n[2],e.value=e.__value,e.selected=!0,c(e,"class","svelte-1nqq7zl")},m(s,l){D(s,e,l),w(e,t)},p(s,l){l[0]&8&&te(t,s[3]),l[0]&4&&(e.__value=s[2],e.value=e.__value)},d(s){s&&m(e)}}}function ol(n){let e,t=n[38](n[118])+"",s,l,i;return{c(){e=S("option"),s=V(t),l=R(),this.h()},l(o){e=E(o,"OPTION",{class:!0});var r=p(e);s=B(r,t),l=U(r),r.forEach(m),this.h()},h(){e.__value=i=n[4](n[118],!0),e.value=e.__value,e.selected=!0,c(e,"class","svelte-1nqq7zl")},m(o,r){D(o,e,r),w(e,s),w(e,l)},p(o,r){r[0]&2&&t!==(t=o[38](o[118])+"")&&te(s,t),r[0]&18&&i!==(i=o[4](o[118],!0))&&(e.__value=i,e.value=e.__value)},d(o){o&&m(e)}}}function il(n){let e,t,s=n[1],l=[];for(let o=0;o<s.length;o+=1)l[o]=rl(ll(n,s,o));const i=o=>J(l[o],1,1,()=>{l[o]=null});return{c(){for(let o=0;o<l.length;o+=1)l[o].c();e=W()},l(o){for(let r=0;r<l.length;r+=1)l[r].l(o);e=W()},m(o,r){for(let f=0;f<l.length;f+=1)l[f].m(o,r);D(o,e,r),t=!0},p(o,r){if(r[0]&2|r[1]&16512|r[2]&1048576){s=o[1];let f;for(f=0;f<s.length;f+=1){const u=ll(o,s,f);l[f]?(l[f].p(u,r),P(l[f],1)):(l[f]=rl(u),l[f].c(),P(l[f],1),l[f].m(e.parentNode,e))}for(ye(),f=s.length;f<l.length;f+=1)i(f);Se()}},i(o){if(!t){for(let r=0;r<s.length;r+=1)P(l[r]);t=!0}},o(o){l=l.filter(Boolean);for(let r=0;r<l.length;r+=1)J(l[r]);t=!1},d(o){Oe(l,o),o&&m(e)}}}function kn(n){let e,t,s=n[38](n[119])+"",l,i,o,r,f,u;return{c(){e=S("div"),t=S("span"),l=V(s),i=R(),o=S("span"),r=R(),this.h()},l(h){e=E(h,"DIV",{class:!0});var d=p(e);t=E(d,"SPAN",{class:!0});var _=p(t);l=B(_,s),_.forEach(m),i=U(d),o=E(d,"SPAN",{class:!0}),p(o).forEach(m),d.forEach(m),r=U(h),this.h()},h(){c(t,"class","tag svelte-1nqq7zl"),c(o,"class","tag is-delete svelte-1nqq7zl"),c(e,"class","tags has-addons svelte-1nqq7zl")},m(h,d){D(h,e,d),w(e,t),w(t,l),w(e,i),w(e,o),D(h,r,d),f||(u=X(o,"click",tn(function(){ln(n[45](n[119]))&&n[45](n[119]).apply(this,arguments)})),f=!0)},p(h,d){n=h,d[0]&2&&s!==(s=n[38](n[119])+"")&&te(l,s)},d(h){h&&m(e),h&&m(r),f=!1,u()}}}function rl(n){let e;const t=n[83].tag,s=Ue(t,n,n[82],nl),l=s||kn(n);return{c(){l&&l.c()},l(i){l&&l.l(i)},m(i,o){l&&l.m(i,o),e=!0},p(i,o){s?s.p&&(!e||o[0]&2|o[2]&1048576)&&Pe(s,t,i,i[82],e?Re(t,i[82],o,gn):je(i[82]),nl):l&&l.p&&(!e||o[0]&2)&&l.p(i,e?o:[-1,-1,-1,-1])},i(i){e||(P(l,i),e=!0)},o(i){J(l,i),e=!1},d(i){l&&l.d(i)}}}function al(n){let e,t,s,l;return{c(){e=S("span"),t=V("\u2716"),this.h()},l(i){e=E(i,"SPAN",{class:!0});var o=p(e);t=B(o,"\u2716"),o.forEach(m),this.h()},h(){c(e,"class","autocomplete-clear-button svelte-1nqq7zl")},m(i,o){D(i,e,o),w(e,t),s||(l=X(e,"click",n[49]),s=!0)},p:de,d(i){i&&m(e),s=!1,l()}}}function vn(n){let e,t;const s=n[83]["no-results"],l=Ue(s,n,n[82],Zt),i=l||Sn(n);return{c(){e=S("div"),i&&i.c(),this.h()},l(o){e=E(o,"DIV",{class:!0});var r=p(e);i&&i.l(r),r.forEach(m),this.h()},h(){c(e,"class","autocomplete-list-item-no-results svelte-1nqq7zl")},m(o,r){D(o,e,r),i&&i.m(e,null),t=!0},p(o,r){l?l.p&&(!t||r[0]&2048|r[2]&1048576)&&Pe(l,s,o,o[82],t?Re(s,o[82],r,dn):je(o[82]),Zt):i&&i.p&&(!t||r[0]&2048)&&i.p(o,t?r:[-1,-1,-1,-1])},i(o){t||(P(i,o),t=!0)},o(o){J(i,o),t=!1},d(o){o&&m(e),i&&i.d(o)}}}function pn(n){let e,t,s,l;const i=n[83].create,o=Ue(i,n,n[82],xt),r=o||En(n);return{c(){e=S("div"),r&&r.c(),this.h()},l(f){e=E(f,"DIV",{class:!0});var u=p(e);r&&r.l(u),u.forEach(m),this.h()},h(){c(e,"class","autocomplete-list-item-create svelte-1nqq7zl")},m(f,u){D(f,e,u),r&&r.m(e,null),t=!0,s||(l=X(e,"click",n[39]),s=!0)},p(f,u){o?o.p&&(!t||u[0]&16384|u[2]&1048576)&&Pe(o,i,f,f[82],t?Re(i,f[82],u,hn):je(f[82]),xt):r&&r.p&&(!t||u[0]&16384)&&r.p(f,t?u:[-1,-1,-1,-1])},i(f){t||(P(r,f),t=!0)},o(f){J(r,f),t=!1},d(f){f&&m(e),r&&r.d(f),s=!1,l()}}}function In(n){let e,t;const s=n[83].loading,l=Ue(s,n,n[82],$t),i=l||Fn(n);return{c(){e=S("div"),i&&i.c(),this.h()},l(o){e=E(o,"DIV",{class:!0});var r=p(e);i&&i.l(r),r.forEach(m),this.h()},h(){c(e,"class","autocomplete-list-item-loading svelte-1nqq7zl")},m(o,r){D(o,e,r),i&&i.m(e,null),t=!0},p(o,r){l?l.p&&(!t||r[0]&4096|r[2]&1048576)&&Pe(l,s,o,o[82],t?Re(s,o[82],r,mn):je(o[82]),$t):i&&i.p&&(!t||r[0]&4096)&&i.p(o,t?r:[-1,-1,-1,-1])},i(o){t||(P(i,o),t=!0)},o(o){J(i,o),t=!1},d(o){o&&m(e),i&&i.d(o)}}}function yn(n){let e,t,s,l=n[31],i=[];for(let f=0;f<l.length;f+=1)i[f]=ul(el(n,l,f));const o=f=>J(i[f],1,1,()=>{i[f]=null});let r=n[5]>0&&n[31].length>n[5]&&cl(n);return{c(){for(let f=0;f<i.length;f+=1)i[f].c();e=R(),r&&r.c(),t=W()},l(f){for(let u=0;u<i.length;u+=1)i[u].l(f);e=U(f),r&&r.l(f),t=W()},m(f,u){for(let h=0;h<i.length;h+=1)i[h].m(f,u);D(f,e,u),r&&r.m(f,u),D(f,t,u),s=!0},p(f,u){if(u[0]&1073741856|u[1]&524801|u[2]&1048576){l=f[31];let h;for(h=0;h<l.length;h+=1){const d=el(f,l,h);i[h]?(i[h].p(d,u),P(i[h],1)):(i[h]=ul(d),i[h].c(),P(i[h],1),i[h].m(e.parentNode,e))}for(ye(),h=l.length;h<i.length;h+=1)o(h);Se()}f[5]>0&&f[31].length>f[5]?r?r.p(f,u):(r=cl(f),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},i(f){if(!s){for(let u=0;u<l.length;u+=1)P(i[u]);s=!0}},o(f){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)J(i[u]);s=!1},d(f){Oe(i,f),f&&m(e),r&&r.d(f),f&&m(t)}}}function Sn(n){let e;return{c(){e=V(n[11])},l(t){e=B(t,n[11])},m(t,s){D(t,e,s)},p(t,s){s[0]&2048&&te(e,t[11])},d(t){t&&m(e)}}}function En(n){let e;return{c(){e=V(n[14])},l(t){e=B(t,n[14])},m(t,s){D(t,e,s)},p(t,s){s[0]&16384&&te(e,t[14])},d(t){t&&m(e)}}}function Fn(n){let e;return{c(){e=V(n[12])},l(t){e=B(t,n[12])},m(t,s){D(t,e,s)},p(t,s){s[0]&4096&&te(e,t[12])},d(t){t&&m(e)}}}function fl(n){let e,t,s,l,i;const o=n[83].item,r=Ue(o,n,n[82],tl),f=r||Nn(n);function u(){return n[86](n[116])}function h(){return n[87](n[118])}return{c(){e=S("div"),f&&f.c(),this.h()},l(d){e=E(d,"DIV",{class:!0});var _=p(e);f&&f.l(_),_.forEach(m),this.h()},h(){c(e,"class",t="autocomplete-list-item "+(n[118]===n[30]?"selected":"")+" svelte-1nqq7zl"),Ne(e,"confirmed",n[50](n[116].item))},m(d,_){D(d,e,_),f&&f.m(e,null),s=!0,l||(i=[X(e,"click",u),X(e,"pointerenter",h)],l=!0)},p(d,_){n=d,r?r.p&&(!s||_[1]&1|_[2]&1048576)&&Pe(r,o,n,n[82],s?Re(o,n[82],_,_n):je(n[82]),tl):f&&f.p&&(!s||_[1]&1)&&f.p(n,s?_:[-1,-1,-1,-1]),(!s||_[0]&1073741824&&t!==(t="autocomplete-list-item "+(n[118]===n[30]?"selected":"")+" svelte-1nqq7zl"))&&c(e,"class",t),_[0]&1073741824|_[1]&524289&&Ne(e,"confirmed",n[50](n[116].item))},i(d){s||(P(f,d),s=!0)},o(d){J(f,d),s=!1},d(d){d&&m(e),f&&f.d(d),l=!1,_t(i)}}}function Cn(n){let e,t=n[116].label+"",s;return{c(){e=new Fl(!1),s=W(),this.h()},l(l){e=Cl(l,!1),s=W(),this.h()},h(){e.a=s},m(l,i){e.m(t,l,i),D(l,s,i)},p(l,i){i[1]&1&&t!==(t=l[116].label+"")&&e.p(t)},d(l){l&&m(s),l&&e.d()}}}function Tn(n){let e,t=n[116].highlighted+"",s;return{c(){e=new Fl(!1),s=W(),this.h()},l(l){e=Cl(l,!1),s=W(),this.h()},h(){e.a=s},m(l,i){e.m(t,l,i),D(l,s,i)},p(l,i){i[1]&1&&t!==(t=l[116].highlighted+"")&&e.p(t)},d(l){l&&m(s),l&&e.d()}}}function Nn(n){let e;function t(i,o){return i[116].highlighted?Tn:Cn}let s=t(n),l=s(n);return{c(){l.c(),e=W()},l(i){l.l(i),e=W()},m(i,o){l.m(i,o),D(i,e,o)},p(i,o){s===(s=t(i))&&l?l.p(i,o):(l.d(1),l=s(i),l&&(l.c(),l.m(e.parentNode,e)))},d(i){l.d(i),i&&m(e)}}}function ul(n){let e,t,s=n[116]&&(n[5]<=0||n[118]<n[5])&&fl(n);return{c(){s&&s.c(),e=W()},l(l){s&&s.l(l),e=W()},m(l,i){s&&s.m(l,i),D(l,e,i),t=!0},p(l,i){l[116]&&(l[5]<=0||l[118]<l[5])?s?(s.p(l,i),i[0]&32|i[1]&1&&P(s,1)):(s=fl(l),s.c(),P(s,1),s.m(e.parentNode,e)):s&&(ye(),J(s,1,1,()=>{s=null}),Se())},i(l){t||(P(s),t=!0)},o(l){J(s),t=!1},d(l){s&&s.d(l),l&&m(e)}}}function cl(n){let e,t=n[13]&&dl(n);return{c(){t&&t.c(),e=W()},l(s){t&&t.l(s),e=W()},m(s,l){t&&t.m(s,l),D(s,e,l)},p(s,l){s[13]?t?t.p(s,l):(t=dl(s),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(s){t&&t.d(s),s&&m(e)}}}function dl(n){let e,t,s=n[31].length-n[5]+"",l,i,o;return{c(){e=S("div"),t=V("..."),l=V(s),i=R(),o=V(n[13]),this.h()},l(r){e=E(r,"DIV",{class:!0});var f=p(e);t=B(f,"..."),l=B(f,s),i=U(f),o=B(f,n[13]),f.forEach(m),this.h()},h(){c(e,"class","autocomplete-list-item-no-results svelte-1nqq7zl")},m(r,f){D(r,e,f),w(e,t),w(e,l),w(e,i),w(e,o)},p(r,f){f[0]&32|f[1]&1&&s!==(s=r[31].length-r[5]+"")&&te(l,s),f[0]&8192&&te(o,r[13])},d(r){r&&m(e)}}}function Dn(n){let e,t,s,l,i,o,r,f,u,h,d,_,v,b,g,I,L,A,M,K;function oe(k,C){if(!k[6]&&k[2])return wn;if(k[6]&&k[1])return bn}let le=oe(n),H=le&&le(n),q=n[6]&&n[1]&&il(n),N=n[35]&&al(n);const G=[yn,In,pn,vn],j=[];function ae(k,C){return k[31]&&k[31].length>0?0:k[34]&&k[12]?1:k[7]?2:k[11]?3:-1}return~(b=ae(n))&&(g=j[b]=G[b](n)),{c(){e=S("div"),t=S("select"),H&&H.c(),s=R(),l=S("div"),q&&q.c(),i=R(),o=S("input"),d=R(),N&&N.c(),_=R(),v=S("div"),g&&g.c(),this.h()},l(k){e=E(k,"DIV",{class:!0});var C=p(e);t=E(C,"SELECT",{name:!0,id:!0,class:!0});var $=p(t);H&&H.l($),$.forEach(m),s=U(C),l=E(C,"DIV",{class:!0});var ne=p(l);q&&q.l(ne),i=U(ne),o=E(ne,"INPUT",{type:!0,class:!0,id:!0,autocomplete:!0,placeholder:!0,name:!0,title:!0,tabindex:!0}),d=U(ne),N&&N.l(ne),ne.forEach(m),_=U(C),v=E(C,"DIV",{class:!0});var fe=p(v);g&&g.l(fe),fe.forEach(m),C.forEach(m),this.h()},h(){c(t,"name",n[20]),c(t,"id",n[21]),t.multiple=n[6],c(t,"class","svelte-1nqq7zl"),c(o,"type","text"),c(o,"class",r=(n[17]?n[17]:"")+" "+(n[27]?"":"input autocomplete-input")+" svelte-1nqq7zl"),c(o,"id",f=n[18]?n[18]:""),c(o,"autocomplete",u=n[23]?"on":"off"),c(o,"placeholder",n[15]),c(o,"name",n[19]),o.disabled=n[26],o.required=n[28],c(o,"title",n[22]),o.readOnly=h=n[24]||n[8]&&n[1],c(o,"tabindex",n[29]),c(l,"class","input-container svelte-1nqq7zl"),c(v,"class",I=(n[25]?n[25]:"")+" autocomplete-list "+(n[36]?"":"hidden")+" is-fullwidth svelte-1nqq7zl"),c(e,"class",L=(n[16]?n[16]:"")+" "+(n[9]||!n[0].length?"hide-arrow":"")+" "+(n[6]?"is-multiple":"")+" autocomplete select is-fullwidth "+n[37]+" svelte-1nqq7zl"),Ne(e,"show-clear",n[35]),Ne(e,"is-loading",n[10]&&n[34])},m(k,C){D(k,e,C),w(e,t),H&&H.m(t,null),w(e,s),w(e,l),q&&q.m(l,null),w(l,i),w(l,o),n[84](o),Wt(o,n[3]),w(l,d),N&&N.m(l,null),w(e,_),w(e,v),~b&&j[b].m(v,null),n[88](v),A=!0,M||(K=[X(window,"click",n[41]),X(o,"input",n[85]),X(o,"input",n[44]),X(o,"focus",n[47]),X(o,"blur",n[48]),X(o,"keydown",n[42]),X(o,"click",n[46]),X(o,"keypress",n[43])],M=!0)},p(k,C){le===(le=oe(k))&&H?H.p(k,C):(H&&H.d(1),H=le&&le(k),H&&(H.c(),H.m(t,null))),(!A||C[0]&1048576)&&c(t,"name",k[20]),(!A||C[0]&2097152)&&c(t,"id",k[21]),(!A||C[0]&64)&&(t.multiple=k[6]),k[6]&&k[1]?q?(q.p(k,C),C[0]&66&&P(q,1)):(q=il(k),q.c(),P(q,1),q.m(l,i)):q&&(ye(),J(q,1,1,()=>{q=null}),Se()),(!A||C[0]&134348800&&r!==(r=(k[17]?k[17]:"")+" "+(k[27]?"":"input autocomplete-input")+" svelte-1nqq7zl"))&&c(o,"class",r),(!A||C[0]&262144&&f!==(f=k[18]?k[18]:""))&&c(o,"id",f),(!A||C[0]&8388608&&u!==(u=k[23]?"on":"off"))&&c(o,"autocomplete",u),(!A||C[0]&32768)&&c(o,"placeholder",k[15]),(!A||C[0]&524288)&&c(o,"name",k[19]),(!A||C[0]&67108864)&&(o.disabled=k[26]),(!A||C[0]&268435456)&&(o.required=k[28]),(!A||C[0]&4194304)&&c(o,"title",k[22]),(!A||C[0]&16777474&&h!==(h=k[24]||k[8]&&k[1]))&&(o.readOnly=h),(!A||C[0]&536870912)&&c(o,"tabindex",k[29]),C[0]&8&&o.value!==k[3]&&Wt(o,k[3]),k[35]?N?N.p(k,C):(N=al(k),N.c(),N.m(l,null)):N&&(N.d(1),N=null);let $=b;b=ae(k),b===$?~b&&j[b].p(k,C):(g&&(ye(),J(j[$],1,1,()=>{j[$]=null}),Se()),~b?(g=j[b],g?g.p(k,C):(g=j[b]=G[b](k),g.c()),P(g,1),g.m(v,null)):g=null),(!A||C[0]&33554432|C[1]&32&&I!==(I=(k[25]?k[25]:"")+" autocomplete-list "+(k[36]?"":"hidden")+" is-fullwidth svelte-1nqq7zl"))&&c(v,"class",I),(!A||C[0]&66113&&L!==(L=(k[16]?k[16]:"")+" "+(k[9]||!k[0].length?"hide-arrow":"")+" "+(k[6]?"is-multiple":"")+" autocomplete select is-fullwidth "+k[37]+" svelte-1nqq7zl"))&&c(e,"class",L),C[0]&66113|C[1]&16&&Ne(e,"show-clear",k[35]),C[0]&67137|C[1]&8&&Ne(e,"is-loading",k[10]&&k[34])},i(k){A||(P(q),P(g),A=!0)},o(k){J(q),J(g),A=!1},d(k){k&&m(e),H&&H.d(),q&&q.d(),n[84](null),N&&N.d(),~b&&j[b].d(),n[88](null),M=!1,_t(K)}}}function An(n,e){if(typeof n!="function"){console.error("Not a function: "+n+", argument: "+e);return}let t;try{t=n(e)}catch{console.warn("Error executing Autocomplete function on value: "+e+" function: "+n)}return t}function et(n,e){let t=An(n,e);return t==null&&(t=""),typeof t!="string"&&(t=t.toString()),t}function mt(n,e){if(!n)return 0;const t=n.keywords;let s=0;return e.forEach(l=>{t.includes(l)&&s++}),s}function qn(n,e,t){return mt(e,t)-mt(n,t)}function tt(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function Ln(n,e,t){let s,l,{$$slots:i={},$$scope:o}=e,{items:r=[]}=e,{searchFunction:f=!1}=e,{labelFieldName:u=void 0}=e,{keywordsFieldName:h=u}=e,{valueFieldName:d=void 0}=e,{labelFunction:_=function(a){return a==null?"":u?a[u]:a}}=e,{keywordsFunction:v=function(a){return a==null?"":h?a[h]:_(a)}}=e,{valueFunction:b=function(a,y=!1){return a==null?a:!N||y?d?a[d]:a:a.map(F=>d?F[d]:F)}}=e,{keywordsCleanFunction:g=function(a){return a}}=e,{textCleanFunction:I=function(a){return a}}=e,{beforeChange:L=function(a,y){return!0}}=e,{onChange:A=function(a){}}=e,{onFocus:M=function(){}}=e,{onBlur:K=function(){}}=e,{onCreate:oe=function(a){T&&console.log("onCreate: "+a)}}=e,{selectFirstIfEmpty:le=!1}=e,{minCharactersToSearch:H=1}=e,{maxItemsToShowInList:q=0}=e,{multiple:N=!1}=e,{create:G=!1}=e,{ignoreAccents:j=!0}=e,{matchAllKeywords:ae=!0}=e,{sortByMatchedKeywords:k=!1}=e,{itemFilterFunction:C=void 0}=e,{itemSortFunction:$=void 0}=e,{lock:ne=!1}=e,{delay:fe=0}=e,{localFiltering:we=!0}=e,{localSorting:ke=!0}=e,{cleanUserText:lt=!0}=e,{closeOnBlur:nt=!1}=e,{hideArrow:gt=!1}=e,{showClear:st=!1}=e,{showLoadingIndicator:bt=!1}=e,{noResultsText:wt="No results found"}=e,{loadingText:kt="Loading results..."}=e,{moreItemsText:vt="items not shown"}=e,{createText:pt="Not found, add anyway?"}=e,{placeholder:It=void 0}=e,{className:yt=void 0}=e,{inputClassName:St=void 0}=e,{inputId:Ee=void 0}=e,{name:Et=void 0}=e,{selectName:Ft=void 0}=e,{selectId:Ct=void 0}=e,{title:Tt=void 0}=e,{html5autocomplete:Nt=void 0}=e,{readonly:Dt=void 0}=e,{dropdownClassName:At=void 0}=e,{disabled:qt=!1}=e,{noInputStyles:Lt=!1}=e,{required:Vt=null}=e,{debug:T=!1}=e,{tabindex:Bt=0}=e,{selectedItem:z=N?[]:void 0}=e,{value:ot=void 0}=e,{highlightedItem:it=void 0}=e;const Kt="sautocomplete-"+Math.floor(Math.random()*1e3);let ge,Fe,ve=!1,He=!1,Y=-1,{text:se}=e,Ge=0,x,ie=[],rt=0,pe=0,at;function ft(a){return et(_,a)}function Dl(a){const y=et(v,a);let F=et(g,y);return F=F.toLowerCase().trim(),j&&(F=tt(F)),T&&console.log("Extracted keywords: '"+F+"' from item: "+JSON.stringify(a)),F}function Je(){let a;T&&(a=`Autocomplete prepare list ${Ee?`(id: ${Ee})`:""}`,console.time(a),console.log("Prepare items to search"),console.log("items: "+JSON.stringify(r))),Array.isArray(r)||(console.warn("Autocomplete items / search function did not return array but",r),t(0,r=[]));const y=r?r.length:0;ie=new Array(y),y>0&&r.forEach((F,O)=>{const ee=Al(F);ee===void 0&&console.log("Undefined item for: ",F),ie[O]=ee}),t(31,x=ie),T&&(console.log(ie.length+" items to search"),console.timeEnd(a))}function Al(a){return{keywords:we?Dl(a):[],label:ft(a),item:a}}function ql(){t(2,ot=b(z)),t(3,se=N?"":ft(z)),t(31,x=ie),A(z)}function Ll(a){if(a==null)return"";if(!lt)return a;const y=a.replace(/[&/\\#,+()$~%.'":*?<>{}]/g," ").trim();return et(I,y).toLowerCase().trim()}async function Mt(){let a;T&&(a=`Autocomplete search ${Ee?`(id: ${Ee})`:""}`,console.time(a),console.log("Searching user entered text: '"+se+"'"));let y=Ll(se);if(H>1&&y.length<H&&(y=""),t(81,Ge=y.length),T&&console.log("Changed user entered text '"+se+"' into '"+y+"'"),y===""){f?(t(0,r=[]),T&&console.log("User entered text is empty clear list of items")):(t(31,x=ie),T&&console.log("User entered text is empty set the list of items to all items")),Gt(),T&&console.timeEnd(a);return}if(!f)We(y);else{rt=rt+1;const F=rt;if(t(34,He=!0),f.constructor.name==="AsyncGeneratorFunction"){for await(const O of f(y,q)){if(F<pe)return!1;F>pe&&t(0,r=[]),pe=F,t(0,r=[...r,...O]),We(y)}pe<F&&(pe=F,t(0,r=[]),We(y))}else{let O=await f(y,q);if(F<pe)return!1;pe=F,t(0,r=O),We(y)}t(34,He=!1)}T&&(console.timeEnd(a),console.log("Search found "+x.length+" items"))}function Vl(a,y){const F=mt(a,y);return ae?F>=y.length:F>0}function We(a){Je();const F=(j?tt(a):a).split(/\s+/g).filter(re=>re!=="");let O;we?(C?O=ie.filter(re=>C(re.item,F)):O=ie.filter(re=>Vl(re,F)),ke&&($?O=O.sort((re,Le)=>$(re.item,Le.item,F)):k&&(O=O.sort((re,Le)=>qn(re,Le,F))))):O=ie;const ee=Jt(F,"label");return t(31,x=O.map(ee)),Gt(),!0}function zt(a){let y;if(T&&console.log("createdItem",a),typeof a!="undefined"){Je(),t(31,x=ie);let F=Ut(a,x);F<=0&&(t(0,r=[a]),Je(),t(31,x=ie),F=0),F>=0&&(t(30,Y=F),y=x[Y])}return y}function ut(a){if(T&&console.log("selectListItem",a),typeof a=="undefined"&&G){const F=oe(se);if(typeof F!="undefined"){if(typeof F.then=="function")return F.then(O=>{if(typeof O!="undefined"){const ee=zt(O);typeof ee!="undefined"&&ut(ee)}}),!0;a=zt(F)}}if(typeof a=="undefined")return T&&console.log("listItem is undefined. Can not select."),!1;if(ne&&z)return!0;const y=a.item;return L(z,y)&&(N?z?z.includes(y)?t(1,z=z.filter(F=>F!==y)):t(1,z=[...z,y]):t(1,z=[y]):(t(1,z=void 0),t(1,z=y))),!0}function ct(){T&&console.log("selectItem",Y);const a=x[Y];ut(a)?(T&&console.log("selectListItem true, closing"),_e(),N&&ge.focus()):T&&console.log("selectListItem false, not closing")}function Bl(){T&&console.log("up"),Qe(),Y>0&&t(30,Y--,Y),Ye()}function Kl(){T&&console.log("down"),Qe(),Y<x.length-1&&t(30,Y++,Y),Ye()}function Ye(){T&&console.log("highlight");const a=".selected";T&&console.log("Seaching DOM element: "+a+" in "+Fe);const y=Fe&&Fe.querySelector(a);y?typeof y.scrollIntoViewIfNeeded=="function"?(T&&console.log("Scrolling selected item into view"),y.scrollIntoViewIfNeeded()):y.scrollIntoView==="function"?(T&&console.log("Scrolling selected item into view"),y.scrollIntoView()):T&&console.warn("Could not scroll selected item into view, scrollIntoViewIfNeeded not supported"):T&&console.warn("Selected item not found to scroll into view")}function Ot(a){T&&console.log("onListItemClick"),ut(a)&&(_e(),N&&ge.focus())}function Ml(a){T&&console.log("onDocumentClick"),a.composedPath().some(y=>y.classList&&y.classList.contains(Kt))?(T&&console.log("onDocumentClick inside"),Ye()):(T&&console.log("onDocumentClick outside"),_e())}function zl(a){T&&console.log("onKeyDown");let y=a.key;y==="Tab"&&a.shiftKey&&(y="ShiftTab");const O={Tab:ve?_e():null,ShiftTab:ve?_e():null,ArrowDown:Kl.bind(this),ArrowUp:Bl.bind(this),Escape:Ul.bind(this),Backspace:N&&z&&z.length&&!se?Hl.bind(this):null}[y];typeof O=="function"&&O(a)}function Ol(a){T&&console.log("onKeyPress"),a.key==="Enter"&&(a.preventDefault(),Pl())}function Pl(){ct()}function jl(a){T&&console.log("onInput"),t(3,se=a.target.value),at&&clearTimeout(at),fe?at=setTimeout(jt,fe):jt()}function Pt(a){T&&console.log("unselectItem",a),t(1,z=z.filter(y=>y!==a)),ge.focus()}function jt(){Mt()&&(t(30,Y=0),Qe())}function Rl(){T&&console.log("onInputClick"),Rt()}function Ul(a){T&&console.log("onEsc"),a.stopPropagation(),ve&&(ge.focus(),_e())}function Hl(a){T&&console.log("onBackspace"),Pt(z[z.length-1])}function Gl(){T&&console.log("onFocus"),M(),Rt()}function Jl(){T&&console.log("onBlur"),nt&&_e(),K()}function Rt(){if(T&&console.log("resetListToAllItemsAndOpen"),se?!ie.length&&z&&f&&Mt():t(31,x=ie),Qe(),z){T&&console.log("Searching currently selected item: "+JSON.stringify(z));const a=Ut(z,x);a>=0&&(t(30,Y=a),Ye())}}function Ut(a,y){T&&console.log("Finding index for item",a);let F=-1;for(let O=0;O<y.length;O++){const ee=y[O];if(typeof ee=="undefined"){T&&console.log(`listItem ${O} is undefined. Skipping.`);continue}if(T&&console.log("Item "+O+": "+JSON.stringify(ee)),a===ee.item){F=O;break}}return T&&(F>=0?console.log("Found index for item: "+F):console.warn("Not found index for item: "+a)),F}function Qe(){T&&console.log("open"),!Ht()&&t(80,ve=!0)}function _e(){T&&console.log("close"),t(80,ve=!1),t(34,He=!1),!se&&le&&(t(30,Y=0),ct())}function Ht(){return H>1&&Ge<H}function Gt(){Ht()&&_e()}function Wl(){T&&console.log("clear"),t(3,se=""),t(1,z=N?[]:void 0),setTimeout(()=>{ge.focus(),_e()})}function Jt(a,y){return F=>{let O=F[y];const ee=Object.assign({highlighted:void 0},F);ee.highlighted=O;const re=O.toLowerCase(),Le=j?tt(re):re;if(a&&a.length){const Xe=[];for(let Ce=0;Ce<a.length;Ce++){let ue=a[Ce];j&&(ue=tt(ue));const Te=ue.length;let ce=0;do if(ce=Le.indexOf(ue,ce),ce>=0){let Ze=ce+Te;Xe.push([ce,Ze]),ce=Ze}while(ce!==-1)}if(Xe.length>0){const Ce=new Set;for(let ue=0;ue<Xe.length;ue++){const Te=Xe[ue],ce=Te[0],Ze=Te[1],en=re.substring(ce,Ze);Ce.add(en)}for(let ue of Ce){if(ue==="b")continue;const Te=new RegExp("("+ue+")","ig"),ce=ee.highlighted.replace(Te,"<b>$1</b>");ee.highlighted=ce}}}return ee}}function Yl(a){return z?N?z.includes(a):a===z:!1}function Ql(a){dt[a?"unshift":"push"](()=>{ge=a,t(32,ge)})}function Xl(){se=this.value,t(3,se)}const Zl=a=>Ot(a),xl=a=>{t(30,Y=a)};function $l(a){dt[a?"unshift":"push"](()=>{Fe=a,t(33,Fe)})}return n.$$set=a=>{"items"in a&&t(0,r=a.items),"searchFunction"in a&&t(52,f=a.searchFunction),"labelFieldName"in a&&t(53,u=a.labelFieldName),"keywordsFieldName"in a&&t(54,h=a.keywordsFieldName),"valueFieldName"in a&&t(55,d=a.valueFieldName),"labelFunction"in a&&t(56,_=a.labelFunction),"keywordsFunction"in a&&t(57,v=a.keywordsFunction),"valueFunction"in a&&t(4,b=a.valueFunction),"keywordsCleanFunction"in a&&t(58,g=a.keywordsCleanFunction),"textCleanFunction"in a&&t(59,I=a.textCleanFunction),"beforeChange"in a&&t(60,L=a.beforeChange),"onChange"in a&&t(61,A=a.onChange),"onFocus"in a&&t(62,M=a.onFocus),"onBlur"in a&&t(63,K=a.onBlur),"onCreate"in a&&t(64,oe=a.onCreate),"selectFirstIfEmpty"in a&&t(65,le=a.selectFirstIfEmpty),"minCharactersToSearch"in a&&t(66,H=a.minCharactersToSearch),"maxItemsToShowInList"in a&&t(5,q=a.maxItemsToShowInList),"multiple"in a&&t(6,N=a.multiple),"create"in a&&t(7,G=a.create),"ignoreAccents"in a&&t(67,j=a.ignoreAccents),"matchAllKeywords"in a&&t(68,ae=a.matchAllKeywords),"sortByMatchedKeywords"in a&&t(69,k=a.sortByMatchedKeywords),"itemFilterFunction"in a&&t(70,C=a.itemFilterFunction),"itemSortFunction"in a&&t(71,$=a.itemSortFunction),"lock"in a&&t(8,ne=a.lock),"delay"in a&&t(72,fe=a.delay),"localFiltering"in a&&t(73,we=a.localFiltering),"localSorting"in a&&t(74,ke=a.localSorting),"cleanUserText"in a&&t(75,lt=a.cleanUserText),"closeOnBlur"in a&&t(76,nt=a.closeOnBlur),"hideArrow"in a&&t(9,gt=a.hideArrow),"showClear"in a&&t(77,st=a.showClear),"showLoadingIndicator"in a&&t(10,bt=a.showLoadingIndicator),"noResultsText"in a&&t(11,wt=a.noResultsText),"loadingText"in a&&t(12,kt=a.loadingText),"moreItemsText"in a&&t(13,vt=a.moreItemsText),"createText"in a&&t(14,pt=a.createText),"placeholder"in a&&t(15,It=a.placeholder),"className"in a&&t(16,yt=a.className),"inputClassName"in a&&t(17,St=a.inputClassName),"inputId"in a&&t(18,Ee=a.inputId),"name"in a&&t(19,Et=a.name),"selectName"in a&&t(20,Ft=a.selectName),"selectId"in a&&t(21,Ct=a.selectId),"title"in a&&t(22,Tt=a.title),"html5autocomplete"in a&&t(23,Nt=a.html5autocomplete),"readonly"in a&&t(24,Dt=a.readonly),"dropdownClassName"in a&&t(25,At=a.dropdownClassName),"disabled"in a&&t(26,qt=a.disabled),"noInputStyles"in a&&t(27,Lt=a.noInputStyles),"required"in a&&t(28,Vt=a.required),"debug"in a&&t(78,T=a.debug),"tabindex"in a&&t(29,Bt=a.tabindex),"selectedItem"in a&&t(1,z=a.selectedItem),"value"in a&&t(2,ot=a.value),"highlightedItem"in a&&t(51,it=a.highlightedItem),"text"in a&&t(3,se=a.text),"$$scope"in a&&t(82,o=a.$$scope)},n.$$.update=()=>{n.$$.dirty[0]&1|n.$$.dirty[1]&2097152&&(f||Je()),n.$$.dirty[0]&2&&ql(),n.$$.dirty[0]&1073741824|n.$$.dirty[1]&1&&t(51,it=x&&Y&&Y>=0&&Y<x.length?x[Y].item:null),n.$$.dirty[0]&1|n.$$.dirty[2]&786432&&t(36,s=ve&&(r&&r.length>0||Ge>0)),n.$$.dirty[0]&322|n.$$.dirty[2]&32768&&t(35,l=st||(ne||N)&&z)},[r,z,ot,se,b,q,N,G,ne,gt,bt,wt,kt,vt,pt,It,yt,St,Ee,Et,Ft,Ct,Tt,Nt,Dt,At,qt,Lt,Vt,Bt,Y,x,ge,Fe,He,l,s,Kt,ft,ct,Ot,Ml,zl,Ol,jl,Pt,Rl,Gl,Jl,Wl,Yl,it,f,u,h,d,_,v,g,I,L,A,M,K,oe,le,H,j,ae,k,C,$,fe,we,ke,lt,nt,st,T,Jt,ve,Ge,o,i,Ql,Xl,Zl,xl,$l]}class Vn extends De{constructor(e){super(),Ae(this,e,Ln,Dn,qe,{items:0,searchFunction:52,labelFieldName:53,keywordsFieldName:54,valueFieldName:55,labelFunction:56,keywordsFunction:57,valueFunction:4,keywordsCleanFunction:58,textCleanFunction:59,beforeChange:60,onChange:61,onFocus:62,onBlur:63,onCreate:64,selectFirstIfEmpty:65,minCharactersToSearch:66,maxItemsToShowInList:5,multiple:6,create:7,ignoreAccents:67,matchAllKeywords:68,sortByMatchedKeywords:69,itemFilterFunction:70,itemSortFunction:71,lock:8,delay:72,localFiltering:73,localSorting:74,cleanUserText:75,closeOnBlur:76,hideArrow:9,showClear:77,showLoadingIndicator:10,noResultsText:11,loadingText:12,moreItemsText:13,createText:14,placeholder:15,className:16,inputClassName:17,inputId:18,name:19,selectName:20,selectId:21,title:22,html5autocomplete:23,readonly:24,dropdownClassName:25,disabled:26,noInputStyles:27,required:28,debug:78,tabindex:29,selectedItem:1,value:2,highlightedItem:51,text:3,highlightFilter:79},null,[-1,-1,-1,-1])}get highlightFilter(){return this.$$.ctx[79]}}function hl(n){let e,t=be.get().name+"",s,l,i=be.get().artist+"",o,r,f,u;return{c(){e=S("div"),s=V(t),l=V(" by "),o=V(i),this.h()},l(h){e=E(h,"DIV",{title:!0,class:!0});var d=p(e);s=B(d,t),l=B(d," by "),o=B(d,i),d.forEach(m),this.h()},h(){c(e,"title","Open in Spotify"),c(e,"class",r="cursor-pointer border-blue-600 border-2 h-10 p-2 my-2 w-full text-left rounded-sm bg-gray-900 overflow-ellipsis whitespace-nowrap overflow-hidden")},m(h,d){D(h,e,d),w(e,s),w(e,l),w(e,o),f||(u=X(e,"click",n[6]),f=!0)},p:de,d(h){h&&m(e),f=!1,u()}}}function ml(n){let e,t=n[1]?"custom ":"",s,l,i=Tl(new Date,n[3])+"",o;return{c(){e=S("span"),s=V(t),l=V("audial #"),o=V(i),this.h()},l(r){e=E(r,"SPAN",{class:!0});var f=p(e);s=B(f,t),l=B(f,"audial #"),o=B(f,i),f.forEach(m),this.h()},h(){c(e,"class","my-2")},m(r,f){D(r,e,f),w(e,s),w(e,l),w(e,o)},p(r,f){f&2&&t!==(t=r[1]?"custom ":"")&&te(s,t)},d(r){r&&m(e)}}}function _l(n){let e,t,s,l,i,o,r;return t=new Nl({props:{title:"Share Score",className:"block mx-auto",type:"submit",$$slots:{default:[Bn]},$$scope:{ctx:n}}}),t.$on("click",n[5]),{c(){e=S("div"),Be(t.$$.fragment),s=R(),l=S("p"),i=V("copied to clipboard."),this.h()},l(f){e=E(f,"DIV",{class:!0});var u=p(e);Ke(t.$$.fragment,u),s=U(u),l=E(u,"P",{class:!0});var h=p(l);i=B(h,"copied to clipboard."),h.forEach(m),u.forEach(m),this.h()},h(){c(l,"class",o=`${n[2]?"opacity-100":"opacity-0"} text-blue-100 font-semibold transition-all duration-500 my-2`),c(e,"class","w-full mx-auto my-2")},m(f,u){D(f,e,u),Me(t,e,null),w(e,s),w(e,l),w(l,i),r=!0},p(f,u){const h={};u&256&&(h.$$scope={dirty:u,ctx:f}),t.$set(h),(!r||u&4&&o!==(o=`${f[2]?"opacity-100":"opacity-0"} text-blue-100 font-semibold transition-all duration-500 my-2`))&&c(l,"class",o)},i(f){r||(P(t.$$.fragment,f),r=!0)},o(f){J(t.$$.fragment,f),r=!1},d(f){f&&m(e),ze(t)}}}function Bn(n){let e;return{c(){e=V("share")},l(t){e=B(t,"share")},m(t,s){D(t,e,s)},d(t){t&&m(e)}}}function Kn(n){let e,t=n[1]||n[0]?!Z.get().correct:!Q.get().correct,s,l,i,o=n[4]()+"",r,f,u,h=t&&hl(n),d=!n[0]&&ml(n),_=!n[0]&&_l(n);return{c(){e=S("div"),h&&h.c(),s=R(),d&&d.c(),l=R(),i=S("span"),r=V(o),f=R(),_&&_.c(),this.h()},l(v){e=E(v,"DIV",{class:!0});var b=p(e);h&&h.l(b),s=U(b),d&&d.l(b),l=U(b),i=E(b,"SPAN",{});var g=p(i);r=B(g,o),g.forEach(m),f=U(b),_&&_.l(b),b.forEach(m),this.h()},h(){c(e,"class","py-3")},m(v,b){D(v,e,b),h&&h.m(e,null),w(e,s),d&&d.m(e,null),w(e,l),w(e,i),w(i,r),w(e,f),_&&_.m(e,null),u=!0},p(v,[b]){b&3&&(t=v[1]||v[0]?!Z.get().correct:!Q.get().correct),t?h?h.p(v,b):(h=hl(v),h.c(),h.m(e,s)):h&&(h.d(1),h=null),v[0]?d&&(d.d(1),d=null):d?d.p(v,b):(d=ml(v),d.c(),d.m(e,l)),v[0]?_&&(ye(),J(_,1,1,()=>{_=null}),Se()):_?(_.p(v,b),b&1&&P(_,1)):(_=_l(v),_.c(),P(_,1),_.m(e,null))},i(v){u||(P(_),u=!0)},o(v){J(_),u=!1},d(v){v&&m(e),h&&h.d(),d&&d.d(),_&&_.d()}}}function Mn(n,e,t){let s;Sl(n,ht,d=>t(7,s=d));let{random:l}=e,{custom:i}=e,o=!1;const r=new Date("4/12/2022"),f=()=>{let d="";for(const _ of(i||l?Z.get().guesses:Q.get().guesses)||[])_.correct?d+="\u{1F7E9} ":_.artistCorrect?d+="\u{1F7E8} ":_.song?d+="\u{1F7E5} ":d+="\u2B1C ";for(let _=0;_<6-(i||l?Z.get().attempts:Q.get().attempts);_++)d+="\u2B1B ";return d},u=()=>{let d=`${i?"custom ":""}audial #`+Tl(new Date,r);d+=`
`+f();const _=s.url.toString()+(i?s.url.pathname:"");d+=`
`+_,navigator.clipboard.writeText(d),t(2,o=!0),Ie.track("share-score",{result:f(),custom:i})},h=()=>{window.open(`https://open.spotify.com/track/${be.get().id}`,"_blank").focus()};return n.$$set=d=>{"random"in d&&t(0,l=d.random),"custom"in d&&t(1,i=d.custom)},[l,i,o,r,f,u,h]}class zn extends De{constructor(e){super(),Ae(this,e,Mn,Kn,qe,{random:0,custom:1})}}function gl(n,e,t){const s=n.slice();return s[12]=e[t],s}function bl(n,e,t){const s=n.slice();return s[12]=e[t],s}function wl(n){let e,t,s;return{c(){e=S("div"),t=S("span"),s=V("listen to the song and try to guess it correctly. you have 6 attempts."),this.h()},l(l){e=E(l,"DIV",{class:!0});var i=p(e);t=E(i,"SPAN",{class:!0});var o=p(t);s=B(o,"listen to the song and try to guess it correctly. you have 6 attempts."),o.forEach(m),i.forEach(m),this.h()},h(){c(t,"class","text-center mx-auto w-full text-blue-100"),c(e,"class","w-full px-0 sm:px-20 transition-all duration-200")},m(l,i){D(l,e,i),w(e,t),w(t,s)},d(l){l&&m(e)}}}function kl(n){let e,t,s=n[2].guesses.filter(Il),l=[];for(let r=0;r<s.length;r+=1)l[r]=vl(bl(n,s,r));let i=n[2].guesses.filter(yl),o=[];for(let r=0;r<i.length;r+=1)o[r]=pl(gl(n,i,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=R();for(let r=0;r<o.length;r+=1)o[r].c();t=W()},l(r){for(let f=0;f<l.length;f+=1)l[f].l(r);e=U(r);for(let f=0;f<o.length;f+=1)o[f].l(r);t=W()},m(r,f){for(let u=0;u<l.length;u+=1)l[u].m(r,f);D(r,e,f);for(let u=0;u<o.length;u+=1)o[u].m(r,f);D(r,t,f)},p(r,f){if(f&4){s=r[2].guesses.filter(Il);let u;for(u=0;u<s.length;u+=1){const h=bl(r,s,u);l[u]?l[u].p(h,f):(l[u]=vl(h),l[u].c(),l[u].m(e.parentNode,e))}for(;u<l.length;u+=1)l[u].d(1);l.length=s.length}if(f&4){i=r[2].guesses.filter(yl);let u;for(u=0;u<i.length;u+=1){const h=gl(r,i,u);o[u]?o[u].p(h,f):(o[u]=pl(h),o[u].c(),o[u].m(t.parentNode,t))}for(;u<o.length;u+=1)o[u].d(1);o.length=i.length}},d(r){Oe(l,r),r&&m(e),Oe(o,r),r&&m(t)}}}function On(n){let e,t;return{c(){e=S("div"),t=V("song guess skipped"),this.h()},l(s){e=E(s,"DIV",{class:!0});var l=p(e);t=B(l,"song guess skipped"),l.forEach(m),this.h()},h(){c(e,"class","border-gray-600 border-2 h-10 p-2 my-2 w-full text-left rounded-sm bg-gray-900 overflow-ellipsis whitespace-nowrap overflow-hidden")},m(s,l){D(s,e,l),w(e,t)},p:de,d(s){s&&m(e)}}}function Pn(n){let e,t=n[12].song.name+"",s,l,i=n[12].song.artist+"",o,r,f,u;function h(){return n[8](n[12])}return{c(){e=S("div"),s=V(t),l=V(" by "),o=V(i),this.h()},l(d){e=E(d,"DIV",{title:!0,class:!0});var _=p(e);s=B(_,t),l=B(_," by "),o=B(_,i),_.forEach(m),this.h()},h(){c(e,"title","Open in Spotify"),c(e,"class",r=`cursor-pointer ${n[12].artistCorrect?"border-amber-400":"border-red-600"} border-2 h-10 p-2 my-2 w-full text-left rounded-sm bg-gray-900 overflow-ellipsis whitespace-nowrap overflow-hidden`)},m(d,_){D(d,e,_),w(e,s),w(e,l),w(e,o),f||(u=X(e,"click",h),f=!0)},p(d,_){n=d,_&4&&t!==(t=n[12].song.name+"")&&te(s,t),_&4&&i!==(i=n[12].song.artist+"")&&te(o,i),_&4&&r!==(r=`cursor-pointer ${n[12].artistCorrect?"border-amber-400":"border-red-600"} border-2 h-10 p-2 my-2 w-full text-left rounded-sm bg-gray-900 overflow-ellipsis whitespace-nowrap overflow-hidden`)&&c(e,"class",r)},d(d){d&&m(e),f=!1,u()}}}function vl(n){let e;function t(i,o){return i[12].song?Pn:On}let s=t(n),l=s(n);return{c(){l.c(),e=W()},l(i){l.l(i),e=W()},m(i,o){l.m(i,o),D(i,e,o)},p(i,o){s===(s=t(i))&&l?l.p(i,o):(l.d(1),l=s(i),l&&(l.c(),l.m(e.parentNode,e)))},d(i){l.d(i),i&&m(e)}}}function pl(n){let e,t=n[12].song.name+"",s,l,i=n[12].song.artist+"",o,r,f,u;function h(){return n[9](n[12])}return{c(){e=S("div"),s=V(t),l=V(" by "),o=V(i),r=R(),this.h()},l(d){e=E(d,"DIV",{title:!0,class:!0});var _=p(e);s=B(_,t),l=B(_," by "),o=B(_,i),r=U(_),_.forEach(m),this.h()},h(){c(e,"title","Open in Spotify"),c(e,"class","cursor-pointer border-green-600 border-2 h-10 p-2 my-2 w-full text-left rounded-sm bg-gray-900 overflow-ellipsis whitespace-nowrap overflow-hidden")},m(d,_){D(d,e,_),w(e,s),w(e,l),w(e,o),w(e,r),f||(u=X(e,"click",h),f=!0)},p(d,_){n=d,_&4&&t!==(t=n[12].song.name+"")&&te(s,t),_&4&&i!==(i=n[12].song.artist+"")&&te(o,i)},d(d){d&&m(e),f=!1,u()}}}function jn(n){let e,t;return e=new zn({props:{custom:n[1],random:n[0]}}),{c(){Be(e.$$.fragment)},l(s){Ke(e.$$.fragment,s)},m(s,l){Me(e,s,l),t=!0},p(s,l){const i={};l&2&&(i.custom=s[1]),l&1&&(i.random=s[0]),e.$set(i)},i(s){t||(P(e.$$.fragment,s),t=!0)},o(s){J(e.$$.fragment,s),t=!1},d(s){ze(e,s)}}}function Rn(n){let e,t,s,l,i,o,r,f,u,h,d,_;function v(g){n[10](g)}let b={name:"song-selection",className:"w-10/12",inputClassName:"border-gray-600 border-2 w-full h-8 px-2 py-5 rounded-sm bg-gray-900 hover:border-gray-400 focus:border-gray-400 outline-none transition-all duration-200",dropdownClassName:"p-0 bg-gray-900",placeholder:`${6-n[2].attempts} ${6-n[2].attempts!==1?"attempts":"attempt"} left`,minCharactersToSearch:2,searchFunction:n[6],labelFieldName:"name",valueFieldName:"id",showLoadingIndicator:!0,noInputStyles:!0,hideArrow:!0,$$slots:{loading:[Gn],"no-results":[Hn],item:[Un,({item:g})=>({11:g}),({item:g})=>g?2048:0]},$$scope:{ctx:n}};return n[3]!==void 0&&(b.selectedItem=n[3]),t=new Vn({props:b}),dt.push(()=>nn(t,"selectedItem",v)),o=new Nl({props:{title:"Submit Song Guess",type:"primary",className:"w-full",$$slots:{default:[Jn]},$$scope:{ctx:n}}}),o.$on("click",n[4]),{c(){e=S("div"),Be(t.$$.fragment),l=R(),i=S("div"),Be(o.$$.fragment),r=R(),f=S("div"),u=V("skip"),this.h()},l(g){e=E(g,"DIV",{class:!0,title:!0});var I=p(e);Ke(t.$$.fragment,I),l=U(I),i=E(I,"DIV",{class:!0,title:!0});var L=p(i);Ke(o.$$.fragment,L),r=U(L),f=E(L,"DIV",{class:!0});var A=p(f);u=B(A,"skip"),A.forEach(m),L.forEach(m),I.forEach(m),this.h()},h(){c(f,"class","text-gray-400 cursor-pointer text-center underline underline-offset-1"),c(i,"class","w-2/12 pl-4 mt-0.5"),c(i,"title","guess selected song"),c(e,"class","flex mt-6 mb-2"),c(e,"title","guess a song")},m(g,I){D(g,e,I),Me(t,e,null),w(e,l),w(e,i),Me(o,i,null),w(i,r),w(i,f),w(f,u),h=!0,d||(_=X(f,"click",n[5]),d=!0)},p(g,I){const L={};I&4&&(L.placeholder=`${6-g[2].attempts} ${6-g[2].attempts!==1?"attempts":"attempt"} left`),I&133120&&(L.$$scope={dirty:I,ctx:g}),!s&&I&8&&(s=!0,L.selectedItem=g[3],sn(()=>s=!1)),t.$set(L);const A={};I&131072&&(A.$$scope={dirty:I,ctx:g}),o.$set(A)},i(g){h||(P(t.$$.fragment,g),P(o.$$.fragment,g),h=!0)},o(g){J(t.$$.fragment,g),J(o.$$.fragment,g),h=!1},d(g){g&&m(e),ze(t),ze(o),d=!1,_()}}}function Un(n){let e,t,s=n[11].name+"",l;return{c(){e=S("div"),t=S("span"),l=V(s),this.h()},l(i){e=E(i,"DIV",{slot:!0,class:!0});var o=p(e);t=E(o,"SPAN",{});var r=p(t);l=B(r,s),r.forEach(m),o.forEach(m),this.h()},h(){c(e,"slot","item"),c(e,"class","border-2 h-10 px-2 py-3 w-full text-left rounded-sm bg-gray-900 text-white hover:text-blue-500 hover:border-blue-500 overflow-ellipsis whitespace-nowrap overflow-hidden transition-colors duration-150")},m(i,o){D(i,e,o),w(e,t),w(t,l)},p(i,o){o&2048&&s!==(s=i[11].name+"")&&te(l,s)},d(i){i&&m(e)}}}function Hn(n){let e,t,s;return{c(){e=S("div"),t=S("span"),s=V("could not find this song in the playlist."),this.h()},l(l){e=E(l,"DIV",{slot:!0,class:!0});var i=p(e);t=E(i,"SPAN",{});var o=p(t);s=B(o,"could not find this song in the playlist."),o.forEach(m),i.forEach(m),this.h()},h(){c(e,"slot","no-results"),c(e,"class","py-1")},m(l,i){D(l,e,i),w(e,t),w(t,s)},p:de,d(l){l&&m(e)}}}function Gn(n){let e,t,s;return{c(){e=S("div"),t=S("span"),s=V("searching for songs..."),this.h()},l(l){e=E(l,"DIV",{slot:!0,class:!0});var i=p(e);t=E(i,"SPAN",{});var o=p(t);s=B(o,"searching for songs..."),o.forEach(m),i.forEach(m),this.h()},h(){c(e,"slot","loading"),c(e,"class","py-1")},m(l,i){D(l,e,i),w(e,t),w(t,s)},p:de,d(l){l&&m(e)}}}function Jn(n){let e,t;return{c(){e=he("svg"),t=he("path"),this.h()},l(s){e=me(s,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0});var l=p(e);t=me(l,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),p(t).forEach(m),l.forEach(m),this.h()},h(){c(t,"stroke-linecap","round"),c(t,"stroke-linejoin","round"),c(t,"d","M13 7l5 5m0 0l-5 5m5-5H6"),c(e,"xmlns","http://www.w3.org/2000/svg"),c(e,"class","h-6 w-6 mx-auto"),c(e,"fill","none"),c(e,"viewBox","0 0 24 24"),c(e,"stroke","currentColor"),c(e,"stroke-width","2")},m(s,l){D(s,e,l),w(e,t)},p:de,d(s){s&&m(e)}}}function Wn(n){let e,t,s,l,i,o,r,f=n[2].attempts===0&&wl(),u=n[2].guesses&&kl(n);const h=[Rn,jn],d=[];function _(v,b){return v[2].attempts<6&&!v[2].correct?0:1}return i=_(n),o=d[i]=h[i](n),{c(){e=S("div"),f&&f.c(),t=R(),s=S("div"),u&&u.c(),l=R(),o.c(),this.h()},l(v){e=E(v,"DIV",{});var b=p(e);f&&f.l(b),t=U(b),s=E(b,"DIV",{class:!0});var g=p(s);u&&u.l(g),l=U(g),o.l(g),g.forEach(m),b.forEach(m),this.h()},h(){c(s,"class","w-full px-0 transition-all sm:px-20 items-center game")},m(v,b){D(v,e,b),f&&f.m(e,null),w(e,t),w(e,s),u&&u.m(s,null),w(s,l),d[i].m(s,null),r=!0},p(v,[b]){v[2].attempts===0?f||(f=wl(),f.c(),f.m(e,t)):f&&(f.d(1),f=null),v[2].guesses?u?u.p(v,b):(u=kl(v),u.c(),u.m(s,l)):u&&(u.d(1),u=null);let g=i;i=_(v),i===g?d[i].p(v,b):(ye(),J(d[g],1,1,()=>{d[g]=null}),Se(),o=d[i],o?o.p(v,b):(o=d[i]=h[i](v),o.c()),P(o,1),o.m(s,null))},i(v){r||(P(o),r=!0)},o(v){J(o),r=!1},d(v){v&&m(e),f&&f.d(),u&&u.d(),d[i].d()}}}const Il=n=>!n.correct,yl=n=>n.correct;function Yn(n,e,t){let{random:s=!1}=e,l={},{allTracks:i=[]}=e,{custom:o=!1}=e;El(async()=>{(new Date(Q.get().date).toLocaleDateString()!==new Date().toLocaleDateString()||!Q)&&Q.set({guesses:[],date:new Date,correct:!1,attempts:0}),o||s?(t(2,l=Z.get()),Z.listen(b=>t(2,l=b))):(t(2,l=Q.get()),Q.listen(b=>t(2,l=b))),s&&o?Z.setKey("type","custom_random"):s?Z.setKey("type","random"):o?Z.setKey("type","custom"):Q.setKey("type","default")});let r={};const f=()=>{if(!r||!r.id){on.push("Please select a valid song from the list.",{theme:{"--toastWidth":"20rem","--toastBackground":"#e64949","--toastBarBackground":"#C53030"}});return}const b=[...l.guesses||[]];if(r.id===be.get().id)b.push({song:be.get(),correct:!0,artistCorrect:!0}),o||s?(Z.setKey("guesses",b),Z.setKey("correct",!0),Z.setKey("attempts",l.attempts+1)):(Q.setKey("guesses",b),Q.setKey("correct",!0),Q.setKey("attempts",l.attempts+1)),Ie.track("guess-song",{correct:!0,custom:o,random:s}),Ie.track("attempt-correct",{custom:o,random:s}),$e.set({array:[...$e.get().array,l]});else{const g=i.find(I=>I.id==r.id);b.push({song:Yt(g),correct:!1,artistCorrect:r.artist.includes(be.get().artist)}),o||s?(Z.setKey("guesses",b),Z.setKey("attempts",l.attempts+1)):(Q.setKey("guesses",b),Q.setKey("attempts",l.attempts+1)),Ie.track("guess-song",{correct:!1,custom:o,random:s})}l.attempts===6&&!l.correct&&(Ie.track("attempt-fail",{custom:o,random:s}),$e.set({array:[...$e.get().array,l]})),t(3,r=void 0),Ve.set(!0)},u=()=>{const b=[...l.guesses||[]];b.push({song:null,correct:!1,artistCorrect:!1}),o||s?(Z.setKey("guesses",b),Z.setKey("attempts",l.attempts+1)):(Q.setKey("guesses",b),Q.setKey("attempts",l.attempts+1)),Ie.track("skip-song",{custom:o,random:s})},h=async b=>{let g=i.filter(I=>(I.name+" "+I.artists[0].name).toLowerCase().includes(b.toLowerCase()));return g=g.map(I=>Yt(I)),g=g.map(I=>({name:I.name+" by "+I.artist,id:I.id,artist:I.artist,preview:I.preview})),g},d=b=>{window.open(`https://open.spotify.com/track/${b.song.id}`,"_blank").focus()},_=b=>{window.open(`https://open.spotify.com/track/${b.song.id}`,"_blank").focus()};function v(b){r=b,t(3,r)}return n.$$set=b=>{"random"in b&&t(0,s=b.random),"allTracks"in b&&t(7,i=b.allTracks),"custom"in b&&t(1,o=b.custom)},[s,o,l,r,f,u,h,i,d,_,v]}class ls extends De{constructor(e){super(),Ae(this,e,Yn,Wn,qe,{random:0,allTracks:7,custom:1})}}function Qn(n){let e,t,s;return{c(){e=S("div"),t=he("svg"),s=he("circle"),this.h()},l(l){e=E(l,"DIV",{class:!0});var i=p(e);t=me(i,"svg",{class:!0,height:!0,preserveAspectRatio:!0,style:!0,viewBox:!0,width:!0,xmlns:!0});var o=p(t);s=me(o,"circle",{cx:!0,cy:!0,fill:!0,r:!0,stroke:!0,"stroke-dasharray":!0,"stroke-width":!0}),p(s).forEach(m),o.forEach(m),i.forEach(m),this.h()},h(){c(s,"cx","50"),c(s,"cy","50"),c(s,"fill","none"),c(s,"r","38"),c(s,"stroke","currentColor"),c(s,"stroke-dasharray","179.0707812546182 61.690260418206066"),c(s,"stroke-width","7"),c(t,"class","animate-spin"),c(t,"height","100px"),c(t,"preserveAspectRatio","xMidYMid"),xe(t,"margin","auto"),xe(t,"background","transparent"),xe(t,"display","block"),xe(t,"shape-rendering","auto"),c(t,"viewBox","0 0 100 100"),c(t,"width","100px"),c(t,"xmlns","http://www.w3.org/2000/svg"),c(e,"class","w-full mx-auto text-center mt-20 text-blue-600")},m(l,i){D(l,e,i),w(e,t),w(t,s)},p:de,i:de,o:de,d(l){l&&m(e)}}}class ns extends De{constructor(e){super(),Ae(this,e,null,Qn,qe,{})}}export{ts as F,ls as G,ns as L};
