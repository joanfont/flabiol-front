var R=Object.defineProperty,m=Object.defineProperties;var _=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;var L=(e,n,t)=>n in e?R(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,v=(e,n)=>{for(var t in n||(n={}))A.call(n,t)&&L(e,t,n[t]);if(N)for(var t of N(n))p.call(n,t)&&L(e,t,n[t]);return e},U=(e,n)=>m(e,_(n));let w=(e,n,t,l)=>(e.events=e.events||{},e.events[t+10]||(e.events[t+10]=l(r=>{e.events[t].reduceRight((s,i)=>(i(s),s),v({shared:{}},r))})),e.events[t]=e.events[t]||[],e.events[t].push(n),()=>{let r=e.events[t],s=r.indexOf(n);r.splice(s,1),r.length||(delete e.events[t],e.events[t+10](),delete e.events[t+10])}),I=1e3,h=(e,n)=>w(e,()=>{let l=n();l&&e.events[6].push(l)},5,l=>{let r=e.listen;e.listen=i=>(!e.lc&&!e.active&&(l(),e.active=!0),r(i));let s=e.off;return e.events[6]=[],e.off=()=>{setTimeout(()=>{if(e.active&&!e.lc){e.active=!1;for(let i of e.events[6])i();e.events[6]=[],s()}},I)},()=>{e.listen=r,e.off=s}}),c=[],T=e=>{let n,t=[],l={lc:0,value:e,set(r){l.value=r,l.notify()},get(){return l.lc||l.listen(()=>{})(),l.value},notify(r){n=t;let s=!c.length;for(let i=0;i<n.length;i++)c.push(n[i],l.value,r);if(s){for(let i=0;i<c.length;i+=3)c[i](c[i+1],c[i+2]);c.length=0}},listen(r){return t===n&&(t=t.slice()),l.lc=t.push(r),()=>{t===n&&(t=t.slice());let s=t.indexOf(r);~s&&(t.splice(s,1),l.lc--,l.lc||l.off())}},subscribe(r){let s=l.listen(r);return r(l.value),s},off(){}};return l},O=(e={})=>{let n=T(e);return n.setKey=function(t,l){typeof l=="undefined"?t in n.value&&(n.value=v({},n.value),delete n.value[t],n.notify(t)):n.value[t]!==l&&(n.value=U(v({},n.value),{[t]:l}),n.notify(t))},n},g=e=>e,a={},o={addEventListener(){},removeEventListener(){}};typeof localStorage!="undefined"&&(a=localStorage);let S={addEventListener(e,n){window.addEventListener("storage",n)},removeEventListener(e,n){window.removeEventListener("storage",n)}};typeof window!="undefined"&&(o=S);function V(e,n=void 0,t={}){let l=t.encode||g,r=t.decode||g,s=T(n),i=s.set;s.set=f=>{typeof f=="undefined"?delete a[e]:a[e]=l(f),i(f)};function E(f){f.key===e?f.newValue===null?i(void 0):i(r(f.newValue)):a[e]||i(void 0)}return h(s,()=>{if(i(a[e]?r(a[e]):n),t.listen!==!1)return o.addEventListener(e,E),()=>{o.removeEventListener(e,E)}}),s}function y(e,n={},t={}){let l=t.encode||g,r=t.decode||g,s=O(),i=s.setKey;s.setKey=(u,d)=>{typeof d=="undefined"?(t.listen!==!1&&o.perKey&&o.removeEventListener(e+u,f),delete a[e+u]):(t.listen!==!1&&o.perKey&&!(u in s.value)&&o.addEventListener(e+u,f),a[e+u]=l(d)),i(u,d)};let E=s.set;s.set=function(u){for(let d in u)s.setKey(d,u[d]);for(let d in s.value)d in u||s.setKey(d)};function f(u){u.key?u.key.startsWith(e)&&(u.newValue===null?i(u.key.slice(e.length),void 0):i(u.key.slice(e.length),r(u.newValue))):E({})}return h(s,()=>{let u=v({},n);for(let d in a)d.startsWith(e)&&(u[d.slice(e.length)]=r(a[d]));if(s.set(u),t.listen!==!1)return o.addEventListener(e,f),()=>{o.removeEventListener(e,f);for(let d in s.value)o.removeEventListener(e+d,f)}}),s}const M={encode(e){return JSON.stringify(e)},decode(e){try{return JSON.parse(e)}catch(n){console.log(n,e)}}},D={encode(e){return e?"1":"0"},decode(e){return e==="1"}},J=y("current_attempt",{attempts:0,guesses:[],correct:!1,date:new Date},M),P=V("read_instructions",!1,D),Q=y("current_song",{},M),W=T(!0),k=O({attempts:0,guesses:[],correct:!1,date:new Date});export{J as a,Q as c,P as r,W as s,k as t};
