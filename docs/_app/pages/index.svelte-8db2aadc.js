import{S as oe,i as ae,s as ne,e as w,k as j,c as k,a as _,d as m,m as C,b as f,g as O,H as d,K as x,t as S,h as T,j as K,w as ee,F as Y,x as te,G,y as se,I as re,q as F,o as H,B as le,L as qe,v as Ye,M as Ge,N as Fe,O as He,P as We,U as Ze,V as Ie,W as De,X as Je,l as de,Y as he,n as Qe,p as Xe,Z as xe,_ as et,$ as tt,a0 as st,a1 as rt,f as fe}from"../chunks/vendor-89bed0de.js";import{c as U,a as Z,s as ue,r as Ke,b as me}from"../chunks/store-de14ea9d.js";function lt(o){let e,t,s,n,r,i,l,a,u,c,h,p,I,y,g,b,E,N;return{c(){e=w("div"),t=w("div"),n=j(),r=w("div"),l=j(),a=w("div"),c=j(),h=w("div"),I=j(),y=w("div"),b=j(),E=w("div"),this.h()},l($){e=k($,"DIV",{class:!0});var v=_(e);t=k(v,"DIV",{class:!0}),_(t).forEach(m),n=C(v),r=k(v,"DIV",{class:!0}),_(r).forEach(m),l=C(v),a=k(v,"DIV",{class:!0}),_(a).forEach(m),c=C(v),h=k(v,"DIV",{class:!0}),_(h).forEach(m),I=C(v),y=k(v,"DIV",{class:!0}),_(y).forEach(m),b=C(v),E=k(v,"DIV",{class:!0}),_(E).forEach(m),v.forEach(m),this.h()},h(){f(t,"class",s=`w-2/12 ${o[1](0,o[0].attempts)} border-r border-l`),f(r,"class",i=`w-2/12 ${o[1](1,o[0].attempts)} border-r border-l`),f(a,"class",u=`w-4/12 ${o[1](2,o[0].attempts)} border-r border-l`),f(h,"class",p=`w-4/12 ${o[1](3,o[0].attempts)} border-r border-l`),f(y,"class",g=`w-6/12 ${o[1](4,o[0].attempts)} border-r border-l`),f(E,"class",N=`w-6/12 ${o[1](5,o[0].attempts)} border-r border-l`),f(e,"class","max-w-3xl mx-auto flex h-3")},m($,v){O($,e,v),d(e,t),d(e,n),d(e,r),d(e,l),d(e,a),d(e,c),d(e,h),d(e,I),d(e,y),d(e,b),d(e,E)},p($,[v]){v&1&&s!==(s=`w-2/12 ${$[1](0,$[0].attempts)} border-r border-l`)&&f(t,"class",s),v&1&&i!==(i=`w-2/12 ${$[1](1,$[0].attempts)} border-r border-l`)&&f(r,"class",i),v&1&&u!==(u=`w-4/12 ${$[1](2,$[0].attempts)} border-r border-l`)&&f(a,"class",u),v&1&&p!==(p=`w-4/12 ${$[1](3,$[0].attempts)} border-r border-l`)&&f(h,"class",p),v&1&&g!==(g=`w-6/12 ${$[1](4,$[0].attempts)} border-r border-l`)&&f(y,"class",g),v&1&&N!==(N=`w-6/12 ${$[1](5,$[0].attempts)} border-r border-l`)&&f(E,"class",N)},i:x,o:x,d($){$&&m(e)}}}function ot(o,e,t){let{attempt:s}=e;const n=(r,i)=>{let l="bg-black opacity-40";return i===r&&!s.correct?l="bg-blue-500":i===r+1&&s.correct?l="bg-green-600":i>r&&(l="bg-orange-500"),l};return o.$$set=r=>{"attempt"in r&&t(0,s=r.attempt)},[s,n]}class at extends oe{constructor(e){super();ae(this,e,ot,lt,ne,{attempt:0})}}function Se(o){let e,t=Math.floor(o[0].currentTime/60)+"",s,n,r=(o[0].currentTime%60<10?"0"+o[0].currentTime%60:o[0].currentTime%60)+"",i;return{c(){e=w("div"),s=S(t),n=S(`
          : `),i=S(r),this.h()},l(l){e=k(l,"DIV",{class:!0});var a=_(e);s=T(a,t),n=T(a,`
          : `),i=T(a,r),a.forEach(m),this.h()},h(){f(e,"class","flex flex-1 justify-start font-mono")},m(l,a){O(l,e,a),d(e,s),d(e,n),d(e,i)},p(l,a){a&1&&t!==(t=Math.floor(l[0].currentTime/60)+"")&&K(s,t),a&1&&r!==(r=(l[0].currentTime%60<10?"0"+l[0].currentTime%60:l[0].currentTime%60)+"")&&K(i,r)},d(l){l&&m(e)}}}function Te(o){let e,t=Math.floor(o[3]/60)+"",s,n,r=(Math.round(o[3]%60)<10?"0"+Math.round(o[3]%60):Math.round(o[3]%60))+"",i;return{c(){e=w("div"),s=S(t),n=S(`
          : `),i=S(r),this.h()},l(l){e=k(l,"DIV",{class:!0});var a=_(e);s=T(a,t),n=T(a,`
          : `),i=T(a,r),a.forEach(m),this.h()},h(){f(e,"class","flex flex-1 justify-end font-mono")},m(l,a){O(l,e,a),d(e,s),d(e,n),d(e,i)},p(l,a){a&8&&t!==(t=Math.floor(l[3]/60)+"")&&K(s,t),a&8&&r!==(r=(Math.round(l[3]%60)<10?"0"+Math.round(l[3]%60):Math.round(l[3]%60))+"")&&K(i,r)},d(l){l&&m(e)}}}function nt(o){let e,t,s,n,r,i,l,a,u,c,h,p,I,y,g,b,E,N,$,v,M,D,V;s=new at({props:{attempt:o[1]}});let P=o[0]&&Se(o),A=o[0]&&Te(o);return{c(){e=w("footer"),t=w("div"),ee(s.$$.fragment),n=j(),r=w("div"),i=w("div"),P&&P.c(),l=j(),a=w("div"),u=w("button"),c=Y("svg"),h=Y("path"),p=Y("path"),y=j(),g=w("button"),b=Y("svg"),E=Y("path"),N=Y("path"),v=j(),A&&A.c(),this.h()},l(B){e=k(B,"FOOTER",{class:!0});var L=_(e);t=k(L,"DIV",{class:!0});var W=_(t);te(s.$$.fragment,W),W.forEach(m),n=C(L),r=k(L,"DIV",{class:!0});var ie=_(r);i=k(ie,"DIV",{class:!0});var q=_(i);P&&P.l(q),l=C(q),a=k(q,"DIV",{class:!0});var z=_(a);u=k(z,"BUTTON",{title:!0,class:!0});var R=_(u);c=G(R,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0,xmlns:!0});var J=_(c);h=G(J,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),_(h).forEach(m),p=G(J,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),_(p).forEach(m),J.forEach(m),R.forEach(m),y=C(z),g=k(z,"BUTTON",{title:!0,class:!0});var Q=_(g);b=G(Q,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0});var ce=_(b);E=G(ce,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),_(E).forEach(m),N=G(ce,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),_(N).forEach(m),ce.forEach(m),Q.forEach(m),z.forEach(m),v=C(q),A&&A.l(q),q.forEach(m),ie.forEach(m),L.forEach(m),this.h()},h(){f(t,"class","border-b"),f(h,"stroke-linecap","round"),f(h,"stroke-linejoin","round"),f(h,"stroke-width","2"),f(h,"d","M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"),f(p,"stroke-linecap","round"),f(p,"stroke-linejoin","round"),f(p,"stroke-width","2"),f(p,"d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),f(c,"class","w-14 h-14 mx-auto"),f(c,"fill","none"),f(c,"stroke","currentColor"),f(c,"viewBox","0 0 24 24"),f(c,"xmlns","http://www.w3.org/2000/svg"),f(u,"title","Play Song"),f(u,"class",I=`hover:text-green-600 transition-colors duration-200 ${o[2]?"":"hidden"}`),f(E,"stroke-linecap","round"),f(E,"stroke-linejoin","round"),f(E,"d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),f(N,"stroke-linecap","round"),f(N,"stroke-linejoin","round"),f(N,"d","M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"),f(b,"xmlns","http://www.w3.org/2000/svg"),f(b,"class","w-14 h-14 mx-auto"),f(b,"fill","none"),f(b,"viewBox","0 0 24 24"),f(b,"stroke","currentColor"),f(b,"stroke-width","2"),f(g,"title","Pause Song"),f(g,"class",$=`hover:text-green-600 transition-colors duration-200 ${o[2]?"hidden":""}`),f(a,"class","text-center flex-1 justify-center"),f(i,"class","flex justify-evenly items-center w-full"),f(r,"class","max-w-screen-md mx-auto p-3"),f(e,"class","border-t bottom-0 w-full fixed bg-gray-800")},m(B,L){O(B,e,L),d(e,t),se(s,t,null),d(e,n),d(e,r),d(r,i),P&&P.m(i,null),d(i,l),d(i,a),d(a,u),d(u,c),d(c,h),d(c,p),d(a,y),d(a,g),d(g,b),d(b,E),d(b,N),d(i,v),A&&A.m(i,null),M=!0,D||(V=[re(u,"click",o[4]),re(g,"click",o[5])],D=!0)},p(B,[L]){const W={};L&2&&(W.attempt=B[1]),s.$set(W),B[0]?P?P.p(B,L):(P=Se(B),P.c(),P.m(i,l)):P&&(P.d(1),P=null),(!M||L&4&&I!==(I=`hover:text-green-600 transition-colors duration-200 ${B[2]?"":"hidden"}`))&&f(u,"class",I),(!M||L&4&&$!==($=`hover:text-green-600 transition-colors duration-200 ${B[2]?"hidden":""}`))&&f(g,"class",$),B[0]?A?A.p(B,L):(A=Te(B),A.c(),A.m(i,null)):A&&(A.d(1),A=null)},i(B){M||(F(s.$$.fragment,B),M=!0)},o(B){H(s.$$.fragment,B),M=!1},d(B){B&&m(e),le(s),P&&P.d(),A&&A.d(),D=!1,qe(V)}}}function it(o,e,t){let s,n={attempts:0,guesses:[],correct:!1,date:new Date},r=!0,i=0;return Ye(()=>{t(1,n=U.get()),t(0,s=new Audio(Z.get().preview)),s.addEventListener("loadedmetadata",()=>t(3,i=s.duration))}),U.listen(u=>t(1,n=u)),Z.listen(u=>t(0,s=new Audio(u.preview))),ue.listen(u=>t(2,r=u)),[s,n,r,i,()=>{ue.set(!1),s.play();let u=12-n.attempts*6;const c=.08333333;switch(n.attempts){case 0:u=c;break;case 1:u=c*2;break;case 2:u=c*4;break;case 3:u=.5;break;case 4:u=.75;break;default:u=1;break}const h=n.correct?s.duration*1e3:s.duration/2*1e3*u;setTimeout(()=>{s.pause(),t(0,s.currentTime=0,s),ue.set(!0)},h)},()=>{s.pause(),t(0,s.currentTime=0,s),ue.set(!0)}]}class ct extends oe{constructor(e){super();ae(this,e,it,nt,ne,{})}}function ut(o){let e,t,s,n,r;const i=o[5].default,l=Ge(i,o,o[4],null);return{c(){e=w("button"),l&&l.c(),this.h()},l(a){e=k(a,"BUTTON",{title:!0,class:!0});var u=_(e);l&&l.l(u),u.forEach(m),this.h()},h(){f(e,"title",o[1]),f(e,"class",t=`p-2 text-white ${o[2]} rounded-md shadow hover:shadow-lg transition-all duration-200 ${o[0]}`)},m(a,u){O(a,e,u),l&&l.m(e,null),s=!0,n||(r=re(e,"click",o[6]),n=!0)},p(a,[u]){l&&l.p&&(!s||u&16)&&Fe(l,i,a,a[4],s?We(i,a[4],u,null):He(a[4]),null),(!s||u&2)&&f(e,"title",a[1]),(!s||u&5&&t!==(t=`p-2 text-white ${a[2]} rounded-md shadow hover:shadow-lg transition-all duration-200 ${a[0]}`))&&f(e,"class",t)},i(a){s||(F(l,a),s=!0)},o(a){H(l,a),s=!1},d(a){a&&m(e),l&&l.d(a),n=!1,r()}}}function ft(o,e,t){let{$$slots:s={},$$scope:n}=e,{type:r}=e,{className:i=""}=e,{title:l}=e,a;switch(r){case"primary":a="bg-orange-600 hover:bg-orange-500";break;case"submit":a="bg-blue-600 hover:bg-blue-500";break;default:a="bg-orange-600 hover:bg-orange-500";break}function u(c){Ze.call(this,o,c)}return o.$$set=c=>{"type"in c&&t(3,r=c.type),"className"in c&&t(0,i=c.className),"title"in c&&t(1,l=c.title),"$$scope"in c&&t(4,n=c.$$scope)},[i,l,a,r,n,s,u]}class dt extends oe{constructor(e){super();ae(this,e,ft,ut,ne,{type:3,className:0,title:1})}}function ht(o){let e;return{c(){e=S("sounds cool")},l(t){e=T(t,"sounds cool")},m(t,s){O(t,e,s)},d(t){t&&m(e)}}}function mt(o){let e,t,s,n,r,i,l,a,u,c,h,p,I,y,g,b,E,N,$,v,M,D,V,P,A,B,L,W,ie,q;return L=new dt({props:{type:"primary",$$slots:{default:[ht]},$$scope:{ctx:o}}}),L.$on("click",o[2]),{c(){e=w("div"),t=w("div"),s=j(),n=w("div"),r=w("div"),i=w("h1"),l=S("Instructions"),a=j(),u=w("div"),c=w("ul"),h=w("li"),p=w("span"),I=S("press the play button"),y=j(),g=w("li"),b=w("span"),E=S("listen to the song snippet"),N=j(),$=w("li"),v=w("span"),M=S("type the name of the song or song artist into the box"),D=j(),V=w("li"),P=w("span"),A=S("if you get the song incorrect or press skip, more of the song will be revealed"),B=j(),ee(L.$$.fragment),this.h()},l(z){e=k(z,"DIV",{});var R=_(e);t=k(R,"DIV",{class:!0}),_(t).forEach(m),s=C(R),n=k(R,"DIV",{class:!0});var J=_(n);r=k(J,"DIV",{class:!0});var Q=_(r);i=k(Q,"H1",{class:!0});var ce=_(i);l=T(ce,"Instructions"),ce.forEach(m),a=C(Q),u=k(Q,"DIV",{class:!0});var _e=_(u);c=k(_e,"UL",{class:!0});var X=_(c);h=k(X,"LI",{});var ge=_(h);p=k(ge,"SPAN",{});var ve=_(p);I=T(ve,"press the play button"),ve.forEach(m),ge.forEach(m),y=C(X),g=k(X,"LI",{});var be=_(g);b=k(be,"SPAN",{});var we=_(b);E=T(we,"listen to the song snippet"),we.forEach(m),be.forEach(m),N=C(X),$=k(X,"LI",{});var ke=_($);v=k(ke,"SPAN",{});var ye=_(v);M=T(ye,"type the name of the song or song artist into the box"),ye.forEach(m),ke.forEach(m),D=C(X),V=k(X,"LI",{});var Ee=_(V);P=k(Ee,"SPAN",{});var $e=_(P);A=T($e,"if you get the song incorrect or press skip, more of the song will be revealed"),$e.forEach(m),Ee.forEach(m),X.forEach(m),_e.forEach(m),B=C(Q),te(L.$$.fragment,Q),Q.forEach(m),J.forEach(m),R.forEach(m),this.h()},h(){f(t,"class","flex overflow-y-auto overflow-x-hidden fixed right-0 left-0 top-4 z-40 justify-center items-center h-modal md:h-full md:inset-0 bg-black opacity-50"),f(i,"class","text-3xl"),f(c,"class","text-left"),f(u,"class","p-4"),f(r,"class","relative rounded-lg bg-gray-700 p-3 opacity-100 shadow"),f(n,"class","relative px-4 w-full max-w-2xl h-full md:h-auto mx-auto z-50"),Ie(e,"hidden",o[0])},m(z,R){O(z,e,R),d(e,t),d(e,s),d(e,n),d(n,r),d(r,i),d(i,l),d(r,a),d(r,u),d(u,c),d(c,h),d(h,p),d(p,I),d(c,y),d(c,g),d(g,b),d(b,E),d(c,N),d(c,$),d($,v),d(v,M),d(c,D),d(c,V),d(V,P),d(P,A),d(r,B),se(L,r,null),W=!0,ie||(q=re(t,"click",o[1]),ie=!0)},p(z,[R]){const J={};R&8&&(J.$$scope={dirty:R,ctx:z}),L.$set(J),R&1&&Ie(e,"hidden",z[0])},i(z){W||(F(L.$$.fragment,z),W=!0)},o(z){H(L.$$.fragment,z),W=!1},d(z){z&&m(e),le(L),ie=!1,q()}}}function pt(o,e,t){let{hidden:s=!0}=e;const n=()=>t(0,s=!0),r=()=>{t(0,s=!0),Ke.set(!0)};return o.$$set=i=>{"hidden"in i&&t(0,s=i.hidden)},[s,n,r]}class _t extends oe{constructor(e){super();ae(this,e,pt,mt,ne,{hidden:0})}}const Ne=async()=>{const o=new URLSearchParams;o.append("grant_type","client_credentials");const e=new Headers;e.append("Authorization","Basic ZTA2MjNlNTk1YjZkNGI2YTg5M2FlMDk5YzUzYzE3NWY6MzMwNDRmYTNmZTY3NDEzNmFhOWVmZDIyZjI0MGMyZjc="),e.append("Content-Type","application/x-www-form-urlencoded");const s=await(await fetch("https://accounts.spotify.com/api/token",{method:"POST",body:o,redirect:"follow",headers:e})).json();return{token:s.access_token,expires_at:new Date(Date.now()+s.expires_in*1e3),type:s.type}},gt=async(o,e)=>await(await fetch(`https://api.spotify.com/v1/playlists/${o}/`,{headers:{accept:"application/json",authorization:`Bearer ${e}`},method:"GET"})).json(),vt=async(o,e)=>{let t=o.tracks.items,s=o.tracks.next;for(;s;){const r=await(await fetch(s,{headers:{accept:"application/json",authorization:`Bearer ${e}`},method:"GET"})).json();if(r.error)throw new Error(`Oops! ${r.error.status}: ${r.error.message}`);t=t.concat(r.items),s=r.next,t.push(r.items)}return t=t.filter(n=>n.track&&n.track.preview_url),t.map(n=>n.track)},bt=async(o,e)=>{const t=new Date;t.setDate(t.getDate()+(e?Math.random()*10*(Math.random()+20):0)),De.use(Je(t.toLocaleDateString()));const s=De.int(0,o.length-1);return o[s]},pe=o=>({name:o.name,artist:o.artists?o.artists[0].name:"unknown artist",id:o.id,preview:o.preview_url});function wt(o){let e,t,s,n,r;const i=o[5].default,l=Ge(i,o,o[4],null);return{c(){e=w("button"),l&&l.c(),this.h()},l(a){e=k(a,"BUTTON",{title:!0,class:!0});var u=_(e);l&&l.l(u),u.forEach(m),this.h()},h(){f(e,"title",o[1]),f(e,"class",t=`p-2 text-white ${o[2]} rounded-md shadow hover:shadow-lg transition-all duration-200 ${o[0]}`)},m(a,u){O(a,e,u),l&&l.m(e,null),s=!0,n||(r=re(e,"click",o[6]),n=!0)},p(a,[u]){l&&l.p&&(!s||u&16)&&Fe(l,i,a,a[4],s?We(i,a[4],u,null):He(a[4]),null),(!s||u&2)&&f(e,"title",a[1]),(!s||u&5&&t!==(t=`p-2 text-white ${a[2]} rounded-md shadow hover:shadow-lg transition-all duration-200 ${a[0]}`))&&f(e,"class",t)},i(a){s||(F(l,a),s=!0)},o(a){H(l,a),s=!1},d(a){a&&m(e),l&&l.d(a),n=!1,r()}}}function kt(o,e,t){let{$$slots:s={},$$scope:n}=e,{type:r}=e,{className:i=""}=e,{title:l}=e,a;switch(r){case"primary":a="bg-orange-600 hover:bg-orange-500";break;case"submit":a="bg-blue-600 hover:bg-blue-500";break;default:a="bg-orange-600 hover:bg-orange-500";break}function u(c){Ze.call(this,o,c)}return o.$$set=c=>{"type"in c&&t(3,r=c.type),"className"in c&&t(0,i=c.className),"title"in c&&t(1,l=c.title),"$$scope"in c&&t(4,n=c.$$scope)},[i,l,a,r,n,s,u]}class yt extends oe{constructor(e){super();ae(this,e,kt,wt,ne,{type:3,className:0,title:1})}}function Ve(o,e,t){const s=o.slice();return s[13]=e[t],s}function Me(o,e,t){const s=o.slice();return s[16]=e[t],s}function Ae(o,e,t){const s=o.slice();return s[16]=e[t],s}function je(o,e,t){const s=o.slice();return s[16]=e[t],s}function Ce(o){let e,t,s;return{c(){e=w("div"),t=w("span"),s=S("listen to the song and try to guess it correctly. you have 6 attempts."),this.h()},l(n){e=k(n,"DIV",{class:!0});var r=_(e);t=k(r,"SPAN",{class:!0});var i=_(t);s=T(i,"listen to the song and try to guess it correctly. you have 6 attempts."),i.forEach(m),r.forEach(m),this.h()},h(){f(t,"class","text-center mx-auto w-full text-blue-100"),f(e,"class","w-full px-0 sm:px-20 transition-all duration-200")},m(n,r){O(n,e,r),d(e,t),d(t,s)},d(n){n&&m(e)}}}function Oe(o){let e,t,s=o[0].guesses.filter(Re),n=[];for(let l=0;l<s.length;l+=1)n[l]=Pe(je(o,s,l));let r=o[0].guesses.filter(Ue),i=[];for(let l=0;l<r.length;l+=1)i[l]=Be(Ae(o,r,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=j();for(let l=0;l<i.length;l+=1)i[l].c();t=de()},l(l){for(let a=0;a<n.length;a+=1)n[a].l(l);e=C(l);for(let a=0;a<i.length;a+=1)i[a].l(l);t=de()},m(l,a){for(let u=0;u<n.length;u+=1)n[u].m(l,a);O(l,e,a);for(let u=0;u<i.length;u+=1)i[u].m(l,a);O(l,t,a)},p(l,a){if(a&1){s=l[0].guesses.filter(Re);let u;for(u=0;u<s.length;u+=1){const c=je(l,s,u);n[u]?n[u].p(c,a):(n[u]=Pe(c),n[u].c(),n[u].m(e.parentNode,e))}for(;u<n.length;u+=1)n[u].d(1);n.length=s.length}if(a&1){r=l[0].guesses.filter(Ue);let u;for(u=0;u<r.length;u+=1){const c=Ae(l,r,u);i[u]?i[u].p(c,a):(i[u]=Be(c),i[u].c(),i[u].m(t.parentNode,t))}for(;u<i.length;u+=1)i[u].d(1);i.length=r.length}},d(l){he(n,l),l&&m(e),he(i,l),l&&m(t)}}}function Pe(o){let e,t=o[16].song.name+"",s,n,r=o[16].song.artist+"",i,l,a,u;function c(){return o[6](o[16])}return{c(){e=w("div"),s=S(t),n=S(" by "),i=S(r),this.h()},l(h){e=k(h,"DIV",{title:!0,class:!0});var p=_(e);s=T(p,t),n=T(p," by "),i=T(p,r),p.forEach(m),this.h()},h(){f(e,"title","Open in Spotify"),f(e,"class",l=`cursor-pointer ${o[16].artistCorrect?"border-amber-400":"border-orange-600"} border-2 h-10 p-2 my-2 w-full text-left rounded-sm bg-gray-900 overflow-ellipsis whitespace-nowrap overflow-hidden`)},m(h,p){O(h,e,p),d(e,s),d(e,n),d(e,i),a||(u=re(e,"click",c),a=!0)},p(h,p){o=h,p&1&&t!==(t=o[16].song.name+"")&&K(s,t),p&1&&r!==(r=o[16].song.artist+"")&&K(i,r),p&1&&l!==(l=`cursor-pointer ${o[16].artistCorrect?"border-amber-400":"border-orange-600"} border-2 h-10 p-2 my-2 w-full text-left rounded-sm bg-gray-900 overflow-ellipsis whitespace-nowrap overflow-hidden`)&&f(e,"class",l)},d(h){h&&m(e),a=!1,u()}}}function Be(o){let e,t=o[16].song.name+"",s,n,r=o[16].song.artist+"",i,l,a,u;function c(){return o[7](o[16])}return{c(){e=w("div"),s=S(t),n=S(" by "),i=S(r),l=j(),this.h()},l(h){e=k(h,"DIV",{title:!0,class:!0});var p=_(e);s=T(p,t),n=T(p," by "),i=T(p,r),l=C(p),p.forEach(m),this.h()},h(){f(e,"title","Open in Spotify"),f(e,"class","cursor-pointer border-green-600 border-2 h-10 p-2 my-2 w-full text-left rounded-sm bg-gray-900 overflow-ellipsis whitespace-nowrap overflow-hidden")},m(h,p){O(h,e,p),d(e,s),d(e,n),d(e,i),d(e,l),a||(u=re(e,"click",c),a=!0)},p(h,p){o=h,p&1&&t!==(t=o[16].song.name+"")&&K(s,t),p&1&&r!==(r=o[16].song.artist+"")&&K(i,r)},d(h){h&&m(e),a=!1,u()}}}function Et(o){let e,t,s,n,r,i=Z.get().name+"",l,a,u=Z.get().artist+"",c;return{c(){e=w("div"),t=w("p"),s=S("THE SONG WAS"),n=j(),r=w("p"),l=S(i),a=S(" by "),c=S(u),this.h()},l(h){e=k(h,"DIV",{});var p=_(e);t=k(p,"P",{});var I=_(t);s=T(I,"THE SONG WAS"),I.forEach(m),n=C(p),r=k(p,"P",{class:!0});var y=_(r);l=T(y,i),a=T(y," by "),c=T(y,u),y.forEach(m),p.forEach(m),this.h()},h(){f(r,"class","text-red-600")},m(h,p){O(h,e,p),d(e,t),d(t,s),d(e,n),d(e,r),d(r,l),d(r,a),d(r,c)},p:x,i:x,o:x,d(h){h&&m(e)}}}function $t(o){let e,t,s,n,r,i=Z.get().name+"",l,a,u=Z.get().artist+"",c,h,p,I,y,g,b=o[0].guesses,E=[];for(let v=0;v<b.length;v+=1)E[v]=Le(Me(o,b,v));let N=Array(6-o[0].attempts),$=[];for(let v=0;v<N.length;v+=1)$[v]=ze(Ve(o,N,v));return{c(){e=w("div"),t=w("p"),s=S("AWESOME JOB, YOU GUESSED"),n=j(),r=w("p"),l=S(i),a=S(" by "),c=S(u),h=j(),p=w("p"),I=S("CORRECTLY!"),y=j();for(let v=0;v<E.length;v+=1)E[v].c();g=j();for(let v=0;v<$.length;v+=1)$[v].c();this.h()},l(v){e=k(v,"DIV",{});var M=_(e);t=k(M,"P",{});var D=_(t);s=T(D,"AWESOME JOB, YOU GUESSED"),D.forEach(m),n=C(M),r=k(M,"P",{class:!0});var V=_(r);l=T(V,i),a=T(V," by "),c=T(V,u),V.forEach(m),h=C(M),p=k(M,"P",{});var P=_(p);I=T(P,"CORRECTLY!"),P.forEach(m),y=C(M);for(let A=0;A<E.length;A+=1)E[A].l(M);g=C(M);for(let A=0;A<$.length;A+=1)$[A].l(M);M.forEach(m),this.h()},h(){f(r,"class","text-green-500")},m(v,M){O(v,e,M),d(e,t),d(t,s),d(e,n),d(e,r),d(r,l),d(r,a),d(r,c),d(e,h),d(e,p),d(p,I),d(e,y);for(let D=0;D<E.length;D+=1)E[D].m(e,null);d(e,g);for(let D=0;D<$.length;D+=1)$[D].m(e,null)},p(v,M){if(M&1){b=v[0].guesses;let D;for(D=0;D<b.length;D+=1){const V=Me(v,b,D);E[D]?E[D].p(V,M):(E[D]=Le(V),E[D].c(),E[D].m(e,g))}for(;D<E.length;D+=1)E[D].d(1);E.length=b.length}if(M&1){const D=N.length;N=Array(6-v[0].attempts);let V;for(V=D;V<N.length;V+=1)Ve(v,N,V),$[V]||($[V]=ze(),$[V].c(),$[V].m(e,null));for(V=N.length;V<D;V+=1)$[V].d(1);$.length=N.length}},i:x,o:x,d(v){v&&m(e),he(E,v),he($,v)}}}function It(o){let e,t,s,n,r,i,l;function a(c){o[8](c)}let u={name:"song-selection",className:"w-10/12",inputClassName:"border-gray-600 border-2 w-full h-8 px-2 py-5 rounded-sm bg-gray-900 hover:border-gray-400 focus:border-gray-400 outline-none transition-all duration-200",dropdownClassName:"p-0 bg-gray-900",placeholder:`${6-o[0].attempts} ${6-o[0].attempts!==1?"attempts":"attempt"} left`,items:o[1],minCharactersToSearch:2,searchFunction:o[5],labelFieldName:"name",valueFieldName:"id",showLoadingIndicator:!0,noInputStyles:!0,hideArrow:!0,$$slots:{loading:[Mt],"no-results":[Vt],item:[Nt,({label:c,item:h})=>({11:c,12:h}),({label:c,item:h})=>(c?2048:0)|(h?4096:0)]},$$scope:{ctx:o}};return o[2]!==void 0&&(u.selectedItem=o[2]),t=new et({props:u}),tt.push(()=>st(t,"selectedItem",a)),i=new yt({props:{title:"Submit Song Guess",type:"submit",className:"w-full",$$slots:{default:[At]},$$scope:{ctx:o}}}),i.$on("click",o[4]),{c(){e=w("div"),ee(t.$$.fragment),n=j(),r=w("div"),ee(i.$$.fragment),this.h()},l(c){e=k(c,"DIV",{class:!0,title:!0});var h=_(e);te(t.$$.fragment,h),n=C(h),r=k(h,"DIV",{class:!0,title:!0});var p=_(r);te(i.$$.fragment,p),p.forEach(m),h.forEach(m),this.h()},h(){f(r,"class","w-2/12 pl-4 mt-0.5"),f(r,"title","guess selected song"),f(e,"class","flex my-6"),f(e,"title","guess a song")},m(c,h){O(c,e,h),se(t,e,null),d(e,n),d(e,r),se(i,r,null),l=!0},p(c,h){const p={};h&1&&(p.placeholder=`${6-c[0].attempts} ${6-c[0].attempts!==1?"attempts":"attempt"} left`),h&2&&(p.items=c[1]),h&8392704&&(p.$$scope={dirty:h,ctx:c}),!s&&h&4&&(s=!0,p.selectedItem=c[2],rt(()=>s=!1)),t.$set(p);const I={};h&8388608&&(I.$$scope={dirty:h,ctx:c}),i.$set(I)},i(c){l||(F(t.$$.fragment,c),F(i.$$.fragment,c),l=!0)},o(c){H(t.$$.fragment,c),H(i.$$.fragment,c),l=!1},d(c){c&&m(e),le(t),le(i)}}}function Dt(o){let e;return{c(){e=S("\u{1F7E5}")},l(t){e=T(t,"\u{1F7E5}")},m(t,s){O(t,e,s)},d(t){t&&m(e)}}}function St(o){let e;return{c(){e=S("\u{1F7E8}")},l(t){e=T(t,"\u{1F7E8}")},m(t,s){O(t,e,s)},d(t){t&&m(e)}}}function Tt(o){let e;return{c(){e=S("\u{1F7E9}")},l(t){e=T(t,"\u{1F7E9}")},m(t,s){O(t,e,s)},d(t){t&&m(e)}}}function Le(o){let e;function t(r,i){return r[16].correct?Tt:r[16].artistCorrect?St:Dt}let s=t(o),n=s(o);return{c(){n.c(),e=de()},l(r){n.l(r),e=de()},m(r,i){n.m(r,i),O(r,e,i)},p(r,i){s!==(s=t(r))&&(n.d(1),n=s(r),n&&(n.c(),n.m(e.parentNode,e)))},d(r){n.d(r),r&&m(e)}}}function ze(o){let e;return{c(){e=S("\u2B1B")},l(t){e=T(t,"\u2B1B")},m(t,s){O(t,e,s)},d(t){t&&m(e)}}}function Nt(o){let e,t,s=o[12].name+"",n,r,i=o[12].artist+"",l;return{c(){e=w("div"),t=w("span"),n=S(s),r=S(" by "),l=S(i),this.h()},l(a){e=k(a,"DIV",{slot:!0,class:!0});var u=_(e);t=k(u,"SPAN",{});var c=_(t);n=T(c,s),r=T(c," by "),l=T(c,i),c.forEach(m),u.forEach(m),this.h()},h(){f(e,"slot","item"),f(e,"class","border-2 h-10 px-2 py-3 w-full text-left rounded-sm bg-gray-900 text-white hover:text-blue-500 hover:border-blue-500 overflow-ellipsis whitespace-nowrap overflow-hidden transition-colors duration-150")},m(a,u){O(a,e,u),d(e,t),d(t,n),d(t,r),d(t,l)},p(a,u){u&4096&&s!==(s=a[12].name+"")&&K(n,s),u&4096&&i!==(i=a[12].artist+"")&&K(l,i)},d(a){a&&m(e)}}}function Vt(o){let e,t,s;return{c(){e=w("div"),t=w("span"),s=S("could not find this song in our list."),this.h()},l(n){e=k(n,"DIV",{slot:!0,class:!0});var r=_(e);t=k(r,"SPAN",{});var i=_(t);s=T(i,"could not find this song in our list."),i.forEach(m),r.forEach(m),this.h()},h(){f(e,"slot","no-results"),f(e,"class","py-1")},m(n,r){O(n,e,r),d(e,t),d(t,s)},d(n){n&&m(e)}}}function Mt(o){let e,t,s;return{c(){e=w("div"),t=w("span"),s=S("searching for songs..."),this.h()},l(n){e=k(n,"DIV",{slot:!0,class:!0});var r=_(e);t=k(r,"SPAN",{});var i=_(t);s=T(i,"searching for songs..."),i.forEach(m),r.forEach(m),this.h()},h(){f(e,"slot","loading"),f(e,"class","py-1")},m(n,r){O(n,e,r),d(e,t),d(t,s)},d(n){n&&m(e)}}}function At(o){let e,t;return{c(){e=Y("svg"),t=Y("path"),this.h()},l(s){e=G(s,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0});var n=_(e);t=G(n,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),_(t).forEach(m),n.forEach(m),this.h()},h(){f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(t,"d","M13 7l5 5m0 0l-5 5m5-5H6"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"class","h-6 w-6 mx-auto"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke","currentColor"),f(e,"stroke-width","2")},m(s,n){O(s,e,n),d(e,t)},d(s){s&&m(e)}}}function jt(o){let e,t,s,n,r,i,l,a,u;t=new _t({props:{hidden:o[3]}});let c=o[0].attempts===0&&Ce(),h=o[0].guesses&&Oe(o);const p=[It,$t,Et],I=[];function y(g,b){return g[0].attempts<6&&!g[0].correct?0:g[0].correct?1:g[0].correct?-1:2}return~(l=y(o))&&(a=I[l]=p[l](o)),{c(){e=w("div"),ee(t.$$.fragment),s=j(),c&&c.c(),n=j(),r=w("div"),h&&h.c(),i=j(),a&&a.c(),this.h()},l(g){e=k(g,"DIV",{});var b=_(e);te(t.$$.fragment,b),s=C(b),c&&c.l(b),n=C(b),r=k(b,"DIV",{class:!0});var E=_(r);h&&h.l(E),i=C(E),a&&a.l(E),E.forEach(m),b.forEach(m),this.h()},h(){f(r,"class","w-full px-0 transition-all sm:px-20 items-center game")},m(g,b){O(g,e,b),se(t,e,null),d(e,s),c&&c.m(e,null),d(e,n),d(e,r),h&&h.m(r,null),d(r,i),~l&&I[l].m(r,null),u=!0},p(g,[b]){const E={};b&8&&(E.hidden=g[3]),t.$set(E),g[0].attempts===0?c||(c=Ce(),c.c(),c.m(e,n)):c&&(c.d(1),c=null),g[0].guesses?h?h.p(g,b):(h=Oe(g),h.c(),h.m(r,i)):h&&(h.d(1),h=null);let N=l;l=y(g),l===N?~l&&I[l].p(g,b):(a&&(Qe(),H(I[N],1,1,()=>{I[N]=null}),Xe()),~l?(a=I[l],a?a.p(g,b):(a=I[l]=p[l](g),a.c()),F(a,1),a.m(r,null)):a=null)},i(g){u||(F(t.$$.fragment,g),F(a),u=!0)},o(g){H(t.$$.fragment,g),H(a),u=!1},d(g){g&&m(e),le(t),c&&c.d(),h&&h.d(),~l&&I[l].d()}}}const Re=o=>!o.correct,Ue=o=>o.correct;function Ct(o,e,t){let s;xe(o,Ke,y=>t(3,s=y));let n={},r={},i=[];Ye(async()=>{let y=me.get();y.token||(y=await Ne(),me.set(y)),new Date(y.expires_at)<new Date&&(y=await Ne(),me.set(y)),r=await gt("5LQuCyn8AhcHpl31DgLaxL",y.token),i=await vt(r,y.token);const g=new URL(window.location.href).searchParams.get("random")==="true",b=await bt(i,g);if(new Date(U.get().date)!==new Date||g){const E=pe(b);U.set({guesses:[],date:new Date,correct:!1,attempts:0}),Z.set(E)}t(0,n=U.get())}),U.listen(y=>t(0,n=y));let l=[],a={};const u=()=>{if(!a)return;const y=[...n.guesses||[]];if(a.id===Z.get().id)y.push({song:Z.get(),correct:!0,artistCorrect:!0}),U.setKey("guesses",y),U.setKey("correct",!0),U.setKey("attempts",n.attempts+1);else{const g=i.find(b=>b.id==a.id);y.push({song:pe(g),correct:!1,artistCorrect:a.artist.includes(Z.get().artist)}),U.setKey("guesses",y),U.setKey("attempts",n.attempts+1)}t(2,a=void 0),ue.set(!0)},c=async y=>(t(1,l=i.filter(g=>(g.name+" "+g.artists[0].name).toLowerCase().includes(y.toLowerCase()))),t(1,l=l.map(g=>pe(g))),l),h=y=>{window.open(`https://open.spotify.com/track/${y.song.id}`,"_blank").focus()},p=y=>{window.open(`https://open.spotify.com/track/${y.song.id}`,"_blank").focus()};function I(y){a=y,t(2,a)}return[n,l,a,s,u,c,h,p,I]}class Ot extends oe{constructor(e){super();ae(this,e,Ct,jt,ne,{})}}function Pt(o){let e,t,s,n,r,i,l,a,u,c,h,p,I,y,g;return r=new Ot({}),l=new ct({}),{c(){e=w("div"),t=w("div"),s=w("div"),n=w("div"),ee(r.$$.fragment),i=j(),ee(l.$$.fragment),u=j(),c=w("div"),h=Y("svg"),p=Y("circle"),I=Y("animateTransform"),this.h()},l(b){e=k(b,"DIV",{});var E=_(e);t=k(E,"DIV",{class:!0});var N=_(t);s=k(N,"DIV",{class:!0});var $=_(s);n=k($,"DIV",{class:!0});var v=_(n);te(r.$$.fragment,v),v.forEach(m),$.forEach(m),i=C(N),te(l.$$.fragment,N),N.forEach(m),u=C(E),c=k(E,"DIV",{class:!0});var M=_(c);h=G(M,"svg",{xmlns:!0,"xmlns:xlink":!0,style:!0,width:!0,height:!0,viewBox:!0,preserveAspectRatio:!0});var D=_(h);p=G(D,"circle",{cx:!0,cy:!0,fill:!0,stroke:!0,"stroke-width":!0,r:!0,"stroke-dasharray":!0});var V=_(p);I=G(V,"animateTransform",{attributeName:!0,type:!0,repeatCount:!0,dur:!0,values:!0,keyTimes:!0}),_(I).forEach(m),V.forEach(m),D.forEach(m),M.forEach(m),E.forEach(m),this.h()},h(){f(n,"class","text-center p-3"),f(s,"class","max-w-screen-md mx-auto"),f(t,"class",a=`${o[0]?"hidden":""}`),f(I,"attributeName","transform"),f(I,"type","rotate"),f(I,"repeatCount","indefinite"),f(I,"dur","0.9345794392523364s"),f(I,"values","0 50 50;360 50 50"),f(I,"keyTimes","0;1"),f(p,"cx","50"),f(p,"cy","50"),f(p,"fill","none"),f(p,"stroke","currentColor"),f(p,"stroke-width","7"),f(p,"r","38"),f(p,"stroke-dasharray","179.0707812546182 61.690260418206066"),f(h,"xmlns","http://www.w3.org/2000/svg"),f(h,"xmlns:xlink","http://www.w3.org/1999/xlink"),fe(h,"margin","auto"),fe(h,"background","transparent"),fe(h,"display","block"),fe(h,"shape-rendering","auto"),f(h,"width","100px"),f(h,"height","100px"),f(h,"viewBox","0 0 100 100"),f(h,"preserveAspectRatio","xMidYMid"),f(c,"class",y=`w-full mx-auto text-center mt-20 ${o[0]?"":"hidden"} text-blue-600`)},m(b,E){O(b,e,E),d(e,t),d(t,s),d(s,n),se(r,n,null),d(t,i),se(l,t,null),d(e,u),d(e,c),d(c,h),d(h,p),d(p,I),g=!0},p(b,[E]){(!g||E&1&&a!==(a=`${b[0]?"hidden":""}`))&&f(t,"class",a),(!g||E&1&&y!==(y=`w-full mx-auto text-center mt-20 ${b[0]?"":"hidden"} text-blue-600`))&&f(c,"class",y)},i(b){g||(F(r.$$.fragment,b),F(l.$$.fragment,b),g=!0)},o(b){H(r.$$.fragment,b),H(l.$$.fragment,b),g=!1},d(b){b&&m(e),le(r),le(l)}}}function Bt(o,e,t){let s=!0;return U.listen(n=>{n.date&&t(0,s=!1)}),[s]}class Rt extends oe{constructor(e){super();ae(this,e,Bt,Pt,ne,{})}}export{Rt as default};
