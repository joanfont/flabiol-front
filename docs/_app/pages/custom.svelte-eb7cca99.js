import{S as X,i as Z,s as tt,w as L,x as C,y as q,q as b,o as P,B as G,e as x,k as S,G as Y,t as A,c as I,a as $,m as T,d as v,H as j,h as F,b as o,f as B,g as M,I as y,p as z,v as et,n as K,a6 as O,J as st}from"../chunks/index-cbeb82b8.js";import{I as at,g as rt,F as lt,B as ot,G as nt}from"../chunks/spotify-1d2ac242.js";import{r as Q,c as it}from"../chunks/store-2c78cdb7.js";import{g as ct}from"../chunks/navigation-0e6511d1.js";import{c as ut}from"../chunks/util-9cdfb41e.js";import"../chunks/SvelteToast.svelte_svelte_type_style_lang-bf33fd6b.js";import"../chunks/index-2f4404a6.js";import"../chunks/singletons-d1fb5791.js";function ft(c){let t,e,r,n,s,a,f,p,h,i,g;return p=new ot({props:{title:"start custom audial",type:"submit",$$slots:{default:[dt]},$$scope:{ctx:c}}}),p.$on("click",c[8]),{c(){t=x("div"),e=x("div"),r=A("paste the link to any spotify playlist below"),n=S(),s=x("input"),a=S(),f=x("div"),L(p.$$.fragment),this.h()},l(d){t=I(d,"DIV",{class:!0});var l=$(t);e=I(l,"DIV",{class:!0});var w=$(e);r=F(w,"paste the link to any spotify playlist below"),w.forEach(v),n=T(l),s=I(l,"INPUT",{class:!0,placeholder:!0,name:!0}),a=T(l),f=I(l,"DIV",{class:!0});var k=$(f);C(p.$$.fragment,k),k.forEach(v),l.forEach(v),this.h()},h(){o(e,"class","text-center mx-auto w-full text-blue-100 mb-2"),o(s,"class","p-2 border-2 w-full text-gray-400 rounded-sm border-gray-600 bg-gray-900 hover:border-gray-400 focus:border-gray-400 outline-none transition-all duration-200"),o(s,"placeholder","spotify playlist link"),o(s,"name","spotify playlist input"),o(f,"class","w-full mx-auto text-center my-4"),o(t,"class","w-full w-10/12 mx-auto my-5")},m(d,l){M(d,t,l),y(t,e),y(e,r),y(t,n),y(t,s),O(s,c[3]),y(t,a),y(t,f),q(p,f,null),h=!0,i||(g=st(s,"input",c[7]),i=!0)},p(d,l){l&8&&s.value!==d[3]&&O(s,d[3]);const w={};l&1024&&(w.$$scope={dirty:l,ctx:d}),p.$set(w)},i(d){h||(b(p.$$.fragment,d),h=!0)},o(d){P(p.$$.fragment,d),h=!1},d(d){d&&v(t),G(p),i=!1,g()}}}function mt(c){let t,e,r,n;return e=new nt({props:{custom:!0,forceRandom:c[4],allTracks:c[5]}}),{c(){t=x("div"),L(e.$$.fragment),this.h()},l(s){t=I(s,"DIV",{class:!0});var a=$(t);C(e.$$.fragment,a),a.forEach(v),this.h()},h(){o(t,"class",r=`text-center p-3 ${!c[1]||c[0]?"hidden":""}`)},m(s,a){M(s,t,a),q(e,t,null),n=!0},p(s,a){const f={};a&16&&(f.forceRandom=s[4]),a&32&&(f.allTracks=s[5]),e.$set(f),(!n||a&3&&r!==(r=`text-center p-3 ${!s[1]||s[0]?"hidden":""}`))&&o(t,"class",r)},i(s){n||(b(e.$$.fragment,s),n=!0)},o(s){P(e.$$.fragment,s),n=!1},d(s){s&&v(t),G(e)}}}function dt(c){let t;return{c(){t=A("start your custom audial")},l(e){t=F(e,"start your custom audial")},m(e,r){M(e,t,r)},d(e){e&&v(t)}}}function W(c){let t,e;return t=new lt({props:{custom:!0}}),{c(){L(t.$$.fragment)},l(r){C(t.$$.fragment,r)},m(r,n){q(t,r,n),e=!0},i(r){e||(b(t.$$.fragment,r),e=!0)},o(r){P(t.$$.fragment,r),e=!1},d(r){G(t,r)}}}function pt(c){let t,e,r,n,s,a,f,p,h,i,g,d,l,w,k,R;e=new at({props:{hidden:c[1]}});const V=[mt,ft],E=[];function H(u,_){return u[2]?0:1}s=H(c),a=E[s]=V[s](c);let m=c[2]&&!c[0]&&W();return{c(){t=x("div"),L(e.$$.fragment),r=S(),n=x("div"),a.c(),f=S(),m&&m.c(),p=S(),h=x("div"),i=Y("svg"),g=Y("circle"),d=S(),l=x("p"),w=A("please note that your custom audial may take longer to load"),this.h()},l(u){t=I(u,"DIV",{});var _=$(t);C(e.$$.fragment,_),r=T(_),n=I(_,"DIV",{class:!0});var U=$(n);a.l(U),U.forEach(v),f=T(_),m&&m.l(_),p=T(_),h=I(_,"DIV",{class:!0});var D=$(h);i=j(D,"svg",{height:!0,preserveAspectRatio:!0,class:!0,style:!0,viewBox:!0,width:!0,xmlns:!0});var J=$(i);g=j(J,"circle",{cx:!0,cy:!0,fill:!0,r:!0,stroke:!0,"stroke-dasharray":!0,"stroke-width":!0}),$(g).forEach(v),J.forEach(v),d=T(D),l=I(D,"P",{class:!0});var N=$(l);w=F(N,"please note that your custom audial may take longer to load"),N.forEach(v),D.forEach(v),_.forEach(v),this.h()},h(){o(n,"class","max-w-screen-md mx-auto"),o(g,"cx","50"),o(g,"cy","50"),o(g,"fill","none"),o(g,"r","38"),o(g,"stroke","currentColor"),o(g,"stroke-dasharray","179.0707812546182 61.690260418206066"),o(g,"stroke-width","7"),o(i,"height","100px"),o(i,"preserveAspectRatio","xMidYMid"),o(i,"class","animate-spin"),B(i,"margin","auto"),B(i,"background","transparent"),B(i,"display","block"),B(i,"shape-rendering","auto"),o(i,"viewBox","0 0 100 100"),o(i,"width","100px"),o(i,"xmlns","http://www.w3.org/2000/svg"),o(l,"class","w-full mx-auto text-center text-gray-400 mt-4"),o(h,"class",k=`w-full mx-auto text-center mt-20 text-blue-600 ${c[0]?"":"hidden"}`)},m(u,_){M(u,t,_),q(e,t,null),y(t,r),y(t,n),E[s].m(n,null),y(t,f),m&&m.m(t,null),y(t,p),y(t,h),y(h,i),y(i,g),y(h,d),y(h,l),y(l,w),R=!0},p(u,[_]){const U={};_&2&&(U.hidden=u[1]),e.$set(U);let D=s;s=H(u),s===D?E[s].p(u,_):(K(),P(E[D],1,1,()=>{E[D]=null}),z(),a=E[s],a?a.p(u,_):(a=E[s]=V[s](u),a.c()),b(a,1),a.m(n,null)),u[2]&&!u[0]?m?_&5&&b(m,1):(m=W(),m.c(),b(m,1),m.m(t,p)):m&&(K(),P(m,1,1,()=>{m=null}),z()),(!R||_&1&&k!==(k=`w-full mx-auto text-center mt-20 text-blue-600 ${u[0]?"":"hidden"}`))&&o(h,"class",k)},i(u){R||(b(e.$$.fragment,u),b(a),b(m),R=!0)},o(u){P(e.$$.fragment,u),P(a),P(m),R=!1},d(u){u&&v(t),G(e),E[s].d(),m&&m.d()}}}function ht(c,t,e){let r=!1,n,s,a,f=!1,p,h;et(async()=>{e(1,n=Q.get()),Q.listen(l=>{e(1,n=l)}),e(4,f=new URL(window.location.href).searchParams.get("random")==="true"||!1),new URL(window.location.href).searchParams.get("playlist")&&(e(2,s=!0),await i(new URL(window.location.href).searchParams.get("playlist")))});const i=async l=>{if(!a&&!l)return;const w=typeof l=="string"?l:new URL(a).pathname.split("/")[2];e(0,r=!0);const k=new URL(window.location.href).searchParams;k.set("playlist",w),k.set("random",f?"true":"false"),await ct("/custom?"+k.toString());const R=await rt(w,f);h=R.daily,e(5,p=R.tracks);const V=ut(h);it.set(V),e(0,r=!1),e(2,s=!0)};function g(){a=this.value,e(3,a)}return[r,n,s,a,f,p,i,g,()=>i()]}class xt extends X{constructor(t){super(),Z(this,t,ht,pt,tt,{})}}export{xt as default};
