import{S as V,i as B,s as G,e as v,w as T,k as b,c as k,a as d,x as I,d as f,m as R,b as l,g as $,I as h,y as E,q as p,o as _,B as S,G as w,H as y,f as g,p as M,v as q,n as F}from"../chunks/index-0cb0397c.js";import{I as N,g as H,G as L,F as P}from"../chunks/spotify-195511b7.js";import{r as D,c as U,p as Y}from"../chunks/store-2c78cdb7.js";import{c as j}from"../chunks/util-9cdfb41e.js";import"../chunks/SvelteToast.svelte_svelte_type_style_lang-449b658d.js";import"../chunks/index-246c2946.js";function A(u){let r,s,o,i,c,t,a;return o=new L({props:{custom:!1,forceRandom:u[4],daily:u[3],allTracks:u[2]}}),t=new P({props:{custom:u[4]}}),{c(){r=v("div"),s=v("div"),T(o.$$.fragment),c=b(),T(t.$$.fragment),this.h()},l(e){r=k(e,"DIV",{class:!0});var n=d(r);s=k(n,"DIV",{class:!0});var m=d(s);I(o.$$.fragment,m),m.forEach(f),n.forEach(f),c=R(e),I(t.$$.fragment,e),this.h()},h(){l(s,"class",i=`text-center p-3 ${u[1]?"":"hidden"}`),l(r,"class","max-w-screen-md mx-auto")},m(e,n){$(e,r,n),h(r,s),E(o,s,null),$(e,c,n),E(t,e,n),a=!0},p(e,n){const m={};n&16&&(m.forceRandom=e[4]),n&8&&(m.daily=e[3]),n&4&&(m.allTracks=e[2]),o.$set(m),(!a||n&2&&i!==(i=`text-center p-3 ${e[1]?"":"hidden"}`))&&l(s,"class",i);const x={};n&16&&(x.custom=e[4]),t.$set(x)},i(e){a||(p(o.$$.fragment,e),p(t.$$.fragment,e),a=!0)},o(e){_(o.$$.fragment,e),_(t.$$.fragment,e),a=!1},d(e){e&&f(r),S(o),e&&f(c),S(t,e)}}}function C(u){let r,s,o,i,c;return{c(){r=v("div"),s=w("svg"),o=w("circle"),i=w("animateTransform"),this.h()},l(t){r=k(t,"DIV",{class:!0});var a=d(r);s=y(a,"svg",{xmlns:!0,style:!0,width:!0,height:!0,viewBox:!0,preserveAspectRatio:!0});var e=d(s);o=y(e,"circle",{cx:!0,cy:!0,fill:!0,stroke:!0,"stroke-width":!0,r:!0,"stroke-dasharray":!0});var n=d(o);i=y(n,"animateTransform",{attributeName:!0,type:!0,repeatCount:!0,dur:!0,values:!0,keyTimes:!0}),d(i).forEach(f),n.forEach(f),e.forEach(f),a.forEach(f),this.h()},h(){l(i,"attributeName","transform"),l(i,"type","rotate"),l(i,"repeatCount","indefinite"),l(i,"dur","0.9345794392523364s"),l(i,"values","0 50 50;360 50 50"),l(i,"keyTimes","0;1"),l(o,"cx","50"),l(o,"cy","50"),l(o,"fill","none"),l(o,"stroke","currentColor"),l(o,"stroke-width","7"),l(o,"r","38"),l(o,"stroke-dasharray","179.0707812546182 61.690260418206066"),l(s,"xmlns","http://www.w3.org/2000/svg"),g(s,"margin","auto"),g(s,"background","transparent"),g(s,"display","block"),g(s,"shape-rendering","auto"),l(s,"width","100px"),l(s,"height","100px"),l(s,"viewBox","0 0 100 100"),l(s,"preserveAspectRatio","xMidYMid"),l(r,"class",c="w-full mx-auto text-center mt-20 text-blue-600")},m(t,a){$(t,r,a),h(r,s),h(s,o),h(o,i)},d(t){t&&f(r)}}}function z(u){let r,s,o,i,c;s=new N({props:{hidden:u[1]}});let t=!u[0]&&A(u),a=u[0]&&C();return{c(){r=v("div"),T(s.$$.fragment),o=b(),t&&t.c(),i=b(),a&&a.c()},l(e){r=k(e,"DIV",{});var n=d(r);I(s.$$.fragment,n),o=R(n),t&&t.l(n),i=R(n),a&&a.l(n),n.forEach(f)},m(e,n){$(e,r,n),E(s,r,null),h(r,o),t&&t.m(r,null),h(r,i),a&&a.m(r,null),c=!0},p(e,[n]){const m={};n&2&&(m.hidden=e[1]),s.$set(m),e[0]?t&&(F(),_(t,1,1,()=>{t=null}),M()):t?(t.p(e,n),n&1&&p(t,1)):(t=A(e),t.c(),p(t,1),t.m(r,i)),e[0]?a||(a=C(),a.c(),a.m(r,null)):a&&(a.d(1),a=null)},i(e){c||(p(s.$$.fragment,e),p(t),c=!0)},o(e){_(s.$$.fragment,e),_(t),c=!1},d(e){e&&f(r),S(s),t&&t.d(),a&&a.d()}}}function J(u,r,s){let o=!0,i,c,t,a;return q(async()=>{s(1,i=D.get()),s(4,a=new URL(window.location.href).searchParams.get("random")==="true"||!1);const e=await H("",a);s(3,t=e.daily),s(2,c=e.tracks);const n=j(t);U.set(n),s(0,o=!1)}),D.listen(e=>{s(1,i=e)}),Y.listen(e=>{console.log("pastAttempts value:",e)}),[o,i,c,t,a]}class ee extends V{constructor(r){super(),B(this,r,J,z,G,{})}}export{ee as default};
