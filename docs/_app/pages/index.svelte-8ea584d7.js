import{S as ae,i as oe,s as ne,e as w,k as N,c as k,a as g,d as p,m as V,b as d,g as O,H as f,K as x,t as I,h as D,j as Z,w as ee,F as U,x as te,G as Y,y as se,I as re,q as G,o as F,B as le,L as He,v as Le,M as ze,N as Re,O as Ue,P as Ye,U as Ge,V as ye,W as $e,X as We,l as Ie,Y as De,n as Ze,p as Ke,Z as qe,_ as Je,$ as Qe,a0 as Xe,a1 as xe,f as de}from"../chunks/vendor-89bed0de.js";import{c as z,a as Q,s as ue,r as Fe,b as fe}from"../chunks/store-de14ea9d.js";function et(o){let e,t,r,n,a,c,s,l,u,i,h,v,E,_,m,b,y,T;return{c(){e=w("div"),t=w("div"),n=N(),a=w("div"),s=N(),l=w("div"),i=N(),h=w("div"),E=N(),_=w("div"),b=N(),y=w("div"),this.h()},l(S){e=k(S,"DIV",{class:!0});var $=g(e);t=k($,"DIV",{class:!0}),g(t).forEach(p),n=V($),a=k($,"DIV",{class:!0}),g(a).forEach(p),s=V($),l=k($,"DIV",{class:!0}),g(l).forEach(p),i=V($),h=k($,"DIV",{class:!0}),g(h).forEach(p),E=V($),_=k($,"DIV",{class:!0}),g(_).forEach(p),b=V($),y=k($,"DIV",{class:!0}),g(y).forEach(p),$.forEach(p),this.h()},h(){d(t,"class",r=`w-2/12 ${o[1](0,o[0].attempts)} border-r border-l`),d(a,"class",c=`w-2/12 ${o[1](1,o[0].attempts)} border-r border-l`),d(l,"class",u=`w-4/12 ${o[1](2,o[0].attempts)} border-r border-l`),d(h,"class",v=`w-4/12 ${o[1](3,o[0].attempts)} border-r border-l`),d(_,"class",m=`w-6/12 ${o[1](4,o[0].attempts)} border-r border-l`),d(y,"class",T=`w-6/12 ${o[1](5,o[0].attempts)} border-r border-l`),d(e,"class","max-w-3xl mx-auto flex h-3")},m(S,$){O(S,e,$),f(e,t),f(e,n),f(e,a),f(e,s),f(e,l),f(e,i),f(e,h),f(e,E),f(e,_),f(e,b),f(e,y)},p(S,[$]){$&1&&r!==(r=`w-2/12 ${S[1](0,S[0].attempts)} border-r border-l`)&&d(t,"class",r),$&1&&c!==(c=`w-2/12 ${S[1](1,S[0].attempts)} border-r border-l`)&&d(a,"class",c),$&1&&u!==(u=`w-4/12 ${S[1](2,S[0].attempts)} border-r border-l`)&&d(l,"class",u),$&1&&v!==(v=`w-4/12 ${S[1](3,S[0].attempts)} border-r border-l`)&&d(h,"class",v),$&1&&m!==(m=`w-6/12 ${S[1](4,S[0].attempts)} border-r border-l`)&&d(_,"class",m),$&1&&T!==(T=`w-6/12 ${S[1](5,S[0].attempts)} border-r border-l`)&&d(y,"class",T)},i:x,o:x,d(S){S&&p(e)}}}function tt(o,e,t){let{attempt:r}=e;const n=(a,c)=>{let s="bg-black opacity-40";return c===a&&!r.correct?s="bg-blue-500":c===a+1&&r.correct?s="bg-green-600":c>a&&(s="bg-orange-500"),s};return o.$$set=a=>{"attempt"in a&&t(0,r=a.attempt)},[r,n]}class st extends ae{constructor(e){super();oe(this,e,tt,et,ne,{attempt:0})}}function Se(o){let e,t=Math.floor(o[0].currentTime/60)+"",r,n,a=(o[0].currentTime%60<10?"0"+o[0].currentTime%60:o[0].currentTime%60)+"",c;return{c(){e=w("div"),r=I(t),n=I(`
          : `),c=I(a),this.h()},l(s){e=k(s,"DIV",{class:!0});var l=g(e);r=D(l,t),n=D(l,`
          : `),c=D(l,a),l.forEach(p),this.h()},h(){d(e,"class","flex flex-1 justify-start font-mono")},m(s,l){O(s,e,l),f(e,r),f(e,n),f(e,c)},p(s,l){l&1&&t!==(t=Math.floor(s[0].currentTime/60)+"")&&Z(r,t),l&1&&a!==(a=(s[0].currentTime%60<10?"0"+s[0].currentTime%60:s[0].currentTime%60)+"")&&Z(c,a)},d(s){s&&p(e)}}}function Te(o){let e,t=Math.floor(o[3]/60)+"",r,n,a=(Math.round(o[3]%60)<10?"0"+Math.round(o[3]%60):Math.round(o[3]%60))+"",c;return{c(){e=w("div"),r=I(t),n=I(`
          : `),c=I(a),this.h()},l(s){e=k(s,"DIV",{class:!0});var l=g(e);r=D(l,t),n=D(l,`
          : `),c=D(l,a),l.forEach(p),this.h()},h(){d(e,"class","flex flex-1 justify-end font-mono")},m(s,l){O(s,e,l),f(e,r),f(e,n),f(e,c)},p(s,l){l&8&&t!==(t=Math.floor(s[3]/60)+"")&&Z(r,t),l&8&&a!==(a=(Math.round(s[3]%60)<10?"0"+Math.round(s[3]%60):Math.round(s[3]%60))+"")&&Z(c,a)},d(s){s&&p(e)}}}function rt(o){let e,t,r,n,a,c,s,l,u,i,h,v,E,_,m,b,y,T,S,$,C,H,R;r=new st({props:{attempt:o[1]}});let j=o[0]&&Se(o),P=o[0]&&Te(o);return{c(){e=w("footer"),t=w("div"),ee(r.$$.fragment),n=N(),a=w("div"),c=w("div"),j&&j.c(),s=N(),l=w("div"),u=w("button"),i=U("svg"),h=U("path"),v=U("path"),_=N(),m=w("button"),b=U("svg"),y=U("path"),T=U("path"),$=N(),P&&P.c(),this.h()},l(M){e=k(M,"FOOTER",{class:!0});var A=g(e);t=k(A,"DIV",{class:!0});var W=g(t);te(r.$$.fragment,W),W.forEach(p),n=V(A),a=k(A,"DIV",{class:!0});var ie=g(a);c=k(ie,"DIV",{class:!0});var K=g(c);j&&j.l(K),s=V(K),l=k(K,"DIV",{class:!0});var B=g(l);u=k(B,"BUTTON",{title:!0,class:!0});var L=g(u);i=Y(L,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0,xmlns:!0});var q=g(i);h=Y(q,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(h).forEach(p),v=Y(q,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(v).forEach(p),q.forEach(p),L.forEach(p),_=V(B),m=k(B,"BUTTON",{title:!0,class:!0});var J=g(m);b=Y(J,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0});var ce=g(b);y=Y(ce,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(y).forEach(p),T=Y(ce,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(T).forEach(p),ce.forEach(p),J.forEach(p),B.forEach(p),$=V(K),P&&P.l(K),K.forEach(p),ie.forEach(p),A.forEach(p),this.h()},h(){d(t,"class","border-b"),d(h,"stroke-linecap","round"),d(h,"stroke-linejoin","round"),d(h,"stroke-width","2"),d(h,"d","M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"),d(v,"stroke-linecap","round"),d(v,"stroke-linejoin","round"),d(v,"stroke-width","2"),d(v,"d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),d(i,"class","w-14 h-14 mx-auto"),d(i,"fill","none"),d(i,"stroke","currentColor"),d(i,"viewBox","0 0 24 24"),d(i,"xmlns","http://www.w3.org/2000/svg"),d(u,"title","Play Song"),d(u,"class",E=`hover:text-green-600 transition-colors duration-200 ${o[2]?"":"hidden"}`),d(y,"stroke-linecap","round"),d(y,"stroke-linejoin","round"),d(y,"d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),d(T,"stroke-linecap","round"),d(T,"stroke-linejoin","round"),d(T,"d","M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"),d(b,"xmlns","http://www.w3.org/2000/svg"),d(b,"class","w-14 h-14 mx-auto"),d(b,"fill","none"),d(b,"viewBox","0 0 24 24"),d(b,"stroke","currentColor"),d(b,"stroke-width","2"),d(m,"title","Pause Song"),d(m,"class",S=`hover:text-green-600 transition-colors duration-200 ${o[2]?"hidden":""}`),d(l,"class","text-center flex-1 justify-center"),d(c,"class","flex justify-evenly items-center w-full"),d(a,"class","max-w-screen-md mx-auto p-3"),d(e,"class","border-t bottom-0 w-full fixed bg-gray-800")},m(M,A){O(M,e,A),f(e,t),se(r,t,null),f(e,n),f(e,a),f(a,c),j&&j.m(c,null),f(c,s),f(c,l),f(l,u),f(u,i),f(i,h),f(i,v),f(l,_),f(l,m),f(m,b),f(b,y),f(b,T),f(c,$),P&&P.m(c,null),C=!0,H||(R=[re(u,"click",o[4]),re(m,"click",o[5])],H=!0)},p(M,[A]){const W={};A&2&&(W.attempt=M[1]),r.$set(W),M[0]?j?j.p(M,A):(j=Se(M),j.c(),j.m(c,s)):j&&(j.d(1),j=null),(!C||A&4&&E!==(E=`hover:text-green-600 transition-colors duration-200 ${M[2]?"":"hidden"}`))&&d(u,"class",E),(!C||A&4&&S!==(S=`hover:text-green-600 transition-colors duration-200 ${M[2]?"hidden":""}`))&&d(m,"class",S),M[0]?P?P.p(M,A):(P=Te(M),P.c(),P.m(c,null)):P&&(P.d(1),P=null)},i(M){C||(G(r.$$.fragment,M),C=!0)},o(M){F(r.$$.fragment,M),C=!1},d(M){M&&p(e),le(r),j&&j.d(),P&&P.d(),H=!1,He(R)}}}function lt(o,e,t){let r,n={attempts:0,guesses:[],correct:!1,date:new Date},a=!0,c=0;return Le(()=>{t(1,n=z.get()),t(0,r=new Audio(Q.get().preview)),r.addEventListener("loadedmetadata",()=>t(3,c=r.duration))}),z.listen(u=>t(1,n=u)),Q.listen(u=>t(0,r=new Audio(u.preview))),ue.listen(u=>t(2,a=u)),[r,n,a,c,()=>{ue.set(!1),r.play();let u=12-n.attempts*6;const i=.08333333;switch(n.attempts){case 0:u=i;break;case 1:u=i*2;break;case 2:u=i*4;break;case 3:u=.5;break;case 4:u=.75;break;default:u=1;break}const h=n.correct?r.duration*1e3:r.duration/2*1e3*u;setTimeout(()=>{r.pause(),t(0,r.currentTime=0,r),ue.set(!0)},h)},()=>{r.pause(),t(0,r.currentTime=0,r),ue.set(!0)}]}class at extends ae{constructor(e){super();oe(this,e,lt,rt,ne,{})}}function ot(o){let e,t,r,n,a;const c=o[5].default,s=ze(c,o,o[4],null);return{c(){e=w("button"),s&&s.c(),this.h()},l(l){e=k(l,"BUTTON",{title:!0,class:!0});var u=g(e);s&&s.l(u),u.forEach(p),this.h()},h(){d(e,"title",o[1]),d(e,"class",t=`p-2 text-white ${o[2]} rounded-md shadow hover:shadow-lg transition-all duration-200 ${o[0]}`)},m(l,u){O(l,e,u),s&&s.m(e,null),r=!0,n||(a=re(e,"click",o[6]),n=!0)},p(l,[u]){s&&s.p&&(!r||u&16)&&Re(s,c,l,l[4],r?Ye(c,l[4],u,null):Ue(l[4]),null),(!r||u&2)&&d(e,"title",l[1]),(!r||u&5&&t!==(t=`p-2 text-white ${l[2]} rounded-md shadow hover:shadow-lg transition-all duration-200 ${l[0]}`))&&d(e,"class",t)},i(l){r||(G(s,l),r=!0)},o(l){F(s,l),r=!1},d(l){l&&p(e),s&&s.d(l),n=!1,a()}}}function nt(o,e,t){let{$$slots:r={},$$scope:n}=e,{type:a}=e,{className:c=""}=e,{title:s}=e,l;switch(a){case"primary":l="bg-orange-600 hover:bg-orange-500";break;case"submit":l="bg-blue-600 hover:bg-blue-500";break;default:l="bg-orange-600 hover:bg-orange-500";break}function u(i){Ge.call(this,o,i)}return o.$$set=i=>{"type"in i&&t(3,a=i.type),"className"in i&&t(0,c=i.className),"title"in i&&t(1,s=i.title),"$$scope"in i&&t(4,n=i.$$scope)},[c,s,l,a,n,r,u]}class it extends ae{constructor(e){super();oe(this,e,nt,ot,ne,{type:3,className:0,title:1})}}function ct(o){let e;return{c(){e=I("sounds cool")},l(t){e=D(t,"sounds cool")},m(t,r){O(t,e,r)},d(t){t&&p(e)}}}function ut(o){let e,t,r,n,a,c,s,l,u,i,h,v,E,_,m,b,y,T,S,$,C,H,R,j,P,M,A,W,ie,K;return A=new it({props:{type:"primary",$$slots:{default:[ct]},$$scope:{ctx:o}}}),A.$on("click",o[2]),{c(){e=w("div"),t=w("div"),r=N(),n=w("div"),a=w("div"),c=w("h1"),s=I("Instructions"),l=N(),u=w("div"),i=w("ul"),h=w("li"),v=w("span"),E=I("press the play button"),_=N(),m=w("li"),b=w("span"),y=I("listen to the song snippet"),T=N(),S=w("li"),$=w("span"),C=I("type the name of the song or song artist into the box"),H=N(),R=w("li"),j=w("span"),P=I("if you get the song incorrect or press skip, more of the song will be revealed"),M=N(),ee(A.$$.fragment),this.h()},l(B){e=k(B,"DIV",{});var L=g(e);t=k(L,"DIV",{class:!0}),g(t).forEach(p),r=V(L),n=k(L,"DIV",{class:!0});var q=g(n);a=k(q,"DIV",{class:!0});var J=g(a);c=k(J,"H1",{class:!0});var ce=g(c);s=D(ce,"Instructions"),ce.forEach(p),l=V(J),u=k(J,"DIV",{class:!0});var pe=g(u);i=k(pe,"UL",{class:!0});var X=g(i);h=k(X,"LI",{});var me=g(h);v=k(me,"SPAN",{});var ve=g(v);E=D(ve,"press the play button"),ve.forEach(p),me.forEach(p),_=V(X),m=k(X,"LI",{});var ge=g(m);b=k(ge,"SPAN",{});var _e=g(b);y=D(_e,"listen to the song snippet"),_e.forEach(p),ge.forEach(p),T=V(X),S=k(X,"LI",{});var be=g(S);$=k(be,"SPAN",{});var we=g($);C=D(we,"type the name of the song or song artist into the box"),we.forEach(p),be.forEach(p),H=V(X),R=k(X,"LI",{});var ke=g(R);j=k(ke,"SPAN",{});var Ee=g(j);P=D(Ee,"if you get the song incorrect or press skip, more of the song will be revealed"),Ee.forEach(p),ke.forEach(p),X.forEach(p),pe.forEach(p),M=V(J),te(A.$$.fragment,J),J.forEach(p),q.forEach(p),L.forEach(p),this.h()},h(){d(t,"class","flex overflow-y-auto overflow-x-hidden fixed right-0 left-0 top-4 z-40 justify-center items-center h-modal md:h-full md:inset-0 bg-black opacity-50"),d(c,"class","text-3xl"),d(i,"class","text-left"),d(u,"class","p-4"),d(a,"class","relative rounded-lg bg-gray-700 p-3 opacity-100 shadow"),d(n,"class","relative px-4 w-full max-w-2xl h-full md:h-auto mx-auto z-50"),ye(e,"hidden",o[0])},m(B,L){O(B,e,L),f(e,t),f(e,r),f(e,n),f(n,a),f(a,c),f(c,s),f(a,l),f(a,u),f(u,i),f(i,h),f(h,v),f(v,E),f(i,_),f(i,m),f(m,b),f(b,y),f(i,T),f(i,S),f(S,$),f($,C),f(i,H),f(i,R),f(R,j),f(j,P),f(a,M),se(A,a,null),W=!0,ie||(K=re(t,"click",o[1]),ie=!0)},p(B,[L]){const q={};L&8&&(q.$$scope={dirty:L,ctx:B}),A.$set(q),L&1&&ye(e,"hidden",B[0])},i(B){W||(G(A.$$.fragment,B),W=!0)},o(B){F(A.$$.fragment,B),W=!1},d(B){B&&p(e),le(A),ie=!1,K()}}}function dt(o,e,t){let{hidden:r=!0}=e;const n=()=>t(0,r=!0),a=()=>{t(0,r=!0),Fe.set(!0)};return o.$$set=c=>{"hidden"in c&&t(0,r=c.hidden)},[r,n,a]}class ft extends ae{constructor(e){super();oe(this,e,dt,ut,ne,{hidden:0})}}const Ne=async()=>{const o=new URLSearchParams;o.append("grant_type","client_credentials");const e=new Headers;e.append("Authorization","Basic ZTA2MjNlNTk1YjZkNGI2YTg5M2FlMDk5YzUzYzE3NWY6MzMwNDRmYTNmZTY3NDEzNmFhOWVmZDIyZjI0MGMyZjc="),e.append("Content-Type","application/x-www-form-urlencoded");const r=await(await fetch("https://accounts.spotify.com/api/token",{method:"POST",body:o,redirect:"follow",headers:e})).json();return{token:r.access_token,expires_at:new Date(Date.now()+r.expires_in*1e3),type:r.type}},ht=async(o,e)=>await(await fetch(`https://api.spotify.com/v1/playlists/${o}/`,{headers:{accept:"application/json",authorization:`Bearer ${e}`},method:"GET"})).json(),pt=async(o,e)=>{let t=o.tracks.items,r=o.tracks.next;for(;r;){const a=await(await fetch(r,{headers:{accept:"application/json",authorization:`Bearer ${e}`},method:"GET"})).json();if(a.error)throw new Error(`Oops! ${a.error.status}: ${a.error.message}`);t=t.concat(a.items),r=a.next,t.push(a.items)}return t=t.filter(n=>n.track&&n.track.preview_url),t.map(n=>n.track)},mt=async(o,e)=>{const t=new Date;t.setDate(t.getDate()+(e?Math.random()*10*(Math.random()+20):0)),$e.use(We(t.toLocaleDateString()));const r=$e.int(0,o.length-1);return o[r]},he=o=>({name:o.name,artist:o.artists?o.artists[0].name:"unknown artist",id:o.id,preview:o.preview_url});function vt(o){let e,t,r,n,a;const c=o[5].default,s=ze(c,o,o[4],null);return{c(){e=w("button"),s&&s.c(),this.h()},l(l){e=k(l,"BUTTON",{title:!0,class:!0});var u=g(e);s&&s.l(u),u.forEach(p),this.h()},h(){d(e,"title",o[1]),d(e,"class",t=`p-2 text-white ${o[2]} rounded-md shadow hover:shadow-lg transition-all duration-200 ${o[0]}`)},m(l,u){O(l,e,u),s&&s.m(e,null),r=!0,n||(a=re(e,"click",o[6]),n=!0)},p(l,[u]){s&&s.p&&(!r||u&16)&&Re(s,c,l,l[4],r?Ye(c,l[4],u,null):Ue(l[4]),null),(!r||u&2)&&d(e,"title",l[1]),(!r||u&5&&t!==(t=`p-2 text-white ${l[2]} rounded-md shadow hover:shadow-lg transition-all duration-200 ${l[0]}`))&&d(e,"class",t)},i(l){r||(G(s,l),r=!0)},o(l){F(s,l),r=!1},d(l){l&&p(e),s&&s.d(l),n=!1,a()}}}function gt(o,e,t){let{$$slots:r={},$$scope:n}=e,{type:a}=e,{className:c=""}=e,{title:s}=e,l;switch(a){case"primary":l="bg-orange-600 hover:bg-orange-500";break;case"submit":l="bg-blue-600 hover:bg-blue-500";break;default:l="bg-orange-600 hover:bg-orange-500";break}function u(i){Ge.call(this,o,i)}return o.$$set=i=>{"type"in i&&t(3,a=i.type),"className"in i&&t(0,c=i.className),"title"in i&&t(1,s=i.title),"$$scope"in i&&t(4,n=i.$$scope)},[c,s,l,a,n,r,u]}class _t extends ae{constructor(e){super();oe(this,e,gt,vt,ne,{type:3,className:0,title:1})}}function Ve(o,e,t){const r=o.slice();return r[13]=e[t],r}function Me(o,e,t){const r=o.slice();return r[13]=e[t],r}function je(o){let e,t,r;return{c(){e=w("div"),t=w("span"),r=I("listen to the song and try to guess it correctly. you have 6 attempts."),this.h()},l(n){e=k(n,"DIV",{class:!0});var a=g(e);t=k(a,"SPAN",{class:!0});var c=g(t);r=D(c,"listen to the song and try to guess it correctly. you have 6 attempts."),c.forEach(p),a.forEach(p),this.h()},h(){d(t,"class","text-center mx-auto w-full text-blue-100"),d(e,"class","w-full px-0 sm:px-20 transition-all duration-200")},m(n,a){O(n,e,a),f(e,t),f(t,r)},d(n){n&&p(e)}}}function Ae(o){let e,t,r=o[0].guesses.filter(Be),n=[];for(let s=0;s<r.length;s+=1)n[s]=Oe(Me(o,r,s));let a=o[0].guesses.filter(Ce),c=[];for(let s=0;s<a.length;s+=1)c[s]=Pe(Ve(o,a,s));return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=N();for(let s=0;s<c.length;s+=1)c[s].c();t=Ie()},l(s){for(let l=0;l<n.length;l+=1)n[l].l(s);e=V(s);for(let l=0;l<c.length;l+=1)c[l].l(s);t=Ie()},m(s,l){for(let u=0;u<n.length;u+=1)n[u].m(s,l);O(s,e,l);for(let u=0;u<c.length;u+=1)c[u].m(s,l);O(s,t,l)},p(s,l){if(l&1){r=s[0].guesses.filter(Be);let u;for(u=0;u<r.length;u+=1){const i=Me(s,r,u);n[u]?n[u].p(i,l):(n[u]=Oe(i),n[u].c(),n[u].m(e.parentNode,e))}for(;u<n.length;u+=1)n[u].d(1);n.length=r.length}if(l&1){a=s[0].guesses.filter(Ce);let u;for(u=0;u<a.length;u+=1){const i=Ve(s,a,u);c[u]?c[u].p(i,l):(c[u]=Pe(i),c[u].c(),c[u].m(t.parentNode,t))}for(;u<c.length;u+=1)c[u].d(1);c.length=a.length}},d(s){De(n,s),s&&p(e),De(c,s),s&&p(t)}}}function Oe(o){let e,t=o[13].song.name+"",r,n,a=o[13].song.artist+"",c,s,l;function u(){return o[6](o[13])}return{c(){e=w("div"),r=I(t),n=I(" by "),c=I(a),this.h()},l(i){e=k(i,"DIV",{title:!0,class:!0});var h=g(e);r=D(h,t),n=D(h," by "),c=D(h,a),h.forEach(p),this.h()},h(){d(e,"title","Open in Spotify"),d(e,"class","cursor-pointer border-orange-500 border-2 h-10 p-2 my-2 w-full text-left rounded-sm bg-gray-900 overflow-ellipsis whitespace-nowrap overflow-hidden")},m(i,h){O(i,e,h),f(e,r),f(e,n),f(e,c),s||(l=re(e,"click",u),s=!0)},p(i,h){o=i,h&1&&t!==(t=o[13].song.name+"")&&Z(r,t),h&1&&a!==(a=o[13].song.artist+"")&&Z(c,a)},d(i){i&&p(e),s=!1,l()}}}function Pe(o){let e,t=o[13].song.name+"",r,n,a=o[13].song.artist+"",c,s,l,u;function i(){return o[7](o[13])}return{c(){e=w("div"),r=I(t),n=I(" by "),c=I(a),s=N(),this.h()},l(h){e=k(h,"DIV",{title:!0,class:!0});var v=g(e);r=D(v,t),n=D(v," by "),c=D(v,a),s=V(v),v.forEach(p),this.h()},h(){d(e,"title","Open in Spotify"),d(e,"class","cursor-pointer border-green-600 border-2 h-10 p-2 my-2 w-full text-left rounded-sm bg-gray-900 overflow-ellipsis whitespace-nowrap overflow-hidden")},m(h,v){O(h,e,v),f(e,r),f(e,n),f(e,c),f(e,s),l||(u=re(e,"click",i),l=!0)},p(h,v){o=h,v&1&&t!==(t=o[13].song.name+"")&&Z(r,t),v&1&&a!==(a=o[13].song.artist+"")&&Z(c,a)},d(h){h&&p(e),l=!1,u()}}}function bt(o){let e,t,r,n,a,c=Q.get().name+"",s,l,u=Q.get().artist+"",i;return{c(){e=w("div"),t=w("p"),r=I("THE SONG WAS"),n=N(),a=w("p"),s=I(c),l=I(" by "),i=I(u),this.h()},l(h){e=k(h,"DIV",{});var v=g(e);t=k(v,"P",{});var E=g(t);r=D(E,"THE SONG WAS"),E.forEach(p),n=V(v),a=k(v,"P",{class:!0});var _=g(a);s=D(_,c),l=D(_," by "),i=D(_,u),_.forEach(p),v.forEach(p),this.h()},h(){d(a,"class","text-red-600")},m(h,v){O(h,e,v),f(e,t),f(t,r),f(e,n),f(e,a),f(a,s),f(a,l),f(a,i)},p:x,i:x,o:x,d(h){h&&p(e)}}}function wt(o){let e,t,r,n,a,c=Q.get().name+"",s,l,u=Q.get().artist+"",i,h,v,E;return{c(){e=w("div"),t=w("p"),r=I("AWESOME JOB, YOU GUESSED"),n=N(),a=w("p"),s=I(c),l=I(" by "),i=I(u),h=N(),v=w("p"),E=I("CORRECTLY!"),this.h()},l(_){e=k(_,"DIV",{});var m=g(e);t=k(m,"P",{});var b=g(t);r=D(b,"AWESOME JOB, YOU GUESSED"),b.forEach(p),n=V(m),a=k(m,"P",{class:!0});var y=g(a);s=D(y,c),l=D(y," by "),i=D(y,u),y.forEach(p),h=V(m),v=k(m,"P",{});var T=g(v);E=D(T,"CORRECTLY!"),T.forEach(p),m.forEach(p),this.h()},h(){d(a,"class","text-green-500")},m(_,m){O(_,e,m),f(e,t),f(t,r),f(e,n),f(e,a),f(a,s),f(a,l),f(a,i),f(e,h),f(e,v),f(v,E)},p:x,i:x,o:x,d(_){_&&p(e)}}}function kt(o){let e,t,r,n,a,c,s;function l(i){o[8](i)}let u={name:"song-selection",className:"w-10/12",inputClassName:"border-gray-600 border-2 w-full h-8 px-2 py-5 rounded-sm bg-gray-900 hover:border-gray-400 focus:border-gray-400 outline-none transition-all duration-200",dropdownClassName:"p-0 bg-gray-900",placeholder:`${6-o[0].attempts} ${6-o[0].attempts!==1?"attempts":"attempt"} left`,items:o[1],minCharactersToSearch:2,searchFunction:o[5],labelFieldName:"name",valueFieldName:"id",showLoadingIndicator:!0,noInputStyles:!0,hideArrow:!0,$$slots:{loading:[$t],"no-results":[yt],item:[Et,({label:i,item:h})=>({11:i,12:h}),({label:i,item:h})=>(i?2048:0)|(h?4096:0)]},$$scope:{ctx:o}};return o[2]!==void 0&&(u.selectedItem=o[2]),t=new Je({props:u}),Qe.push(()=>Xe(t,"selectedItem",l)),c=new _t({props:{title:"Submit Song Guess",type:"submit",className:"w-full",$$slots:{default:[It]},$$scope:{ctx:o}}}),c.$on("click",o[4]),{c(){e=w("div"),ee(t.$$.fragment),n=N(),a=w("div"),ee(c.$$.fragment),this.h()},l(i){e=k(i,"DIV",{class:!0,title:!0});var h=g(e);te(t.$$.fragment,h),n=V(h),a=k(h,"DIV",{class:!0,title:!0});var v=g(a);te(c.$$.fragment,v),v.forEach(p),h.forEach(p),this.h()},h(){d(a,"class","w-2/12 pl-4 mt-0.5"),d(a,"title","guess selected song"),d(e,"class","flex my-6"),d(e,"title","guess a song")},m(i,h){O(i,e,h),se(t,e,null),f(e,n),f(e,a),se(c,a,null),s=!0},p(i,h){const v={};h&1&&(v.placeholder=`${6-i[0].attempts} ${6-i[0].attempts!==1?"attempts":"attempt"} left`),h&2&&(v.items=i[1]),h&266240&&(v.$$scope={dirty:h,ctx:i}),!r&&h&4&&(r=!0,v.selectedItem=i[2],xe(()=>r=!1)),t.$set(v);const E={};h&262144&&(E.$$scope={dirty:h,ctx:i}),c.$set(E)},i(i){s||(G(t.$$.fragment,i),G(c.$$.fragment,i),s=!0)},o(i){F(t.$$.fragment,i),F(c.$$.fragment,i),s=!1},d(i){i&&p(e),le(t),le(c)}}}function Et(o){let e,t,r=o[12].name+"",n,a,c=o[12].artist+"",s;return{c(){e=w("div"),t=w("span"),n=I(r),a=I(" by "),s=I(c),this.h()},l(l){e=k(l,"DIV",{slot:!0,class:!0});var u=g(e);t=k(u,"SPAN",{});var i=g(t);n=D(i,r),a=D(i," by "),s=D(i,c),i.forEach(p),u.forEach(p),this.h()},h(){d(e,"slot","item"),d(e,"class","border-2 h-10 px-2 py-3 w-full text-left rounded-sm bg-gray-900 text-white hover:text-blue-500 hover:border-blue-500 overflow-ellipsis whitespace-nowrap overflow-hidden transition-colors duration-150")},m(l,u){O(l,e,u),f(e,t),f(t,n),f(t,a),f(t,s)},p(l,u){u&4096&&r!==(r=l[12].name+"")&&Z(n,r),u&4096&&c!==(c=l[12].artist+"")&&Z(s,c)},d(l){l&&p(e)}}}function yt(o){let e,t,r;return{c(){e=w("div"),t=w("span"),r=I("could not find this song in our list."),this.h()},l(n){e=k(n,"DIV",{slot:!0,class:!0});var a=g(e);t=k(a,"SPAN",{});var c=g(t);r=D(c,"could not find this song in our list."),c.forEach(p),a.forEach(p),this.h()},h(){d(e,"slot","no-results"),d(e,"class","py-1")},m(n,a){O(n,e,a),f(e,t),f(t,r)},d(n){n&&p(e)}}}function $t(o){let e,t,r;return{c(){e=w("div"),t=w("span"),r=I("searching for songs..."),this.h()},l(n){e=k(n,"DIV",{slot:!0,class:!0});var a=g(e);t=k(a,"SPAN",{});var c=g(t);r=D(c,"searching for songs..."),c.forEach(p),a.forEach(p),this.h()},h(){d(e,"slot","loading"),d(e,"class","py-1")},m(n,a){O(n,e,a),f(e,t),f(t,r)},d(n){n&&p(e)}}}function It(o){let e,t;return{c(){e=U("svg"),t=U("path"),this.h()},l(r){e=Y(r,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0});var n=g(e);t=Y(n,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(t).forEach(p),n.forEach(p),this.h()},h(){d(t,"stroke-linecap","round"),d(t,"stroke-linejoin","round"),d(t,"d","M13 7l5 5m0 0l-5 5m5-5H6"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(e,"class","h-6 w-6 mx-auto"),d(e,"fill","none"),d(e,"viewBox","0 0 24 24"),d(e,"stroke","currentColor"),d(e,"stroke-width","2")},m(r,n){O(r,e,n),f(e,t)},d(r){r&&p(e)}}}function Dt(o){let e,t,r,n,a,c,s,l,u;t=new ft({props:{hidden:o[3]}});let i=o[0].attempts===0&&je(),h=o[0].guesses&&Ae(o);const v=[kt,wt,bt],E=[];function _(m,b){return m[0].attempts<6&&!m[0].correct?0:m[0].correct?1:m[0].correct?-1:2}return~(s=_(o))&&(l=E[s]=v[s](o)),{c(){e=w("div"),ee(t.$$.fragment),r=N(),i&&i.c(),n=N(),a=w("div"),h&&h.c(),c=N(),l&&l.c(),this.h()},l(m){e=k(m,"DIV",{});var b=g(e);te(t.$$.fragment,b),r=V(b),i&&i.l(b),n=V(b),a=k(b,"DIV",{class:!0});var y=g(a);h&&h.l(y),c=V(y),l&&l.l(y),y.forEach(p),b.forEach(p),this.h()},h(){d(a,"class","w-full px-0 transition-all sm:px-20 items-center game")},m(m,b){O(m,e,b),se(t,e,null),f(e,r),i&&i.m(e,null),f(e,n),f(e,a),h&&h.m(a,null),f(a,c),~s&&E[s].m(a,null),u=!0},p(m,[b]){const y={};b&8&&(y.hidden=m[3]),t.$set(y),m[0].attempts===0?i||(i=je(),i.c(),i.m(e,n)):i&&(i.d(1),i=null),m[0].guesses?h?h.p(m,b):(h=Ae(m),h.c(),h.m(a,c)):h&&(h.d(1),h=null);let T=s;s=_(m),s===T?~s&&E[s].p(m,b):(l&&(Ze(),F(E[T],1,1,()=>{E[T]=null}),Ke()),~s?(l=E[s],l?l.p(m,b):(l=E[s]=v[s](m),l.c()),G(l,1),l.m(a,null)):l=null)},i(m){u||(G(t.$$.fragment,m),G(l),u=!0)},o(m){F(t.$$.fragment,m),F(l),u=!1},d(m){m&&p(e),le(t),i&&i.d(),h&&h.d(),~s&&E[s].d()}}}const Be=o=>!o.correct,Ce=o=>o.correct;function St(o,e,t){let r;qe(o,Fe,_=>t(3,r=_));let n={},a={},c=[];Le(async()=>{let _=fe.get();_.token||(_=await Ne(),fe.set(_)),new Date(_.expires_at)<new Date&&(_=await Ne(),fe.set(_)),a=await ht("5LQuCyn8AhcHpl31DgLaxL",_.token),c=await pt(a,_.token);const m=new URL(window.location.href).searchParams.get("random")==="true",b=await mt(c,m);if(new Date(z.get().date)!==new Date||m){const y=he(b);z.set({guesses:[],date:new Date,correct:!1,attempts:0}),Q.set(y)}t(0,n=z.get())}),z.listen(_=>t(0,n=_));let s=[],l={};const u=()=>{if(!l)return;const _=[...n.guesses||[]];if(l.id===Q.get().id)_.push({song:Q.get(),correct:!0}),z.setKey("guesses",_),z.setKey("correct",!0),z.setKey("attempts",n.attempts+1);else{const m=c.find(b=>b.id==l.id);_.push({song:he(m),correct:!1}),z.setKey("guesses",_),z.setKey("attempts",n.attempts+1)}t(2,l=void 0),ue.set(!0)},i=async _=>(t(1,s=c.filter(m=>(m.name+" "+m.artists[0].name).toLowerCase().includes(_.toLowerCase()))),t(1,s=s.map(m=>he(m))),s),h=_=>{window.open(`https://open.spotify.com/track/${_.song.id}`,"_blank").focus()},v=_=>{window.open(`https://open.spotify.com/track/${_.song.id}`,"_blank").focus()};function E(_){l=_,t(2,l)}return[n,s,l,r,u,i,h,v,E]}class Tt extends ae{constructor(e){super();oe(this,e,St,Dt,ne,{})}}function Nt(o){let e,t,r,n,a,c,s,l,u,i,h,v,E,_,m;return a=new Tt({}),s=new at({}),{c(){e=w("div"),t=w("div"),r=w("div"),n=w("div"),ee(a.$$.fragment),c=N(),ee(s.$$.fragment),u=N(),i=w("div"),h=U("svg"),v=U("circle"),E=U("animateTransform"),this.h()},l(b){e=k(b,"DIV",{});var y=g(e);t=k(y,"DIV",{class:!0});var T=g(t);r=k(T,"DIV",{class:!0});var S=g(r);n=k(S,"DIV",{class:!0});var $=g(n);te(a.$$.fragment,$),$.forEach(p),S.forEach(p),c=V(T),te(s.$$.fragment,T),T.forEach(p),u=V(y),i=k(y,"DIV",{class:!0});var C=g(i);h=Y(C,"svg",{xmlns:!0,"xmlns:xlink":!0,style:!0,width:!0,height:!0,viewBox:!0,preserveAspectRatio:!0});var H=g(h);v=Y(H,"circle",{cx:!0,cy:!0,fill:!0,stroke:!0,"stroke-width":!0,r:!0,"stroke-dasharray":!0});var R=g(v);E=Y(R,"animateTransform",{attributeName:!0,type:!0,repeatCount:!0,dur:!0,values:!0,keyTimes:!0}),g(E).forEach(p),R.forEach(p),H.forEach(p),C.forEach(p),y.forEach(p),this.h()},h(){d(n,"class","text-center p-3"),d(r,"class","max-w-screen-md mx-auto"),d(t,"class",l=`${o[0]?"hidden":""}`),d(E,"attributeName","transform"),d(E,"type","rotate"),d(E,"repeatCount","indefinite"),d(E,"dur","0.9345794392523364s"),d(E,"values","0 50 50;360 50 50"),d(E,"keyTimes","0;1"),d(v,"cx","50"),d(v,"cy","50"),d(v,"fill","none"),d(v,"stroke","currentColor"),d(v,"stroke-width","7"),d(v,"r","38"),d(v,"stroke-dasharray","179.0707812546182 61.690260418206066"),d(h,"xmlns","http://www.w3.org/2000/svg"),d(h,"xmlns:xlink","http://www.w3.org/1999/xlink"),de(h,"margin","auto"),de(h,"background","transparent"),de(h,"display","block"),de(h,"shape-rendering","auto"),d(h,"width","100px"),d(h,"height","100px"),d(h,"viewBox","0 0 100 100"),d(h,"preserveAspectRatio","xMidYMid"),d(i,"class",_=`w-full mx-auto text-center mt-20 ${o[0]?"":"hidden"} text-blue-600`)},m(b,y){O(b,e,y),f(e,t),f(t,r),f(r,n),se(a,n,null),f(t,c),se(s,t,null),f(e,u),f(e,i),f(i,h),f(h,v),f(v,E),m=!0},p(b,[y]){(!m||y&1&&l!==(l=`${b[0]?"hidden":""}`))&&d(t,"class",l),(!m||y&1&&_!==(_=`w-full mx-auto text-center mt-20 ${b[0]?"":"hidden"} text-blue-600`))&&d(i,"class",_)},i(b){m||(G(a.$$.fragment,b),G(s.$$.fragment,b),m=!0)},o(b){F(a.$$.fragment,b),F(s.$$.fragment,b),m=!1},d(b){b&&p(e),le(a),le(s)}}}function Vt(o,e,t){let r=!0;return z.listen(n=>{n.date&&t(0,r=!1)}),[r]}class At extends ae{constructor(e){super();oe(this,e,Vt,Nt,ne,{})}}export{At as default};
