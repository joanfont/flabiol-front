import{S as oe,i as ae,s as ne,e as b,k as N,c as w,a as g,d as p,m as V,b as f,g as M,H as d,K as x,t as S,h as T,j as K,w as ee,F as Y,x as te,G,y as se,I as re,q as F,o as H,B as le,L as Ze,v as Re,M as Ue,N as Ye,O as Ge,P as Fe,U as He,V as Ie,W as De,X as Ke,l as de,Y as me,n as qe,p as Je,Z as Qe,_ as Xe,$ as xe,a0 as et,a1 as tt,f as fe}from"../chunks/vendor-89bed0de.js";import{c as R,a as Z,s as ue,r as We,b as he}from"../chunks/store-de14ea9d.js";function st(a){let e,t,s,n,r,i,l,o,u,c,h,m,$,k,v,_,E,D;return{c(){e=b("div"),t=b("div"),n=N(),r=b("div"),l=N(),o=b("div"),c=N(),h=b("div"),$=N(),k=b("div"),_=N(),E=b("div"),this.h()},l(y){e=w(y,"DIV",{class:!0});var I=g(e);t=w(I,"DIV",{class:!0}),g(t).forEach(p),n=V(I),r=w(I,"DIV",{class:!0}),g(r).forEach(p),l=V(I),o=w(I,"DIV",{class:!0}),g(o).forEach(p),c=V(I),h=w(I,"DIV",{class:!0}),g(h).forEach(p),$=V(I),k=w(I,"DIV",{class:!0}),g(k).forEach(p),_=V(I),E=w(I,"DIV",{class:!0}),g(E).forEach(p),I.forEach(p),this.h()},h(){f(t,"class",s=`w-2/12 ${a[1](0,a[0].attempts)} border-r border-l`),f(r,"class",i=`w-2/12 ${a[1](1,a[0].attempts)} border-r border-l`),f(o,"class",u=`w-4/12 ${a[1](2,a[0].attempts)} border-r border-l`),f(h,"class",m=`w-4/12 ${a[1](3,a[0].attempts)} border-r border-l`),f(k,"class",v=`w-6/12 ${a[1](4,a[0].attempts)} border-r border-l`),f(E,"class",D=`w-6/12 ${a[1](5,a[0].attempts)} border-r border-l`),f(e,"class","max-w-3xl mx-auto flex h-3")},m(y,I){M(y,e,I),d(e,t),d(e,n),d(e,r),d(e,l),d(e,o),d(e,c),d(e,h),d(e,$),d(e,k),d(e,_),d(e,E)},p(y,[I]){I&1&&s!==(s=`w-2/12 ${y[1](0,y[0].attempts)} border-r border-l`)&&f(t,"class",s),I&1&&i!==(i=`w-2/12 ${y[1](1,y[0].attempts)} border-r border-l`)&&f(r,"class",i),I&1&&u!==(u=`w-4/12 ${y[1](2,y[0].attempts)} border-r border-l`)&&f(o,"class",u),I&1&&m!==(m=`w-4/12 ${y[1](3,y[0].attempts)} border-r border-l`)&&f(h,"class",m),I&1&&v!==(v=`w-6/12 ${y[1](4,y[0].attempts)} border-r border-l`)&&f(k,"class",v),I&1&&D!==(D=`w-6/12 ${y[1](5,y[0].attempts)} border-r border-l`)&&f(E,"class",D)},i:x,o:x,d(y){y&&p(e)}}}function rt(a,e,t){let{attempt:s}=e;const n=(r,i)=>{let l="bg-black opacity-40";return i===r&&!s.correct?l="bg-blue-500":i===r+1&&s.correct?l="bg-green-600":i>r&&(l="bg-orange-500"),l};return a.$$set=r=>{"attempt"in r&&t(0,s=r.attempt)},[s,n]}class lt extends oe{constructor(e){super();ae(this,e,rt,st,ne,{attempt:0})}}function Se(a){let e,t=Math.floor(a[0].currentTime/60)+"",s,n,r=(a[0].currentTime%60<10?"0"+a[0].currentTime%60:a[0].currentTime%60)+"",i;return{c(){e=b("div"),s=S(t),n=S(`
          : `),i=S(r),this.h()},l(l){e=w(l,"DIV",{class:!0});var o=g(e);s=T(o,t),n=T(o,`
          : `),i=T(o,r),o.forEach(p),this.h()},h(){f(e,"class","flex flex-1 justify-start font-mono")},m(l,o){M(l,e,o),d(e,s),d(e,n),d(e,i)},p(l,o){o&1&&t!==(t=Math.floor(l[0].currentTime/60)+"")&&K(s,t),o&1&&r!==(r=(l[0].currentTime%60<10?"0"+l[0].currentTime%60:l[0].currentTime%60)+"")&&K(i,r)},d(l){l&&p(e)}}}function Te(a){let e,t=Math.floor(a[3]/60)+"",s,n,r=(Math.round(a[3]%60)<10?"0"+Math.round(a[3]%60):Math.round(a[3]%60))+"",i;return{c(){e=b("div"),s=S(t),n=S(`
          : `),i=S(r),this.h()},l(l){e=w(l,"DIV",{class:!0});var o=g(e);s=T(o,t),n=T(o,`
          : `),i=T(o,r),o.forEach(p),this.h()},h(){f(e,"class","flex flex-1 justify-end font-mono")},m(l,o){M(l,e,o),d(e,s),d(e,n),d(e,i)},p(l,o){o&8&&t!==(t=Math.floor(l[3]/60)+"")&&K(s,t),o&8&&r!==(r=(Math.round(l[3]%60)<10?"0"+Math.round(l[3]%60):Math.round(l[3]%60))+"")&&K(i,r)},d(l){l&&p(e)}}}function ot(a){let e,t,s,n,r,i,l,o,u,c,h,m,$,k,v,_,E,D,y,I,B,L,U;s=new lt({props:{attempt:a[1]}});let A=a[0]&&Se(a),O=a[0]&&Te(a);return{c(){e=b("footer"),t=b("div"),ee(s.$$.fragment),n=N(),r=b("div"),i=b("div"),A&&A.c(),l=N(),o=b("div"),u=b("button"),c=Y("svg"),h=Y("path"),m=Y("path"),k=N(),v=b("button"),_=Y("svg"),E=Y("path"),D=Y("path"),I=N(),O&&O.c(),this.h()},l(j){e=w(j,"FOOTER",{class:!0});var C=g(e);t=w(C,"DIV",{class:!0});var W=g(t);te(s.$$.fragment,W),W.forEach(p),n=V(C),r=w(C,"DIV",{class:!0});var ie=g(r);i=w(ie,"DIV",{class:!0});var q=g(i);A&&A.l(q),l=V(q),o=w(q,"DIV",{class:!0});var P=g(o);u=w(P,"BUTTON",{title:!0,class:!0});var z=g(u);c=G(z,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0,xmlns:!0});var J=g(c);h=G(J,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(h).forEach(p),m=G(J,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(m).forEach(p),J.forEach(p),z.forEach(p),k=V(P),v=w(P,"BUTTON",{title:!0,class:!0});var Q=g(v);_=G(Q,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0});var ce=g(_);E=G(ce,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(E).forEach(p),D=G(ce,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(D).forEach(p),ce.forEach(p),Q.forEach(p),P.forEach(p),I=V(q),O&&O.l(q),q.forEach(p),ie.forEach(p),C.forEach(p),this.h()},h(){f(t,"class","border-b"),f(h,"stroke-linecap","round"),f(h,"stroke-linejoin","round"),f(h,"stroke-width","2"),f(h,"d","M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"),f(m,"stroke-linecap","round"),f(m,"stroke-linejoin","round"),f(m,"stroke-width","2"),f(m,"d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),f(c,"class","w-14 h-14 mx-auto"),f(c,"fill","none"),f(c,"stroke","currentColor"),f(c,"viewBox","0 0 24 24"),f(c,"xmlns","http://www.w3.org/2000/svg"),f(u,"title","Play Song"),f(u,"class",$=`hover:text-green-600 transition-colors duration-200 ${a[2]?"":"hidden"}`),f(E,"stroke-linecap","round"),f(E,"stroke-linejoin","round"),f(E,"d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),f(D,"stroke-linecap","round"),f(D,"stroke-linejoin","round"),f(D,"d","M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"),f(_,"xmlns","http://www.w3.org/2000/svg"),f(_,"class","w-14 h-14 mx-auto"),f(_,"fill","none"),f(_,"viewBox","0 0 24 24"),f(_,"stroke","currentColor"),f(_,"stroke-width","2"),f(v,"title","Pause Song"),f(v,"class",y=`hover:text-green-600 transition-colors duration-200 ${a[2]?"hidden":""}`),f(o,"class","text-center flex-1 justify-center"),f(i,"class","flex justify-evenly items-center w-full"),f(r,"class","max-w-screen-md mx-auto p-3"),f(e,"class","border-t bottom-0 w-full fixed bg-gray-800")},m(j,C){M(j,e,C),d(e,t),se(s,t,null),d(e,n),d(e,r),d(r,i),A&&A.m(i,null),d(i,l),d(i,o),d(o,u),d(u,c),d(c,h),d(c,m),d(o,k),d(o,v),d(v,_),d(_,E),d(_,D),d(i,I),O&&O.m(i,null),B=!0,L||(U=[re(u,"click",a[4]),re(v,"click",a[5])],L=!0)},p(j,[C]){const W={};C&2&&(W.attempt=j[1]),s.$set(W),j[0]?A?A.p(j,C):(A=Se(j),A.c(),A.m(i,l)):A&&(A.d(1),A=null),(!B||C&4&&$!==($=`hover:text-green-600 transition-colors duration-200 ${j[2]?"":"hidden"}`))&&f(u,"class",$),(!B||C&4&&y!==(y=`hover:text-green-600 transition-colors duration-200 ${j[2]?"hidden":""}`))&&f(v,"class",y),j[0]?O?O.p(j,C):(O=Te(j),O.c(),O.m(i,null)):O&&(O.d(1),O=null)},i(j){B||(F(s.$$.fragment,j),B=!0)},o(j){H(s.$$.fragment,j),B=!1},d(j){j&&p(e),le(s),A&&A.d(),O&&O.d(),L=!1,Ze(U)}}}function at(a,e,t){let s,n={attempts:0,guesses:[],correct:!1,date:new Date},r=!0,i=0;return Re(()=>{t(1,n=R.get()),t(0,s=new Audio(Z.get().preview)),s.addEventListener("loadedmetadata",()=>t(3,i=s.duration))}),R.listen(u=>t(1,n=u)),Z.listen(u=>t(0,s=new Audio(u.preview))),ue.listen(u=>t(2,r=u)),[s,n,r,i,()=>{ue.set(!1),s.play();let u=12-n.attempts*6;const c=.08333333;switch(n.attempts){case 0:u=c;break;case 1:u=c*2;break;case 2:u=c*4;break;case 3:u=.5;break;case 4:u=.75;break;default:u=1;break}const h=n.correct?s.duration*1e3:s.duration/2*1e3*u;setTimeout(()=>{s.pause(),t(0,s.currentTime=0,s),ue.set(!0)},h)},()=>{s.pause(),t(0,s.currentTime=0,s),ue.set(!0)}]}class nt extends oe{constructor(e){super();ae(this,e,at,ot,ne,{})}}function it(a){let e,t,s,n,r;const i=a[5].default,l=Ue(i,a,a[4],null);return{c(){e=b("button"),l&&l.c(),this.h()},l(o){e=w(o,"BUTTON",{title:!0,class:!0});var u=g(e);l&&l.l(u),u.forEach(p),this.h()},h(){f(e,"title",a[1]),f(e,"class",t=`p-2 text-white ${a[2]} rounded-md shadow hover:shadow-lg transition-all duration-200 ${a[0]}`)},m(o,u){M(o,e,u),l&&l.m(e,null),s=!0,n||(r=re(e,"click",a[6]),n=!0)},p(o,[u]){l&&l.p&&(!s||u&16)&&Ye(l,i,o,o[4],s?Fe(i,o[4],u,null):Ge(o[4]),null),(!s||u&2)&&f(e,"title",o[1]),(!s||u&5&&t!==(t=`p-2 text-white ${o[2]} rounded-md shadow hover:shadow-lg transition-all duration-200 ${o[0]}`))&&f(e,"class",t)},i(o){s||(F(l,o),s=!0)},o(o){H(l,o),s=!1},d(o){o&&p(e),l&&l.d(o),n=!1,r()}}}function ct(a,e,t){let{$$slots:s={},$$scope:n}=e,{type:r}=e,{className:i=""}=e,{title:l}=e,o;switch(r){case"primary":o="bg-orange-600 hover:bg-orange-500";break;case"submit":o="bg-blue-600 hover:bg-blue-500";break;default:o="bg-orange-600 hover:bg-orange-500";break}function u(c){He.call(this,a,c)}return a.$$set=c=>{"type"in c&&t(3,r=c.type),"className"in c&&t(0,i=c.className),"title"in c&&t(1,l=c.title),"$$scope"in c&&t(4,n=c.$$scope)},[i,l,o,r,n,s,u]}class ut extends oe{constructor(e){super();ae(this,e,ct,it,ne,{type:3,className:0,title:1})}}function ft(a){let e;return{c(){e=S("sounds cool")},l(t){e=T(t,"sounds cool")},m(t,s){M(t,e,s)},d(t){t&&p(e)}}}function dt(a){let e,t,s,n,r,i,l,o,u,c,h,m,$,k,v,_,E,D,y,I,B,L,U,A,O,j,C,W,ie,q;return C=new ut({props:{type:"primary",$$slots:{default:[ft]},$$scope:{ctx:a}}}),C.$on("click",a[2]),{c(){e=b("div"),t=b("div"),s=N(),n=b("div"),r=b("div"),i=b("h1"),l=S("Instructions"),o=N(),u=b("div"),c=b("ul"),h=b("li"),m=b("span"),$=S("press the play button"),k=N(),v=b("li"),_=b("span"),E=S("listen to the song snippet"),D=N(),y=b("li"),I=b("span"),B=S("type the name of the song or song artist into the box"),L=N(),U=b("li"),A=b("span"),O=S("if you get the song incorrect or press skip, more of the song will be revealed"),j=N(),ee(C.$$.fragment),this.h()},l(P){e=w(P,"DIV",{});var z=g(e);t=w(z,"DIV",{class:!0}),g(t).forEach(p),s=V(z),n=w(z,"DIV",{class:!0});var J=g(n);r=w(J,"DIV",{class:!0});var Q=g(r);i=w(Q,"H1",{class:!0});var ce=g(i);l=T(ce,"Instructions"),ce.forEach(p),o=V(Q),u=w(Q,"DIV",{class:!0});var _e=g(u);c=w(_e,"UL",{class:!0});var X=g(c);h=w(X,"LI",{});var ge=g(h);m=w(ge,"SPAN",{});var ve=g(m);$=T(ve,"press the play button"),ve.forEach(p),ge.forEach(p),k=V(X),v=w(X,"LI",{});var be=g(v);_=w(be,"SPAN",{});var we=g(_);E=T(we,"listen to the song snippet"),we.forEach(p),be.forEach(p),D=V(X),y=w(X,"LI",{});var ke=g(y);I=w(ke,"SPAN",{});var Ee=g(I);B=T(Ee,"type the name of the song or song artist into the box"),Ee.forEach(p),ke.forEach(p),L=V(X),U=w(X,"LI",{});var ye=g(U);A=w(ye,"SPAN",{});var $e=g(A);O=T($e,"if you get the song incorrect or press skip, more of the song will be revealed"),$e.forEach(p),ye.forEach(p),X.forEach(p),_e.forEach(p),j=V(Q),te(C.$$.fragment,Q),Q.forEach(p),J.forEach(p),z.forEach(p),this.h()},h(){f(t,"class","flex overflow-y-auto overflow-x-hidden fixed right-0 left-0 top-4 z-40 justify-center items-center h-modal md:h-full md:inset-0 bg-black opacity-50"),f(i,"class","text-3xl"),f(c,"class","text-left"),f(u,"class","p-4"),f(r,"class","relative rounded-lg bg-gray-700 p-3 opacity-100 shadow"),f(n,"class","relative px-4 w-full max-w-2xl h-full md:h-auto mx-auto z-50"),Ie(e,"hidden",a[0])},m(P,z){M(P,e,z),d(e,t),d(e,s),d(e,n),d(n,r),d(r,i),d(i,l),d(r,o),d(r,u),d(u,c),d(c,h),d(h,m),d(m,$),d(c,k),d(c,v),d(v,_),d(_,E),d(c,D),d(c,y),d(y,I),d(I,B),d(c,L),d(c,U),d(U,A),d(A,O),d(r,j),se(C,r,null),W=!0,ie||(q=re(t,"click",a[1]),ie=!0)},p(P,[z]){const J={};z&8&&(J.$$scope={dirty:z,ctx:P}),C.$set(J),z&1&&Ie(e,"hidden",P[0])},i(P){W||(F(C.$$.fragment,P),W=!0)},o(P){H(C.$$.fragment,P),W=!1},d(P){P&&p(e),le(C),ie=!1,q()}}}function ht(a,e,t){let{hidden:s=!0}=e;const n=()=>t(0,s=!0),r=()=>{t(0,s=!0),We.set(!0)};return a.$$set=i=>{"hidden"in i&&t(0,s=i.hidden)},[s,n,r]}class pt extends oe{constructor(e){super();ae(this,e,ht,dt,ne,{hidden:0})}}const Ne=async()=>{const a=new URLSearchParams;a.append("grant_type","client_credentials");const e=new Headers;e.append("Authorization","Basic ZTA2MjNlNTk1YjZkNGI2YTg5M2FlMDk5YzUzYzE3NWY6MzMwNDRmYTNmZTY3NDEzNmFhOWVmZDIyZjI0MGMyZjc="),e.append("Content-Type","application/x-www-form-urlencoded");const s=await(await fetch("https://accounts.spotify.com/api/token",{method:"POST",body:a,redirect:"follow",headers:e})).json();return{token:s.access_token,expires_at:new Date(Date.now()+s.expires_in*1e3),type:s.type}},mt=async(a,e)=>await(await fetch(`https://api.spotify.com/v1/playlists/${a}/`,{headers:{accept:"application/json",authorization:`Bearer ${e}`},method:"GET"})).json(),_t=async(a,e)=>{let t=a.tracks.items,s=a.tracks.next;for(;s;){const r=await(await fetch(s,{headers:{accept:"application/json",authorization:`Bearer ${e}`},method:"GET"})).json();if(r.error)throw new Error(`Oops! ${r.error.status}: ${r.error.message}`);t=t.concat(r.items),s=r.next,t.push(r.items)}return t=t.filter(n=>n.track&&n.track.preview_url),t.map(n=>n.track)},gt=async(a,e)=>{const t=new Date;t.setDate(t.getDate()+(e?Math.random()*10*(Math.random()+20):0)),De.use(Ke(t.toLocaleDateString()));const s=De.int(0,a.length-1);return a[s]},pe=a=>({name:a.name,artist:a.artists?a.artists[0].name:"unknown artist",id:a.id,preview:a.preview_url});function vt(a){let e,t,s,n,r;const i=a[5].default,l=Ue(i,a,a[4],null);return{c(){e=b("button"),l&&l.c(),this.h()},l(o){e=w(o,"BUTTON",{title:!0,class:!0});var u=g(e);l&&l.l(u),u.forEach(p),this.h()},h(){f(e,"title",a[1]),f(e,"class",t=`p-2 text-white ${a[2]} rounded-md shadow hover:shadow-lg transition-all duration-200 ${a[0]}`)},m(o,u){M(o,e,u),l&&l.m(e,null),s=!0,n||(r=re(e,"click",a[6]),n=!0)},p(o,[u]){l&&l.p&&(!s||u&16)&&Ye(l,i,o,o[4],s?Fe(i,o[4],u,null):Ge(o[4]),null),(!s||u&2)&&f(e,"title",o[1]),(!s||u&5&&t!==(t=`p-2 text-white ${o[2]} rounded-md shadow hover:shadow-lg transition-all duration-200 ${o[0]}`))&&f(e,"class",t)},i(o){s||(F(l,o),s=!0)},o(o){H(l,o),s=!1},d(o){o&&p(e),l&&l.d(o),n=!1,r()}}}function bt(a,e,t){let{$$slots:s={},$$scope:n}=e,{type:r}=e,{className:i=""}=e,{title:l}=e,o;switch(r){case"primary":o="bg-orange-600 hover:bg-orange-500";break;case"submit":o="bg-blue-600 hover:bg-blue-500";break;default:o="bg-orange-600 hover:bg-orange-500";break}function u(c){He.call(this,a,c)}return a.$$set=c=>{"type"in c&&t(3,r=c.type),"className"in c&&t(0,i=c.className),"title"in c&&t(1,l=c.title),"$$scope"in c&&t(4,n=c.$$scope)},[i,l,o,r,n,s,u]}class wt extends oe{constructor(e){super();ae(this,e,bt,vt,ne,{type:3,className:0,title:1})}}function Ve(a,e,t){const s=a.slice();return s[13]=e[t],s}function Me(a,e,t){const s=a.slice();return s[13]=e[t],s}function je(a,e,t){const s=a.slice();return s[13]=e[t],s}function Ae(a){let e,t,s;return{c(){e=b("div"),t=b("span"),s=S("listen to the song and try to guess it correctly. you have 6 attempts."),this.h()},l(n){e=w(n,"DIV",{class:!0});var r=g(e);t=w(r,"SPAN",{class:!0});var i=g(t);s=T(i,"listen to the song and try to guess it correctly. you have 6 attempts."),i.forEach(p),r.forEach(p),this.h()},h(){f(t,"class","text-center mx-auto w-full text-blue-100"),f(e,"class","w-full px-0 sm:px-20 transition-all duration-200")},m(n,r){M(n,e,r),d(e,t),d(t,s)},d(n){n&&p(e)}}}function Ce(a){let e,t,s=a[0].guesses.filter(Le),n=[];for(let l=0;l<s.length;l+=1)n[l]=Oe(je(a,s,l));let r=a[0].guesses.filter(ze),i=[];for(let l=0;l<r.length;l+=1)i[l]=Pe(Me(a,r,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=N();for(let l=0;l<i.length;l+=1)i[l].c();t=de()},l(l){for(let o=0;o<n.length;o+=1)n[o].l(l);e=V(l);for(let o=0;o<i.length;o+=1)i[o].l(l);t=de()},m(l,o){for(let u=0;u<n.length;u+=1)n[u].m(l,o);M(l,e,o);for(let u=0;u<i.length;u+=1)i[u].m(l,o);M(l,t,o)},p(l,o){if(o&1){s=l[0].guesses.filter(Le);let u;for(u=0;u<s.length;u+=1){const c=je(l,s,u);n[u]?n[u].p(c,o):(n[u]=Oe(c),n[u].c(),n[u].m(e.parentNode,e))}for(;u<n.length;u+=1)n[u].d(1);n.length=s.length}if(o&1){r=l[0].guesses.filter(ze);let u;for(u=0;u<r.length;u+=1){const c=Me(l,r,u);i[u]?i[u].p(c,o):(i[u]=Pe(c),i[u].c(),i[u].m(t.parentNode,t))}for(;u<i.length;u+=1)i[u].d(1);i.length=r.length}},d(l){me(n,l),l&&p(e),me(i,l),l&&p(t)}}}function Oe(a){let e,t=a[13].song.name+"",s,n,r=a[13].song.artist+"",i,l,o,u;function c(){return a[6](a[13])}return{c(){e=b("div"),s=S(t),n=S(" by "),i=S(r),this.h()},l(h){e=w(h,"DIV",{title:!0,class:!0});var m=g(e);s=T(m,t),n=T(m," by "),i=T(m,r),m.forEach(p),this.h()},h(){f(e,"title","Open in Spotify"),f(e,"class",l=`cursor-pointer ${a[13].artistCorrect?"border-amber-400":"border-orange-600"} border-2 h-10 p-2 my-2 w-full text-left rounded-sm bg-gray-900 overflow-ellipsis whitespace-nowrap overflow-hidden`)},m(h,m){M(h,e,m),d(e,s),d(e,n),d(e,i),o||(u=re(e,"click",c),o=!0)},p(h,m){a=h,m&1&&t!==(t=a[13].song.name+"")&&K(s,t),m&1&&r!==(r=a[13].song.artist+"")&&K(i,r),m&1&&l!==(l=`cursor-pointer ${a[13].artistCorrect?"border-amber-400":"border-orange-600"} border-2 h-10 p-2 my-2 w-full text-left rounded-sm bg-gray-900 overflow-ellipsis whitespace-nowrap overflow-hidden`)&&f(e,"class",l)},d(h){h&&p(e),o=!1,u()}}}function Pe(a){let e,t=a[13].song.name+"",s,n,r=a[13].song.artist+"",i,l,o,u;function c(){return a[7](a[13])}return{c(){e=b("div"),s=S(t),n=S(" by "),i=S(r),l=N(),this.h()},l(h){e=w(h,"DIV",{title:!0,class:!0});var m=g(e);s=T(m,t),n=T(m," by "),i=T(m,r),l=V(m),m.forEach(p),this.h()},h(){f(e,"title","Open in Spotify"),f(e,"class","cursor-pointer border-green-600 border-2 h-10 p-2 my-2 w-full text-left rounded-sm bg-gray-900 overflow-ellipsis whitespace-nowrap overflow-hidden")},m(h,m){M(h,e,m),d(e,s),d(e,n),d(e,i),d(e,l),o||(u=re(e,"click",c),o=!0)},p(h,m){a=h,m&1&&t!==(t=a[13].song.name+"")&&K(s,t),m&1&&r!==(r=a[13].song.artist+"")&&K(i,r)},d(h){h&&p(e),o=!1,u()}}}function kt(a){let e,t,s,n,r,i=Z.get().name+"",l,o,u=Z.get().artist+"",c;return{c(){e=b("div"),t=b("p"),s=S("THE SONG WAS"),n=N(),r=b("p"),l=S(i),o=S(" by "),c=S(u),this.h()},l(h){e=w(h,"DIV",{});var m=g(e);t=w(m,"P",{});var $=g(t);s=T($,"THE SONG WAS"),$.forEach(p),n=V(m),r=w(m,"P",{class:!0});var k=g(r);l=T(k,i),o=T(k," by "),c=T(k,u),k.forEach(p),m.forEach(p),this.h()},h(){f(r,"class","text-red-600")},m(h,m){M(h,e,m),d(e,t),d(t,s),d(e,n),d(e,r),d(r,l),d(r,o),d(r,c)},p:x,i:x,o:x,d(h){h&&p(e)}}}function Et(a){let e,t,s,n,r,i=Z.get().name+"",l,o,u=Z.get().artist+"",c,h,m,$,k,v=a[0].guesses,_=[];for(let E=0;E<v.length;E+=1)_[E]=Be(Ve(a,v,E));return{c(){e=b("div"),t=b("p"),s=S("AWESOME JOB, YOU GUESSED"),n=N(),r=b("p"),l=S(i),o=S(" by "),c=S(u),h=N(),m=b("p"),$=S("CORRECTLY!"),k=N();for(let E=0;E<_.length;E+=1)_[E].c();this.h()},l(E){e=w(E,"DIV",{});var D=g(e);t=w(D,"P",{});var y=g(t);s=T(y,"AWESOME JOB, YOU GUESSED"),y.forEach(p),n=V(D),r=w(D,"P",{class:!0});var I=g(r);l=T(I,i),o=T(I," by "),c=T(I,u),I.forEach(p),h=V(D),m=w(D,"P",{});var B=g(m);$=T(B,"CORRECTLY!"),B.forEach(p),k=V(D);for(let L=0;L<_.length;L+=1)_[L].l(D);D.forEach(p),this.h()},h(){f(r,"class","text-green-500")},m(E,D){M(E,e,D),d(e,t),d(t,s),d(e,n),d(e,r),d(r,l),d(r,o),d(r,c),d(e,h),d(e,m),d(m,$),d(e,k);for(let y=0;y<_.length;y+=1)_[y].m(e,null)},p(E,D){if(D&1){v=E[0].guesses;let y;for(y=0;y<v.length;y+=1){const I=Ve(E,v,y);_[y]?_[y].p(I,D):(_[y]=Be(I),_[y].c(),_[y].m(e,null))}for(;y<_.length;y+=1)_[y].d(1);_.length=v.length}},i:x,o:x,d(E){E&&p(e),me(_,E)}}}function yt(a){let e,t,s,n,r,i,l;function o(c){a[8](c)}let u={name:"song-selection",className:"w-10/12",inputClassName:"border-gray-600 border-2 w-full h-8 px-2 py-5 rounded-sm bg-gray-900 hover:border-gray-400 focus:border-gray-400 outline-none transition-all duration-200",dropdownClassName:"p-0 bg-gray-900",placeholder:`${6-a[0].attempts} ${6-a[0].attempts!==1?"attempts":"attempt"} left`,items:a[1],minCharactersToSearch:2,searchFunction:a[5],labelFieldName:"name",valueFieldName:"id",showLoadingIndicator:!0,noInputStyles:!0,hideArrow:!0,$$slots:{loading:[Nt],"no-results":[Tt],item:[St,({label:c,item:h})=>({11:c,12:h}),({label:c,item:h})=>(c?2048:0)|(h?4096:0)]},$$scope:{ctx:a}};return a[2]!==void 0&&(u.selectedItem=a[2]),t=new Xe({props:u}),xe.push(()=>et(t,"selectedItem",o)),i=new wt({props:{title:"Submit Song Guess",type:"submit",className:"w-full",$$slots:{default:[Vt]},$$scope:{ctx:a}}}),i.$on("click",a[4]),{c(){e=b("div"),ee(t.$$.fragment),n=N(),r=b("div"),ee(i.$$.fragment),this.h()},l(c){e=w(c,"DIV",{class:!0,title:!0});var h=g(e);te(t.$$.fragment,h),n=V(h),r=w(h,"DIV",{class:!0,title:!0});var m=g(r);te(i.$$.fragment,m),m.forEach(p),h.forEach(p),this.h()},h(){f(r,"class","w-2/12 pl-4 mt-0.5"),f(r,"title","guess selected song"),f(e,"class","flex my-6"),f(e,"title","guess a song")},m(c,h){M(c,e,h),se(t,e,null),d(e,n),d(e,r),se(i,r,null),l=!0},p(c,h){const m={};h&1&&(m.placeholder=`${6-c[0].attempts} ${6-c[0].attempts!==1?"attempts":"attempt"} left`),h&2&&(m.items=c[1]),h&1052672&&(m.$$scope={dirty:h,ctx:c}),!s&&h&4&&(s=!0,m.selectedItem=c[2],tt(()=>s=!1)),t.$set(m);const $={};h&1048576&&($.$$scope={dirty:h,ctx:c}),i.$set($)},i(c){l||(F(t.$$.fragment,c),F(i.$$.fragment,c),l=!0)},o(c){H(t.$$.fragment,c),H(i.$$.fragment,c),l=!1},d(c){c&&p(e),le(t),le(i)}}}function $t(a){let e;return{c(){e=S("\u{1F7E5}")},l(t){e=T(t,"\u{1F7E5}")},m(t,s){M(t,e,s)},d(t){t&&p(e)}}}function It(a){let e;return{c(){e=S("\u{1F7E8}")},l(t){e=T(t,"\u{1F7E8}")},m(t,s){M(t,e,s)},d(t){t&&p(e)}}}function Dt(a){let e;return{c(){e=S("\u{1F7E9}")},l(t){e=T(t,"\u{1F7E9}")},m(t,s){M(t,e,s)},d(t){t&&p(e)}}}function Be(a){let e;function t(r,i){return r[13].correct?Dt:r[13].artistCorrect?It:$t}let s=t(a),n=s(a);return{c(){n.c(),e=de()},l(r){n.l(r),e=de()},m(r,i){n.m(r,i),M(r,e,i)},p(r,i){s!==(s=t(r))&&(n.d(1),n=s(r),n&&(n.c(),n.m(e.parentNode,e)))},d(r){n.d(r),r&&p(e)}}}function St(a){let e,t,s=a[12].name+"",n,r,i=a[12].artist+"",l;return{c(){e=b("div"),t=b("span"),n=S(s),r=S(" by "),l=S(i),this.h()},l(o){e=w(o,"DIV",{slot:!0,class:!0});var u=g(e);t=w(u,"SPAN",{});var c=g(t);n=T(c,s),r=T(c," by "),l=T(c,i),c.forEach(p),u.forEach(p),this.h()},h(){f(e,"slot","item"),f(e,"class","border-2 h-10 px-2 py-3 w-full text-left rounded-sm bg-gray-900 text-white hover:text-blue-500 hover:border-blue-500 overflow-ellipsis whitespace-nowrap overflow-hidden transition-colors duration-150")},m(o,u){M(o,e,u),d(e,t),d(t,n),d(t,r),d(t,l)},p(o,u){u&4096&&s!==(s=o[12].name+"")&&K(n,s),u&4096&&i!==(i=o[12].artist+"")&&K(l,i)},d(o){o&&p(e)}}}function Tt(a){let e,t,s;return{c(){e=b("div"),t=b("span"),s=S("could not find this song in our list."),this.h()},l(n){e=w(n,"DIV",{slot:!0,class:!0});var r=g(e);t=w(r,"SPAN",{});var i=g(t);s=T(i,"could not find this song in our list."),i.forEach(p),r.forEach(p),this.h()},h(){f(e,"slot","no-results"),f(e,"class","py-1")},m(n,r){M(n,e,r),d(e,t),d(t,s)},d(n){n&&p(e)}}}function Nt(a){let e,t,s;return{c(){e=b("div"),t=b("span"),s=S("searching for songs..."),this.h()},l(n){e=w(n,"DIV",{slot:!0,class:!0});var r=g(e);t=w(r,"SPAN",{});var i=g(t);s=T(i,"searching for songs..."),i.forEach(p),r.forEach(p),this.h()},h(){f(e,"slot","loading"),f(e,"class","py-1")},m(n,r){M(n,e,r),d(e,t),d(t,s)},d(n){n&&p(e)}}}function Vt(a){let e,t;return{c(){e=Y("svg"),t=Y("path"),this.h()},l(s){e=G(s,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0});var n=g(e);t=G(n,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(t).forEach(p),n.forEach(p),this.h()},h(){f(t,"stroke-linecap","round"),f(t,"stroke-linejoin","round"),f(t,"d","M13 7l5 5m0 0l-5 5m5-5H6"),f(e,"xmlns","http://www.w3.org/2000/svg"),f(e,"class","h-6 w-6 mx-auto"),f(e,"fill","none"),f(e,"viewBox","0 0 24 24"),f(e,"stroke","currentColor"),f(e,"stroke-width","2")},m(s,n){M(s,e,n),d(e,t)},d(s){s&&p(e)}}}function Mt(a){let e,t,s,n,r,i,l,o,u;t=new pt({props:{hidden:a[3]}});let c=a[0].attempts===0&&Ae(),h=a[0].guesses&&Ce(a);const m=[yt,Et,kt],$=[];function k(v,_){return v[0].attempts<6&&!v[0].correct?0:v[0].correct?1:v[0].correct?-1:2}return~(l=k(a))&&(o=$[l]=m[l](a)),{c(){e=b("div"),ee(t.$$.fragment),s=N(),c&&c.c(),n=N(),r=b("div"),h&&h.c(),i=N(),o&&o.c(),this.h()},l(v){e=w(v,"DIV",{});var _=g(e);te(t.$$.fragment,_),s=V(_),c&&c.l(_),n=V(_),r=w(_,"DIV",{class:!0});var E=g(r);h&&h.l(E),i=V(E),o&&o.l(E),E.forEach(p),_.forEach(p),this.h()},h(){f(r,"class","w-full px-0 transition-all sm:px-20 items-center game")},m(v,_){M(v,e,_),se(t,e,null),d(e,s),c&&c.m(e,null),d(e,n),d(e,r),h&&h.m(r,null),d(r,i),~l&&$[l].m(r,null),u=!0},p(v,[_]){const E={};_&8&&(E.hidden=v[3]),t.$set(E),v[0].attempts===0?c||(c=Ae(),c.c(),c.m(e,n)):c&&(c.d(1),c=null),v[0].guesses?h?h.p(v,_):(h=Ce(v),h.c(),h.m(r,i)):h&&(h.d(1),h=null);let D=l;l=k(v),l===D?~l&&$[l].p(v,_):(o&&(qe(),H($[D],1,1,()=>{$[D]=null}),Je()),~l?(o=$[l],o?o.p(v,_):(o=$[l]=m[l](v),o.c()),F(o,1),o.m(r,null)):o=null)},i(v){u||(F(t.$$.fragment,v),F(o),u=!0)},o(v){H(t.$$.fragment,v),H(o),u=!1},d(v){v&&p(e),le(t),c&&c.d(),h&&h.d(),~l&&$[l].d()}}}const Le=a=>!a.correct,ze=a=>a.correct;function jt(a,e,t){let s;Qe(a,We,k=>t(3,s=k));let n={},r={},i=[];Re(async()=>{let k=he.get();k.token||(k=await Ne(),he.set(k)),new Date(k.expires_at)<new Date&&(k=await Ne(),he.set(k)),r=await mt("5LQuCyn8AhcHpl31DgLaxL",k.token),i=await _t(r,k.token);const v=new URL(window.location.href).searchParams.get("random")==="true",_=await gt(i,v);if(new Date(R.get().date)!==new Date||v){const E=pe(_);R.set({guesses:[],date:new Date,correct:!1,attempts:0}),Z.set(E)}t(0,n=R.get())}),R.listen(k=>t(0,n=k));let l=[],o={};const u=()=>{if(!o)return;const k=[...n.guesses||[]];if(o.id===Z.get().id)k.push({song:Z.get(),correct:!0,artistCorrect:!0}),R.setKey("guesses",k),R.setKey("correct",!0),R.setKey("attempts",n.attempts+1);else{const v=i.find(_=>_.id==o.id);k.push({song:pe(v),correct:!1,artistCorrect:o.artist.includes(Z.get().artist)}),R.setKey("guesses",k),R.setKey("attempts",n.attempts+1)}t(2,o=void 0),ue.set(!0)},c=async k=>(t(1,l=i.filter(v=>(v.name+" "+v.artists[0].name).toLowerCase().includes(k.toLowerCase()))),t(1,l=l.map(v=>pe(v))),l),h=k=>{window.open(`https://open.spotify.com/track/${k.song.id}`,"_blank").focus()},m=k=>{window.open(`https://open.spotify.com/track/${k.song.id}`,"_blank").focus()};function $(k){o=k,t(2,o)}return[n,l,o,s,u,c,h,m,$]}class At extends oe{constructor(e){super();ae(this,e,jt,Mt,ne,{})}}function Ct(a){let e,t,s,n,r,i,l,o,u,c,h,m,$,k,v;return r=new At({}),l=new nt({}),{c(){e=b("div"),t=b("div"),s=b("div"),n=b("div"),ee(r.$$.fragment),i=N(),ee(l.$$.fragment),u=N(),c=b("div"),h=Y("svg"),m=Y("circle"),$=Y("animateTransform"),this.h()},l(_){e=w(_,"DIV",{});var E=g(e);t=w(E,"DIV",{class:!0});var D=g(t);s=w(D,"DIV",{class:!0});var y=g(s);n=w(y,"DIV",{class:!0});var I=g(n);te(r.$$.fragment,I),I.forEach(p),y.forEach(p),i=V(D),te(l.$$.fragment,D),D.forEach(p),u=V(E),c=w(E,"DIV",{class:!0});var B=g(c);h=G(B,"svg",{xmlns:!0,"xmlns:xlink":!0,style:!0,width:!0,height:!0,viewBox:!0,preserveAspectRatio:!0});var L=g(h);m=G(L,"circle",{cx:!0,cy:!0,fill:!0,stroke:!0,"stroke-width":!0,r:!0,"stroke-dasharray":!0});var U=g(m);$=G(U,"animateTransform",{attributeName:!0,type:!0,repeatCount:!0,dur:!0,values:!0,keyTimes:!0}),g($).forEach(p),U.forEach(p),L.forEach(p),B.forEach(p),E.forEach(p),this.h()},h(){f(n,"class","text-center p-3"),f(s,"class","max-w-screen-md mx-auto"),f(t,"class",o=`${a[0]?"hidden":""}`),f($,"attributeName","transform"),f($,"type","rotate"),f($,"repeatCount","indefinite"),f($,"dur","0.9345794392523364s"),f($,"values","0 50 50;360 50 50"),f($,"keyTimes","0;1"),f(m,"cx","50"),f(m,"cy","50"),f(m,"fill","none"),f(m,"stroke","currentColor"),f(m,"stroke-width","7"),f(m,"r","38"),f(m,"stroke-dasharray","179.0707812546182 61.690260418206066"),f(h,"xmlns","http://www.w3.org/2000/svg"),f(h,"xmlns:xlink","http://www.w3.org/1999/xlink"),fe(h,"margin","auto"),fe(h,"background","transparent"),fe(h,"display","block"),fe(h,"shape-rendering","auto"),f(h,"width","100px"),f(h,"height","100px"),f(h,"viewBox","0 0 100 100"),f(h,"preserveAspectRatio","xMidYMid"),f(c,"class",k=`w-full mx-auto text-center mt-20 ${a[0]?"":"hidden"} text-blue-600`)},m(_,E){M(_,e,E),d(e,t),d(t,s),d(s,n),se(r,n,null),d(t,i),se(l,t,null),d(e,u),d(e,c),d(c,h),d(h,m),d(m,$),v=!0},p(_,[E]){(!v||E&1&&o!==(o=`${_[0]?"hidden":""}`))&&f(t,"class",o),(!v||E&1&&k!==(k=`w-full mx-auto text-center mt-20 ${_[0]?"":"hidden"} text-blue-600`))&&f(c,"class",k)},i(_){v||(F(r.$$.fragment,_),F(l.$$.fragment,_),v=!0)},o(_){H(r.$$.fragment,_),H(l.$$.fragment,_),v=!1},d(_){_&&p(e),le(r),le(l)}}}function Ot(a,e,t){let s=!0;return R.listen(n=>{n.date&&t(0,s=!1)}),[s]}class Lt extends oe{constructor(e){super();ae(this,e,Ot,Ct,ne,{})}}export{Lt as default};
