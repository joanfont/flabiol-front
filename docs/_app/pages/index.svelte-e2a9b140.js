import{S as oe,i as ne,s as ie,e as b,k as T,c as w,a as _,d as m,m as N,b as u,g as C,H as h,K as fe,t as S,h as V,j as se,w as X,F as K,x as Z,G as H,y as J,I as ae,q as z,o as F,B as x,L as He,v as pe,M as Ye,N as qe,O as Qe,P as We,U as Xe,n as Ge,p as Ue,l as Se,V as Ve,W as Ze,X as Je,Y as xe,Z as et,_ as Te,f as ue}from"../chunks/vendor-c11fbefc.js";import{c as B,a as W,s as ce,r as he}from"../chunks/store-ff5d40bc.js";function tt(l){let e,t,s,r,a,n,c,i,o,f,d,p,v,g,k,I,$,D;return{c(){e=b("div"),t=b("div"),r=T(),a=b("div"),c=T(),i=b("div"),f=T(),d=b("div"),v=T(),g=b("div"),I=T(),$=b("div"),this.h()},l(y){e=w(y,"DIV",{class:!0});var E=_(e);t=w(E,"DIV",{class:!0}),_(t).forEach(m),r=N(E),a=w(E,"DIV",{class:!0}),_(a).forEach(m),c=N(E),i=w(E,"DIV",{class:!0}),_(i).forEach(m),f=N(E),d=w(E,"DIV",{class:!0}),_(d).forEach(m),v=N(E),g=w(E,"DIV",{class:!0}),_(g).forEach(m),I=N(E),$=w(E,"DIV",{class:!0}),_($).forEach(m),E.forEach(m),this.h()},h(){u(t,"class",s=`w-2/12 ${l[1](0,l[0].attempts)} border-r border-l`),u(a,"class",n=`w-2/12 ${l[1](1,l[0].attempts)} border-r border-l`),u(i,"class",o=`w-4/12 ${l[1](2,l[0].attempts)} border-r border-l`),u(d,"class",p=`w-4/12 ${l[1](3,l[0].attempts)} border-r border-l`),u(g,"class",k=`w-6/12 ${l[1](4,l[0].attempts)} border-r border-l`),u($,"class",D=`w-6/12 ${l[1](5,l[0].attempts)} border-r border-l`),u(e,"class","max-w-3xl mx-auto flex h-3")},m(y,E){C(y,e,E),h(e,t),h(e,r),h(e,a),h(e,c),h(e,i),h(e,f),h(e,d),h(e,v),h(e,g),h(e,I),h(e,$)},p(y,[E]){E&1&&s!==(s=`w-2/12 ${y[1](0,y[0].attempts)} border-r border-l`)&&u(t,"class",s),E&1&&n!==(n=`w-2/12 ${y[1](1,y[0].attempts)} border-r border-l`)&&u(a,"class",n),E&1&&o!==(o=`w-4/12 ${y[1](2,y[0].attempts)} border-r border-l`)&&u(i,"class",o),E&1&&p!==(p=`w-4/12 ${y[1](3,y[0].attempts)} border-r border-l`)&&u(d,"class",p),E&1&&k!==(k=`w-6/12 ${y[1](4,y[0].attempts)} border-r border-l`)&&u(g,"class",k),E&1&&D!==(D=`w-6/12 ${y[1](5,y[0].attempts)} border-r border-l`)&&u($,"class",D)},i:fe,o:fe,d(y){y&&m(e)}}}function st(l,e,t){let{attempt:s}=e;const r=(a,n)=>{let c="bg-black opacity-40";return n===a&&!s.correct?c="bg-blue-500":n===a+1&&s.correct?c="bg-green-600":n>a&&s.guesses[a].artistCorrect?c="bg-amber-400":n>a&&(c="bg-red-600"),c};return l.$$set=a=>{"attempt"in a&&t(0,s=a.attempt)},[s,r]}class rt extends oe{constructor(e){super();ne(this,e,st,tt,ie,{attempt:0})}}function Ne(l){let e,t;return{c(){e=b("div"),t=S(l[4]),this.h()},l(s){e=w(s,"DIV",{class:!0});var r=_(e);t=V(r,l[4]),r.forEach(m),this.h()},h(){u(e,"class","flex flex-1 justify-start font-mono")},m(s,r){C(s,e,r),h(e,t)},p(s,r){r&16&&se(t,s[4])},d(s){s&&m(e)}}}function Ce(l){let e,t=Math.floor(l[3]/60)+":"+(Math.round(l[3]%60)<10?"0"+Math.round(l[3]%60):Math.round(l[3]%60)),s;return{c(){e=b("div"),s=S(t),this.h()},l(r){e=w(r,"DIV",{class:!0});var a=_(e);s=V(a,t),a.forEach(m),this.h()},h(){u(e,"class","flex flex-1 justify-end font-mono")},m(r,a){C(r,e,a),h(e,s)},p(r,a){a&8&&t!==(t=Math.floor(r[3]/60)+":"+(Math.round(r[3]%60)<10?"0"+Math.round(r[3]%60):Math.round(r[3]%60)))&&se(s,t)},d(r){r&&m(e)}}}function lt(l){let e,t,s,r,a,n,c,i,o,f,d,p,v,g,k,I,$,D,y,E,G,Y,U;s=new rt({props:{attempt:l[1]}});let M=l[0]&&Ne(l),j=l[0]&&Ce(l);return{c(){e=b("footer"),t=b("div"),X(s.$$.fragment),r=T(),a=b("div"),n=b("div"),M&&M.c(),c=T(),i=b("div"),o=b("button"),f=K("svg"),d=K("path"),p=K("path"),g=T(),k=b("button"),I=K("svg"),$=K("path"),D=K("path"),E=T(),j&&j.c(),this.h()},l(A){e=w(A,"FOOTER",{class:!0});var P=_(e);t=w(P,"DIV",{class:!0});var L=_(t);Z(s.$$.fragment,L),L.forEach(m),r=N(P),a=w(P,"DIV",{class:!0});var re=_(a);n=w(re,"DIV",{class:!0});var q=_(n);M&&M.l(q),c=N(q),i=w(q,"DIV",{class:!0});var le=_(i);o=w(le,"BUTTON",{title:!0,class:!0});var R=_(o);f=H(R,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0,xmlns:!0});var O=_(f);d=H(O,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),_(d).forEach(m),p=H(O,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),_(p).forEach(m),O.forEach(m),R.forEach(m),g=N(le),k=w(le,"BUTTON",{title:!0,class:!0});var ee=_(k);I=H(ee,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0});var Q=_(I);$=H(Q,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),_($).forEach(m),D=H(Q,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),_(D).forEach(m),Q.forEach(m),ee.forEach(m),le.forEach(m),E=N(q),j&&j.l(q),q.forEach(m),re.forEach(m),P.forEach(m),this.h()},h(){u(t,"class","border-b"),u(d,"stroke-linecap","round"),u(d,"stroke-linejoin","round"),u(d,"stroke-width","2"),u(d,"d","M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"),u(p,"stroke-linecap","round"),u(p,"stroke-linejoin","round"),u(p,"stroke-width","2"),u(p,"d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),u(f,"class","w-14 h-14 mx-auto"),u(f,"fill","none"),u(f,"stroke","currentColor"),u(f,"viewBox","0 0 24 24"),u(f,"xmlns","http://www.w3.org/2000/svg"),u(o,"title","Play Song"),u(o,"class",v=`hover:text-blue-600 transition-colors duration-200 ${l[2]?"":"hidden"}`),u($,"stroke-linecap","round"),u($,"stroke-linejoin","round"),u($,"d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),u(D,"stroke-linecap","round"),u(D,"stroke-linejoin","round"),u(D,"d","M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"),u(I,"xmlns","http://www.w3.org/2000/svg"),u(I,"class","w-14 h-14 mx-auto"),u(I,"fill","none"),u(I,"viewBox","0 0 24 24"),u(I,"stroke","currentColor"),u(I,"stroke-width","2"),u(k,"title","Pause Song"),u(k,"class",y=`hover:text-blue-600 transition-colors duration-200 ${l[2]?"hidden":""}`),u(i,"class","text-center flex-1 justify-center"),u(n,"class","flex justify-evenly items-center w-full"),u(a,"class","max-w-screen-md mx-auto p-3"),u(e,"class","border-t border-gray-500 bottom-0 w-full fixed bg-gray-800")},m(A,P){C(A,e,P),h(e,t),J(s,t,null),h(e,r),h(e,a),h(a,n),M&&M.m(n,null),h(n,c),h(n,i),h(i,o),h(o,f),h(f,d),h(f,p),h(i,g),h(i,k),h(k,I),h(I,$),h(I,D),h(n,E),j&&j.m(n,null),G=!0,Y||(U=[ae(o,"click",l[5]),ae(k,"click",l[6])],Y=!0)},p(A,[P]){const L={};P&2&&(L.attempt=A[1]),s.$set(L),A[0]?M?M.p(A,P):(M=Ne(A),M.c(),M.m(n,c)):M&&(M.d(1),M=null),(!G||P&4&&v!==(v=`hover:text-blue-600 transition-colors duration-200 ${A[2]?"":"hidden"}`))&&u(o,"class",v),(!G||P&4&&y!==(y=`hover:text-blue-600 transition-colors duration-200 ${A[2]?"hidden":""}`))&&u(k,"class",y),A[0]?j?j.p(A,P):(j=Ce(A),j.c(),j.m(n,null)):j&&(j.d(1),j=null)},i(A){G||(z(s.$$.fragment,A),G=!0)},o(A){F(s.$$.fragment,A),G=!1},d(A){A&&m(e),x(s),M&&M.d(),j&&j.d(),Y=!1,He(U)}}}function at(l,e,t){let s,r={attempts:0,guesses:[],correct:!1,date:new Date},a=!0,n=0,c="0:00",i;return pe(()=>{t(1,r=B.get()),t(0,s=new Audio(W.get().preview)),s.addEventListener("loadedmetadata",()=>t(3,n=s.duration))}),B.listen(d=>t(1,r=d)),W.listen(d=>t(0,s=new Audio(d.preview))),ce.listen(d=>t(2,a=d)),[s,r,a,n,c,()=>{ce.set(!1),s.play(),t(4,c="0:00");let d=12-r.attempts*6;const p=.08333333;switch(r.attempts){case 0:d=p;break;case 1:d=p*2;break;case 2:d=p*4;break;case 3:d=.5;break;case 4:d=.75;break;default:d=1;break}const v=r.correct?s.duration*1e3:s.duration/2*1e3*d;setTimeout(()=>{s.pause(),t(0,s.currentTime=0,s),ce.set(!0),clearInterval(i)},v),i=setInterval(()=>{t(4,c=`${Math.floor(s.currentTime/60)}:${s.currentTime%60<10?"0"+Math.round(s.currentTime%60):Math.round(s.currentTime%60)}`)},1e3)},()=>{s.pause(),t(0,s.currentTime=0,s),ce.set(!0)}]}class ot extends oe{constructor(e){super();ne(this,e,at,lt,ie,{})}}const de=l=>({name:l.name,artist:l.artists?l.artists[0].name:"unknown artist",id:l.id,preview:l.preview_url}),Ke=(l,e)=>{const t=Math.abs(l.getTime()-e.getTime());return Math.ceil(t/(1e3*60*60*24))};function nt(l){let e,t,s,r,a;const n=l[5].default,c=Ye(n,l,l[4],null);return{c(){e=b("button"),c&&c.c(),this.h()},l(i){e=w(i,"BUTTON",{title:!0,class:!0});var o=_(e);c&&c.l(o),o.forEach(m),this.h()},h(){u(e,"title",l[1]),u(e,"class",t=`p-2 text-white ${l[2]} rounded-md shadow hover:shadow-lg transition-all duration-200 ${l[0]}`)},m(i,o){C(i,e,o),c&&c.m(e,null),s=!0,r||(a=ae(e,"click",l[6]),r=!0)},p(i,[o]){c&&c.p&&(!s||o&16)&&qe(c,n,i,i[4],s?We(n,i[4],o,null):Qe(i[4]),null),(!s||o&2)&&u(e,"title",i[1]),(!s||o&5&&t!==(t=`p-2 text-white ${i[2]} rounded-md shadow hover:shadow-lg transition-all duration-200 ${i[0]}`))&&u(e,"class",t)},i(i){s||(z(c,i),s=!0)},o(i){F(c,i),s=!1},d(i){i&&m(e),c&&c.d(i),r=!1,a()}}}function it(l,e,t){let{$$slots:s={},$$scope:r}=e,{type:a}=e,{className:n=""}=e,{title:c}=e,i;switch(a){case"primary":i="bg-blue-600 hover:bg-blue-500";break;case"submit":i="bg-green-600 hover:bg-green-500";break;case"warning":i="bg-orange-600 hover:bg-orange-500";break;case"breaking":i="bg-red-600 hover:bg-red-500";break;default:i="bg-blue-600 hover:bg-blue-500";break}function o(f){Xe.call(this,l,f)}return l.$$set=f=>{"type"in f&&t(3,a=f.type),"className"in f&&t(0,n=f.className),"title"in f&&t(1,c=f.title),"$$scope"in f&&t(4,r=f.$$scope)},[n,c,i,a,r,s,o]}class me extends oe{constructor(e){super();ne(this,e,it,nt,ie,{type:3,className:0,title:1})}}function ct(l){let e,t=W.get().name+"",s,r,a=W.get().artist+"",n,c,i,o;return{c(){e=b("div"),s=S(t),r=S(" by "),n=S(a),this.h()},l(f){e=w(f,"DIV",{title:!0,class:!0});var d=_(e);s=V(d,t),r=V(d," by "),n=V(d,a),d.forEach(m),this.h()},h(){u(e,"title","Open in Spotify"),u(e,"class",c="cursor-pointer border-blue-600 border-2 h-10 p-2 my-2 w-full text-left rounded-sm bg-gray-900 overflow-ellipsis whitespace-nowrap overflow-hidden")},m(f,d){C(f,e,d),h(e,s),h(e,r),h(e,n),i||(o=ae(e,"click",l[5]),i=!0)},p:fe,d(f){f&&m(e),i=!1,o()}}}function Ae(l){let e,t,s=Ke(new Date,l[2])+"",r;return{c(){e=b("span"),t=S("audial #"),r=S(s),this.h()},l(a){e=w(a,"SPAN",{class:!0});var n=_(e);t=V(n,"audial #"),r=V(n,s),n.forEach(m),this.h()},h(){u(e,"class","my-2")},m(a,n){C(a,e,n),h(e,t),h(e,r)},p:fe,d(a){a&&m(e)}}}function Me(l){let e,t,s,r,a,n,c;return t=new me({props:{title:"Share Score",className:"block mx-auto",type:"submit",$$slots:{default:[ut]},$$scope:{ctx:l}}}),t.$on("click",l[4]),{c(){e=b("div"),X(t.$$.fragment),s=T(),r=b("p"),a=S("copied to clipboard."),this.h()},l(i){e=w(i,"DIV",{class:!0});var o=_(e);Z(t.$$.fragment,o),s=N(o),r=w(o,"P",{class:!0});var f=_(r);a=V(f,"copied to clipboard."),f.forEach(m),o.forEach(m),this.h()},h(){u(r,"class",n=`${l[1]?"opacity-100":"opacity-0"} text-blue-100 font-semibold transition-all duration-500 my-2`),u(e,"class","w-full mx-auto my-2")},m(i,o){C(i,e,o),J(t,e,null),h(e,s),h(e,r),h(r,a),c=!0},p(i,o){const f={};o&64&&(f.$$scope={dirty:o,ctx:i}),t.$set(f),(!c||o&2&&n!==(n=`${i[1]?"opacity-100":"opacity-0"} text-blue-100 font-semibold transition-all duration-500 my-2`))&&u(r,"class",n)},i(i){c||(z(t.$$.fragment,i),c=!0)},o(i){F(t.$$.fragment,i),c=!1},d(i){i&&m(e),x(t)}}}function ut(l){let e;return{c(){e=S("share")},l(t){e=V(t,"share")},m(t,s){C(t,e,s)},d(t){t&&m(e)}}}function ft(l){let e,t=!B.get().correct,s,r,a,n=l[3]()+"",c,i,o,f=t&&ct(l),d=!l[0]&&Ae(l),p=!l[0]&&Me(l);return{c(){e=b("div"),f&&f.c(),s=T(),d&&d.c(),r=T(),a=b("span"),c=S(n),i=T(),p&&p.c(),this.h()},l(v){e=w(v,"DIV",{class:!0});var g=_(e);f&&f.l(g),s=N(g),d&&d.l(g),r=N(g),a=w(g,"SPAN",{});var k=_(a);c=V(k,n),k.forEach(m),i=N(g),p&&p.l(g),g.forEach(m),this.h()},h(){u(e,"class","py-3")},m(v,g){C(v,e,g),f&&f.m(e,null),h(e,s),d&&d.m(e,null),h(e,r),h(e,a),h(a,c),h(e,i),p&&p.m(e,null),o=!0},p(v,[g]){t&&f.p(v,g),v[0]?d&&(d.d(1),d=null):d?d.p(v,g):(d=Ae(v),d.c(),d.m(e,r)),v[0]?p&&(Ge(),F(p,1,1,()=>{p=null}),Ue()):p?(p.p(v,g),g&1&&z(p,1)):(p=Me(v),p.c(),z(p,1),p.m(e,null))},i(v){o||(z(p),o=!0)},o(v){F(p),o=!1},d(v){v&&m(e),f&&f.d(),d&&d.d(),p&&p.d()}}}function dt(l,e,t){let{forceRandom:s}=e,r=!1;const a=new Date("3/29/2022"),n=()=>{let o="";for(const f of B.get().guesses||[])f.correct?o+="\u{1F7E9} ":f.artistCorrect?o+="\u{1F7E8} ":o+="\u{1F7E5} ";for(let f=0;f<6-B.get().attempts;f++)o+="\u2B1B ";return o},c=()=>{let o="audial #"+Ke(new Date,a);o+=`
`+n(),o+=`
https://audial.mogdan.xyz`,navigator.clipboard.writeText(o),t(1,r=!0)},i=()=>{window.open(`https://open.spotify.com/track/${W.get().id}`,"_blank").focus()};return l.$$set=o=>{"forceRandom"in o&&t(0,s=o.forceRandom)},[s,r,a,n,c,i]}class ht extends oe{constructor(e){super();ne(this,e,dt,ft,ie,{forceRandom:0})}}const pt=async l=>await(await fetch(`https://us-central1-audial-6e1bd.cloudfunctions.net/tracks?playlist=${l.id}`,{method:"GET"})).json(),mt=async(l,e)=>await(await fetch(`https://us-central1-audial-6e1bd.cloudfunctions.net/daily?playlist=${l.id}&random=${e}}`,{method:"GET",cache:"reload"})).json();function je(l,e,t){const s=l.slice();return s[13]=e[t],s}function Pe(l,e,t){const s=l.slice();return s[13]=e[t],s}function Le(l){let e,t,s;return{c(){e=b("div"),t=b("span"),s=S("listen to the song and try to guess it correctly. you have 6 attempts."),this.h()},l(r){e=w(r,"DIV",{class:!0});var a=_(e);t=w(a,"SPAN",{class:!0});var n=_(t);s=V(n,"listen to the song and try to guess it correctly. you have 6 attempts."),n.forEach(m),a.forEach(m),this.h()},h(){u(t,"class","text-center mx-auto w-full text-blue-100"),u(e,"class","w-full px-0 sm:px-20 transition-all duration-200")},m(r,a){C(r,e,a),h(e,t),h(t,s)},d(r){r&&m(e)}}}function Re(l){let e,t,s=l[1].guesses.filter(Oe),r=[];for(let c=0;c<s.length;c+=1)r[c]=Be(Pe(l,s,c));let a=l[1].guesses.filter(Fe),n=[];for(let c=0;c<a.length;c+=1)n[c]=ze(je(l,a,c));return{c(){for(let c=0;c<r.length;c+=1)r[c].c();e=T();for(let c=0;c<n.length;c+=1)n[c].c();t=Se()},l(c){for(let i=0;i<r.length;i+=1)r[i].l(c);e=N(c);for(let i=0;i<n.length;i+=1)n[i].l(c);t=Se()},m(c,i){for(let o=0;o<r.length;o+=1)r[o].m(c,i);C(c,e,i);for(let o=0;o<n.length;o+=1)n[o].m(c,i);C(c,t,i)},p(c,i){if(i&2){s=c[1].guesses.filter(Oe);let o;for(o=0;o<s.length;o+=1){const f=Pe(c,s,o);r[o]?r[o].p(f,i):(r[o]=Be(f),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=s.length}if(i&2){a=c[1].guesses.filter(Fe);let o;for(o=0;o<a.length;o+=1){const f=je(c,a,o);n[o]?n[o].p(f,i):(n[o]=ze(f),n[o].c(),n[o].m(t.parentNode,t))}for(;o<n.length;o+=1)n[o].d(1);n.length=a.length}},d(c){Ve(r,c),c&&m(e),Ve(n,c),c&&m(t)}}}function Be(l){let e,t=l[13].song.name+"",s,r,a=l[13].song.artist+"",n,c,i,o;function f(){return l[6](l[13])}return{c(){e=b("div"),s=S(t),r=S(" by "),n=S(a),this.h()},l(d){e=w(d,"DIV",{title:!0,class:!0});var p=_(e);s=V(p,t),r=V(p," by "),n=V(p,a),p.forEach(m),this.h()},h(){u(e,"title","Open in Spotify"),u(e,"class",c=`cursor-pointer ${l[13].artistCorrect?"border-amber-400":"border-red-600"} border-2 h-10 p-2 my-2 w-full text-left rounded-sm bg-gray-900 overflow-ellipsis whitespace-nowrap overflow-hidden`)},m(d,p){C(d,e,p),h(e,s),h(e,r),h(e,n),i||(o=ae(e,"click",f),i=!0)},p(d,p){l=d,p&2&&t!==(t=l[13].song.name+"")&&se(s,t),p&2&&a!==(a=l[13].song.artist+"")&&se(n,a),p&2&&c!==(c=`cursor-pointer ${l[13].artistCorrect?"border-amber-400":"border-red-600"} border-2 h-10 p-2 my-2 w-full text-left rounded-sm bg-gray-900 overflow-ellipsis whitespace-nowrap overflow-hidden`)&&u(e,"class",c)},d(d){d&&m(e),i=!1,o()}}}function ze(l){let e,t=l[13].song.name+"",s,r,a=l[13].song.artist+"",n,c,i,o;function f(){return l[7](l[13])}return{c(){e=b("div"),s=S(t),r=S(" by "),n=S(a),c=T(),this.h()},l(d){e=w(d,"DIV",{title:!0,class:!0});var p=_(e);s=V(p,t),r=V(p," by "),n=V(p,a),c=N(p),p.forEach(m),this.h()},h(){u(e,"title","Open in Spotify"),u(e,"class","cursor-pointer border-green-600 border-2 h-10 p-2 my-2 w-full text-left rounded-sm bg-gray-900 overflow-ellipsis whitespace-nowrap overflow-hidden")},m(d,p){C(d,e,p),h(e,s),h(e,r),h(e,n),h(e,c),i||(o=ae(e,"click",f),i=!0)},p(d,p){l=d,p&2&&t!==(t=l[13].song.name+"")&&se(s,t),p&2&&a!==(a=l[13].song.artist+"")&&se(n,a)},d(d){d&&m(e),i=!1,o()}}}function gt(l){let e,t;return e=new ht({props:{forceRandom:l[0]}}),{c(){X(e.$$.fragment)},l(s){Z(e.$$.fragment,s)},m(s,r){J(e,s,r),t=!0},p(s,r){const a={};r&1&&(a.forceRandom=s[0]),e.$set(a)},i(s){t||(z(e.$$.fragment,s),t=!0)},o(s){F(e.$$.fragment,s),t=!1},d(s){x(e,s)}}}function vt(l){let e,t,s,r,a,n,c;function i(f){l[8](f)}let o={name:"song-selection",className:"w-10/12",inputClassName:"border-gray-600 border-2 w-full h-8 px-2 py-5 rounded-sm bg-gray-900 hover:border-gray-400 focus:border-gray-400 outline-none transition-all duration-200",dropdownClassName:"p-0 bg-gray-900",placeholder:`${6-l[1].attempts} ${6-l[1].attempts!==1?"attempts":"attempt"} left`,items:l[2],minCharactersToSearch:2,searchFunction:l[5],labelFieldName:"name",valueFieldName:"id",showLoadingIndicator:!0,noInputStyles:!0,hideArrow:!0,$$slots:{loading:[wt],"no-results":[bt],item:[_t,({label:f,item:d})=>({11:f,12:d}),({label:f,item:d})=>(f?2048:0)|(d?4096:0)]},$$scope:{ctx:l}};return l[3]!==void 0&&(o.selectedItem=l[3]),t=new Ze({props:o}),Je.push(()=>xe(t,"selectedItem",i)),n=new me({props:{title:"Submit Song Guess",type:"primary",className:"w-full",$$slots:{default:[kt]},$$scope:{ctx:l}}}),n.$on("click",l[4]),{c(){e=b("div"),X(t.$$.fragment),r=T(),a=b("div"),X(n.$$.fragment),this.h()},l(f){e=w(f,"DIV",{class:!0,title:!0});var d=_(e);Z(t.$$.fragment,d),r=N(d),a=w(d,"DIV",{class:!0,title:!0});var p=_(a);Z(n.$$.fragment,p),p.forEach(m),d.forEach(m),this.h()},h(){u(a,"class","w-2/12 pl-4 mt-0.5"),u(a,"title","guess selected song"),u(e,"class","flex my-6"),u(e,"title","guess a song")},m(f,d){C(f,e,d),J(t,e,null),h(e,r),h(e,a),J(n,a,null),c=!0},p(f,d){const p={};d&2&&(p.placeholder=`${6-f[1].attempts} ${6-f[1].attempts!==1?"attempts":"attempt"} left`),d&4&&(p.items=f[2]),d&266240&&(p.$$scope={dirty:d,ctx:f}),!s&&d&8&&(s=!0,p.selectedItem=f[3],et(()=>s=!1)),t.$set(p);const v={};d&262144&&(v.$$scope={dirty:d,ctx:f}),n.$set(v)},i(f){c||(z(t.$$.fragment,f),z(n.$$.fragment,f),c=!0)},o(f){F(t.$$.fragment,f),F(n.$$.fragment,f),c=!1},d(f){f&&m(e),x(t),x(n)}}}function _t(l){let e,t,s=l[12].name+"",r,a,n=l[12].artist+"",c;return{c(){e=b("div"),t=b("span"),r=S(s),a=S(" by "),c=S(n),this.h()},l(i){e=w(i,"DIV",{slot:!0,class:!0});var o=_(e);t=w(o,"SPAN",{});var f=_(t);r=V(f,s),a=V(f," by "),c=V(f,n),f.forEach(m),o.forEach(m),this.h()},h(){u(e,"slot","item"),u(e,"class","border-2 h-10 px-2 py-3 w-full text-left rounded-sm bg-gray-900 text-white hover:text-blue-500 hover:border-blue-500 overflow-ellipsis whitespace-nowrap overflow-hidden transition-colors duration-150")},m(i,o){C(i,e,o),h(e,t),h(t,r),h(t,a),h(t,c)},p(i,o){o&4096&&s!==(s=i[12].name+"")&&se(r,s),o&4096&&n!==(n=i[12].artist+"")&&se(c,n)},d(i){i&&m(e)}}}function bt(l){let e,t,s;return{c(){e=b("div"),t=b("span"),s=S("could not find this song in our list."),this.h()},l(r){e=w(r,"DIV",{slot:!0,class:!0});var a=_(e);t=w(a,"SPAN",{});var n=_(t);s=V(n,"could not find this song in our list."),n.forEach(m),a.forEach(m),this.h()},h(){u(e,"slot","no-results"),u(e,"class","py-1")},m(r,a){C(r,e,a),h(e,t),h(t,s)},d(r){r&&m(e)}}}function wt(l){let e,t,s;return{c(){e=b("div"),t=b("span"),s=S("searching for songs..."),this.h()},l(r){e=w(r,"DIV",{slot:!0,class:!0});var a=_(e);t=w(a,"SPAN",{});var n=_(t);s=V(n,"searching for songs..."),n.forEach(m),a.forEach(m),this.h()},h(){u(e,"slot","loading"),u(e,"class","py-1")},m(r,a){C(r,e,a),h(e,t),h(t,s)},d(r){r&&m(e)}}}function kt(l){let e,t;return{c(){e=K("svg"),t=K("path"),this.h()},l(s){e=H(s,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0,"stroke-width":!0});var r=_(e);t=H(r,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),_(t).forEach(m),r.forEach(m),this.h()},h(){u(t,"stroke-linecap","round"),u(t,"stroke-linejoin","round"),u(t,"d","M13 7l5 5m0 0l-5 5m5-5H6"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"class","h-6 w-6 mx-auto"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke","currentColor"),u(e,"stroke-width","2")},m(s,r){C(s,e,r),h(e,t)},d(s){s&&m(e)}}}function $t(l){let e,t,s,r,a,n,c,i=l[1].attempts===0&&Le(),o=l[1].guesses&&Re(l);const f=[vt,gt],d=[];function p(v,g){return v[1].attempts<6&&!v[1].correct?0:1}return a=p(l),n=d[a]=f[a](l),{c(){e=b("div"),i&&i.c(),t=T(),s=b("div"),o&&o.c(),r=T(),n.c(),this.h()},l(v){e=w(v,"DIV",{});var g=_(e);i&&i.l(g),t=N(g),s=w(g,"DIV",{class:!0});var k=_(s);o&&o.l(k),r=N(k),n.l(k),k.forEach(m),g.forEach(m),this.h()},h(){u(s,"class","w-full px-0 transition-all sm:px-20 items-center game")},m(v,g){C(v,e,g),i&&i.m(e,null),h(e,t),h(e,s),o&&o.m(s,null),h(s,r),d[a].m(s,null),c=!0},p(v,[g]){v[1].attempts===0?i||(i=Le(),i.c(),i.m(e,t)):i&&(i.d(1),i=null),v[1].guesses?o?o.p(v,g):(o=Re(v),o.c(),o.m(s,r)):o&&(o.d(1),o=null);let k=a;a=p(v),a===k?d[a].p(v,g):(Ge(),F(d[k],1,1,()=>{d[k]=null}),Ue(),n=d[a],n?n.p(v,g):(n=d[a]=f[a](v),n.c()),z(n,1),n.m(s,null))},i(v){c||(z(n),c=!0)},o(v){F(n),c=!1},d(v){v&&m(e),i&&i.d(),o&&o.d(),d[a].d()}}}const Oe=l=>!l.correct,Fe=l=>l.correct;function yt(l,e,t){let s=!1,r={},a={},n=[];pe(async()=>{a.id=new URL(window.location.href).searchParams.get("playlist")||"5LQuCyn8AhcHpl31DgLaxL",t(0,s=new URL(window.location.href).searchParams.get("random")==="true"||!1),n=await pt(a);const g=await mt(a,s);if(new Date(B.get().date)!==new Date||s){const k=de(g);B.set({guesses:[],date:new Date,correct:!1,attempts:0}),W.set(k)}t(1,r=B.get())}),B.listen(g=>t(1,r=g));let c=[],i={};const o=()=>{if(!i)return;const g=[...r.guesses||[]];if(i.id===W.get().id)g.push({song:W.get(),correct:!0,artistCorrect:!0}),B.setKey("guesses",g),B.setKey("correct",!0),B.setKey("attempts",r.attempts+1);else{const k=n.find(I=>I.id==i.id);g.push({song:de(k),correct:!1,artistCorrect:i.artist.includes(W.get().artist)}),B.setKey("guesses",g),B.setKey("attempts",r.attempts+1)}t(3,i=void 0),ce.set(!0)},f=async g=>(t(2,c=n.filter(k=>(k.name+" "+k.artists[0].name).toLowerCase().includes(g.toLowerCase()))),t(2,c=c.map(k=>de(k))),c),d=g=>{window.open(`https://open.spotify.com/track/${g.song.id}`,"_blank").focus()},p=g=>{window.open(`https://open.spotify.com/track/${g.song.id}`,"_blank").focus()};function v(g){i=g,t(3,i)}return[s,r,c,i,o,f,d,p,v]}class Et extends oe{constructor(e){super();ne(this,e,yt,$t,ie,{})}}function It(l){let e;return{c(){e=S("sounds cool")},l(t){e=V(t,"sounds cool")},m(t,s){C(t,e,s)},d(t){t&&m(e)}}}function Dt(l){let e,t,s,r,a,n,c,i,o,f,d,p,v,g,k,I,$,D,y,E,G,Y,U,M,j,A,P,L,re,q,le;return L=new me({props:{title:"Close Popup",className:"mx-auto text-center block",type:"primary",$$slots:{default:[It]},$$scope:{ctx:l}}}),L.$on("click",l[2]),{c(){e=b("div"),t=b("div"),s=T(),r=b("div"),a=b("div"),n=b("h1"),c=S("Instructions"),i=T(),o=b("div"),f=b("ul"),d=b("li"),p=b("span"),v=S("press the play button"),g=T(),k=b("li"),I=b("span"),$=S("listen to the song snippet"),D=T(),y=b("li"),E=b("span"),G=S("type the name of the song or song artist into the box"),Y=T(),U=b("li"),M=b("span"),j=S("if you get the song incorrect or press skip, more of the song will be revealed"),A=T(),P=b("div"),X(L.$$.fragment),this.h()},l(R){e=w(R,"DIV",{});var O=_(e);t=w(O,"DIV",{class:!0}),_(t).forEach(m),s=N(O),r=w(O,"DIV",{class:!0});var ee=_(r);a=w(ee,"DIV",{class:!0});var Q=_(a);n=w(Q,"H1",{class:!0});var ge=_(n);c=V(ge,"Instructions"),ge.forEach(m),i=N(Q),o=w(Q,"DIV",{class:!0});var ve=_(o);f=w(ve,"UL",{class:!0});var te=_(f);d=w(te,"LI",{});var _e=_(d);p=w(_e,"SPAN",{});var be=_(p);v=V(be,"press the play button"),be.forEach(m),_e.forEach(m),g=N(te),k=w(te,"LI",{});var we=_(k);I=w(we,"SPAN",{});var ke=_(I);$=V(ke,"listen to the song snippet"),ke.forEach(m),we.forEach(m),D=N(te),y=w(te,"LI",{});var $e=_(y);E=w($e,"SPAN",{});var ye=_(E);G=V(ye,"type the name of the song or song artist into the box"),ye.forEach(m),$e.forEach(m),Y=N(te),U=w(te,"LI",{});var Ee=_(U);M=w(Ee,"SPAN",{});var Ie=_(M);j=V(Ie,"if you get the song incorrect or press skip, more of the song will be revealed"),Ie.forEach(m),Ee.forEach(m),te.forEach(m),ve.forEach(m),A=N(Q),P=w(Q,"DIV",{class:!0});var De=_(P);Z(L.$$.fragment,De),De.forEach(m),Q.forEach(m),ee.forEach(m),O.forEach(m),this.h()},h(){u(t,"class","flex overflow-y-auto overflow-x-hidden fixed absolute right-0 left-0 z-40 justify-center items-center h-modal md:h-full md:inset-0 bg-black opacity-50"),u(n,"class","text-3xl mx-auto text-center"),u(f,"class","text-left"),u(o,"class","p-4"),u(P,"class","w-full"),u(a,"class","relative rounded-lg mt-6 bg-gray-700 p-3 opacity-100 shadow"),u(r,"class","relative px-4 w-full max-w-2xl h-full md:h-auto mx-auto z-50"),Te(e,"hidden",l[0])},m(R,O){C(R,e,O),h(e,t),h(e,s),h(e,r),h(r,a),h(a,n),h(n,c),h(a,i),h(a,o),h(o,f),h(f,d),h(d,p),h(p,v),h(f,g),h(f,k),h(k,I),h(I,$),h(f,D),h(f,y),h(y,E),h(E,G),h(f,Y),h(f,U),h(U,M),h(M,j),h(a,A),h(a,P),J(L,P,null),re=!0,q||(le=ae(t,"click",l[1]),q=!0)},p(R,[O]){const ee={};O&8&&(ee.$$scope={dirty:O,ctx:R}),L.$set(ee),O&1&&Te(e,"hidden",R[0])},i(R){re||(z(L.$$.fragment,R),re=!0)},o(R){F(L.$$.fragment,R),re=!1},d(R){R&&m(e),x(L),q=!1,le()}}}function St(l,e,t){let{hidden:s=!0}=e;const r=()=>t(0,s=!0),a=()=>{t(0,s=!0),he.set(!0)};return l.$$set=n=>{"hidden"in n&&t(0,s=n.hidden)},[s,r,a]}class Vt extends oe{constructor(e){super();ne(this,e,St,Dt,ie,{hidden:0})}}function Tt(l){let e,t,s,r,a,n,c,i,o,f,d,p,v,g,k,I;return t=new Vt({props:{hidden:l[1]}}),n=new Et({}),o=new ot({}),{c(){e=b("div"),X(t.$$.fragment),s=T(),r=b("div"),a=b("div"),X(n.$$.fragment),i=T(),X(o.$$.fragment),f=T(),d=b("div"),p=K("svg"),v=K("circle"),g=K("animateTransform"),this.h()},l($){e=w($,"DIV",{});var D=_(e);Z(t.$$.fragment,D),s=N(D),r=w(D,"DIV",{class:!0});var y=_(r);a=w(y,"DIV",{class:!0});var E=_(a);Z(n.$$.fragment,E),E.forEach(m),y.forEach(m),i=N(D),Z(o.$$.fragment,D),f=N(D),d=w(D,"DIV",{class:!0});var G=_(d);p=H(G,"svg",{xmlns:!0,style:!0,width:!0,height:!0,viewBox:!0,preserveAspectRatio:!0});var Y=_(p);v=H(Y,"circle",{cx:!0,cy:!0,fill:!0,stroke:!0,"stroke-width":!0,r:!0,"stroke-dasharray":!0});var U=_(v);g=H(U,"animateTransform",{attributeName:!0,type:!0,repeatCount:!0,dur:!0,values:!0,keyTimes:!0}),_(g).forEach(m),U.forEach(m),Y.forEach(m),G.forEach(m),D.forEach(m),this.h()},h(){u(a,"class",c=`text-center p-3 ${!l[1]||l[0]?"hidden":""}`),u(r,"class","max-w-screen-md mx-auto"),u(g,"attributeName","transform"),u(g,"type","rotate"),u(g,"repeatCount","indefinite"),u(g,"dur","0.9345794392523364s"),u(g,"values","0 50 50;360 50 50"),u(g,"keyTimes","0;1"),u(v,"cx","50"),u(v,"cy","50"),u(v,"fill","none"),u(v,"stroke","currentColor"),u(v,"stroke-width","7"),u(v,"r","38"),u(v,"stroke-dasharray","179.0707812546182 61.690260418206066"),u(p,"xmlns","http://www.w3.org/2000/svg"),ue(p,"margin","auto"),ue(p,"background","transparent"),ue(p,"display","block"),ue(p,"shape-rendering","auto"),u(p,"width","100px"),u(p,"height","100px"),u(p,"viewBox","0 0 100 100"),u(p,"preserveAspectRatio","xMidYMid"),u(d,"class",k=`w-full mx-auto text-center mt-20 text-blue-600 ${l[0]?"":"hidden"}`)},m($,D){C($,e,D),J(t,e,null),h(e,s),h(e,r),h(r,a),J(n,a,null),h(e,i),J(o,e,null),h(e,f),h(e,d),h(d,p),h(p,v),h(v,g),I=!0},p($,[D]){const y={};D&2&&(y.hidden=$[1]),t.$set(y),(!I||D&3&&c!==(c=`text-center p-3 ${!$[1]||$[0]?"hidden":""}`))&&u(a,"class",c),(!I||D&1&&k!==(k=`w-full mx-auto text-center mt-20 text-blue-600 ${$[0]?"":"hidden"}`))&&u(d,"class",k)},i($){I||(z(t.$$.fragment,$),z(n.$$.fragment,$),z(o.$$.fragment,$),I=!0)},o($){F(t.$$.fragment,$),F(n.$$.fragment,$),F(o.$$.fragment,$),I=!1},d($){$&&m(e),x(t),x(n),x(o)}}}function Nt(l,e,t){let s=!0,r;return pe(()=>{t(1,r=he.get()),B.listen(a=>{a.date&&t(0,s=!1)}),he.listen(a=>t(1,r=a))}),[s,r]}class Mt extends oe{constructor(e){super();ne(this,e,Nt,Tt,ie,{})}}export{Mt as default};
