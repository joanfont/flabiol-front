import{S as G,i as M,s as q,e as v,w,k as y,c as $,a as p,x as I,d as u,m as b,b as l,g as k,I as _,y as R,q as d,o as h,B as x,G as S,H as T,f as g,p as A,v as C,n as F}from"../chunks/index-cbeb82b8.js";import{I as H,g as L,G as P,F as U}from"../chunks/spotify-1d2ac242.js";import{r as D,c as Y}from"../chunks/store-2c78cdb7.js";import{c as j}from"../chunks/util-9cdfb41e.js";import"../chunks/SvelteToast.svelte_svelte_type_style_lang-bf33fd6b.js";import"../chunks/index-2f4404a6.js";function V(f){let r,t,n,c,i,s,a;return n=new P({props:{custom:!1,forceRandom:f[3],allTracks:f[2]}}),s=new U({props:{custom:f[3]}}),{c(){r=v("div"),t=v("div"),w(n.$$.fragment),i=y(),w(s.$$.fragment),this.h()},l(e){r=$(e,"DIV",{class:!0});var o=p(r);t=$(o,"DIV",{class:!0});var m=p(t);I(n.$$.fragment,m),m.forEach(u),o.forEach(u),i=b(e),I(s.$$.fragment,e),this.h()},h(){l(t,"class",c=`text-center p-3 ${f[1]?"":"hidden"}`),l(r,"class","max-w-screen-md mx-auto")},m(e,o){k(e,r,o),_(r,t),R(n,t,null),k(e,i,o),R(s,e,o),a=!0},p(e,o){const m={};o&8&&(m.forceRandom=e[3]),o&4&&(m.allTracks=e[2]),n.$set(m),(!a||o&2&&c!==(c=`text-center p-3 ${e[1]?"":"hidden"}`))&&l(t,"class",c);const E={};o&8&&(E.custom=e[3]),s.$set(E)},i(e){a||(d(n.$$.fragment,e),d(s.$$.fragment,e),a=!0)},o(e){h(n.$$.fragment,e),h(s.$$.fragment,e),a=!1},d(e){e&&u(r),x(n),e&&u(i),x(s,e)}}}function B(f){let r,t,n,c;return{c(){r=v("div"),t=S("svg"),n=S("circle"),this.h()},l(i){r=$(i,"DIV",{class:!0});var s=p(r);t=T(s,"svg",{xmlns:!0,class:!0,style:!0,width:!0,height:!0,viewBox:!0,preserveAspectRatio:!0});var a=p(t);n=T(a,"circle",{cx:!0,cy:!0,fill:!0,stroke:!0,"stroke-width":!0,r:!0,"stroke-dasharray":!0}),p(n).forEach(u),a.forEach(u),s.forEach(u),this.h()},h(){l(n,"cx","50"),l(n,"cy","50"),l(n,"fill","none"),l(n,"stroke","currentColor"),l(n,"stroke-width","7"),l(n,"r","38"),l(n,"stroke-dasharray","179.0707812546182 61.690260418206066"),l(t,"xmlns","http://www.w3.org/2000/svg"),l(t,"class","animate-spin"),g(t,"margin","auto"),g(t,"background","transparent"),g(t,"display","block"),g(t,"shape-rendering","auto"),l(t,"width","100px"),l(t,"height","100px"),l(t,"viewBox","0 0 100 100"),l(t,"preserveAspectRatio","xMidYMid"),l(r,"class",c="w-full mx-auto text-center mt-20 text-blue-600")},m(i,s){k(i,r,s),_(r,t),_(t,n)},d(i){i&&u(r)}}}function z(f){let r,t,n,c,i;t=new H({props:{hidden:f[1]}});let s=!f[0]&&V(f),a=f[0]&&B();return{c(){r=v("div"),w(t.$$.fragment),n=y(),s&&s.c(),c=y(),a&&a.c()},l(e){r=$(e,"DIV",{});var o=p(r);I(t.$$.fragment,o),n=b(o),s&&s.l(o),c=b(o),a&&a.l(o),o.forEach(u)},m(e,o){k(e,r,o),R(t,r,null),_(r,n),s&&s.m(r,null),_(r,c),a&&a.m(r,null),i=!0},p(e,[o]){const m={};o&2&&(m.hidden=e[1]),t.$set(m),e[0]?s&&(F(),h(s,1,1,()=>{s=null}),A()):s?(s.p(e,o),o&1&&d(s,1)):(s=V(e),s.c(),d(s,1),s.m(r,c)),e[0]?a||(a=B(),a.c(),a.m(r,null)):a&&(a.d(1),a=null)},i(e){i||(d(t.$$.fragment,e),d(s),i=!0)},o(e){h(t.$$.fragment,e),h(s),i=!1},d(e){e&&u(r),x(t),s&&s.d(),a&&a.d()}}}function J(f,r,t){let n=!0,c,i,s,a;return C(async()=>{t(1,c=D.get()),t(3,a=new URL(window.location.href).searchParams.get("random")==="true"||!1);const e=await L("",a);s=e.daily,t(2,i=e.tracks);const o=j(s);Y.set(o),t(0,n=!1)}),D.listen(e=>{t(1,c=e)}),[n,c,i,a]}class Z extends G{constructor(r){super(),M(this,r,J,z,q,{})}}export{Z as default};
